(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))s(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&s(d)}).observe(document,{childList:!0,subtree:!0});function n(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function s(l){if(l.ep)return;l.ep=!0;const c=n(l);fetch(l.href,c)}})();var hd={exports:{}},al={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var n_;function PA(){if(n_)return al;n_=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(s,l,c){var d=null;if(c!==void 0&&(d=""+c),l.key!==void 0&&(d=""+l.key),"key"in l){c={};for(var g in l)g!=="key"&&(c[g]=l[g])}else c=l;return l=c.ref,{$$typeof:r,type:s,key:d,ref:l!==void 0?l:null,props:c}}return al.Fragment=t,al.jsx=n,al.jsxs=n,al}var i_;function kA(){return i_||(i_=1,hd.exports=PA()),hd.exports}var it=kA(),fd={exports:{}},bt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r_;function UA(){if(r_)return bt;r_=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),I=Symbol.iterator;function O(C){return C===null||typeof C!="object"?null:(C=I&&C[I]||C["@@iterator"],typeof C=="function"?C:null)}var H={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},X=Object.assign,nt={};function Z(C,K,et){this.props=C,this.context=K,this.refs=nt,this.updater=et||H}Z.prototype.isReactComponent={},Z.prototype.setState=function(C,K){if(typeof C!="object"&&typeof C!="function"&&C!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,C,K,"setState")},Z.prototype.forceUpdate=function(C){this.updater.enqueueForceUpdate(this,C,"forceUpdate")};function Tt(){}Tt.prototype=Z.prototype;function ct(C,K,et){this.props=C,this.context=K,this.refs=nt,this.updater=et||H}var lt=ct.prototype=new Tt;lt.constructor=ct,X(lt,Z.prototype),lt.isPureReactComponent=!0;var St=Array.isArray,vt={H:null,A:null,T:null,S:null,V:null},Dt=Object.prototype.hasOwnProperty;function M(C,K,et,J,ut,wt){return et=wt.ref,{$$typeof:r,type:C,key:K,ref:et!==void 0?et:null,props:wt}}function S(C,K){return M(C.type,K,void 0,void 0,void 0,C.props)}function w(C){return typeof C=="object"&&C!==null&&C.$$typeof===r}function N(C){var K={"=":"=0",":":"=2"};return"$"+C.replace(/[=:]/g,function(et){return K[et]})}var x=/\/+/g;function P(C,K){return typeof C=="object"&&C!==null&&C.key!=null?N(""+C.key):K.toString(36)}function R(){}function me(C){switch(C.status){case"fulfilled":return C.value;case"rejected":throw C.reason;default:switch(typeof C.status=="string"?C.then(R,R):(C.status="pending",C.then(function(K){C.status==="pending"&&(C.status="fulfilled",C.value=K)},function(K){C.status==="pending"&&(C.status="rejected",C.reason=K)})),C.status){case"fulfilled":return C.value;case"rejected":throw C.reason}}throw C}function te(C,K,et,J,ut){var wt=typeof C;(wt==="undefined"||wt==="boolean")&&(C=null);var pt=!1;if(C===null)pt=!0;else switch(wt){case"bigint":case"string":case"number":pt=!0;break;case"object":switch(C.$$typeof){case r:case t:pt=!0;break;case A:return pt=C._init,te(pt(C._payload),K,et,J,ut)}}if(pt)return ut=ut(C),pt=J===""?"."+P(C,0):J,St(ut)?(et="",pt!=null&&(et=pt.replace(x,"$&/")+"/"),te(ut,K,et,"",function(on){return on})):ut!=null&&(w(ut)&&(ut=S(ut,et+(ut.key==null||C&&C.key===ut.key?"":(""+ut.key).replace(x,"$&/")+"/")+pt)),K.push(ut)),1;pt=0;var ge=J===""?".":J+":";if(St(C))for(var Yt=0;Yt<C.length;Yt++)J=C[Yt],wt=ge+P(J,Yt),pt+=te(J,K,et,wt,ut);else if(Yt=O(C),typeof Yt=="function")for(C=Yt.call(C),Yt=0;!(J=C.next()).done;)J=J.value,wt=ge+P(J,Yt++),pt+=te(J,K,et,wt,ut);else if(wt==="object"){if(typeof C.then=="function")return te(me(C),K,et,J,ut);throw K=String(C),Error("Objects are not valid as a React child (found: "+(K==="[object Object]"?"object with keys {"+Object.keys(C).join(", ")+"}":K)+"). If you meant to render a collection of children, use an array instead.")}return pt}function q(C,K,et){if(C==null)return C;var J=[],ut=0;return te(C,J,"","",function(wt){return K.call(et,wt,ut++)}),J}function tt(C){if(C._status===-1){var K=C._result;K=K(),K.then(function(et){(C._status===0||C._status===-1)&&(C._status=1,C._result=et)},function(et){(C._status===0||C._status===-1)&&(C._status=2,C._result=et)}),C._status===-1&&(C._status=0,C._result=K)}if(C._status===1)return C._result.default;throw C._result}var at=typeof reportError=="function"?reportError:function(C){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var K=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof C=="object"&&C!==null&&typeof C.message=="string"?String(C.message):String(C),error:C});if(!window.dispatchEvent(K))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",C);return}console.error(C)};function Lt(){}return bt.Children={map:q,forEach:function(C,K,et){q(C,function(){K.apply(this,arguments)},et)},count:function(C){var K=0;return q(C,function(){K++}),K},toArray:function(C){return q(C,function(K){return K})||[]},only:function(C){if(!w(C))throw Error("React.Children.only expected to receive a single React element child.");return C}},bt.Component=Z,bt.Fragment=n,bt.Profiler=l,bt.PureComponent=ct,bt.StrictMode=s,bt.Suspense=p,bt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=vt,bt.__COMPILER_RUNTIME={__proto__:null,c:function(C){return vt.H.useMemoCache(C)}},bt.cache=function(C){return function(){return C.apply(null,arguments)}},bt.cloneElement=function(C,K,et){if(C==null)throw Error("The argument must be a React element, but you passed "+C+".");var J=X({},C.props),ut=C.key,wt=void 0;if(K!=null)for(pt in K.ref!==void 0&&(wt=void 0),K.key!==void 0&&(ut=""+K.key),K)!Dt.call(K,pt)||pt==="key"||pt==="__self"||pt==="__source"||pt==="ref"&&K.ref===void 0||(J[pt]=K[pt]);var pt=arguments.length-2;if(pt===1)J.children=et;else if(1<pt){for(var ge=Array(pt),Yt=0;Yt<pt;Yt++)ge[Yt]=arguments[Yt+2];J.children=ge}return M(C.type,ut,void 0,void 0,wt,J)},bt.createContext=function(C){return C={$$typeof:d,_currentValue:C,_currentValue2:C,_threadCount:0,Provider:null,Consumer:null},C.Provider=C,C.Consumer={$$typeof:c,_context:C},C},bt.createElement=function(C,K,et){var J,ut={},wt=null;if(K!=null)for(J in K.key!==void 0&&(wt=""+K.key),K)Dt.call(K,J)&&J!=="key"&&J!=="__self"&&J!=="__source"&&(ut[J]=K[J]);var pt=arguments.length-2;if(pt===1)ut.children=et;else if(1<pt){for(var ge=Array(pt),Yt=0;Yt<pt;Yt++)ge[Yt]=arguments[Yt+2];ut.children=ge}if(C&&C.defaultProps)for(J in pt=C.defaultProps,pt)ut[J]===void 0&&(ut[J]=pt[J]);return M(C,wt,void 0,void 0,null,ut)},bt.createRef=function(){return{current:null}},bt.forwardRef=function(C){return{$$typeof:g,render:C}},bt.isValidElement=w,bt.lazy=function(C){return{$$typeof:A,_payload:{_status:-1,_result:C},_init:tt}},bt.memo=function(C,K){return{$$typeof:_,type:C,compare:K===void 0?null:K}},bt.startTransition=function(C){var K=vt.T,et={};vt.T=et;try{var J=C(),ut=vt.S;ut!==null&&ut(et,J),typeof J=="object"&&J!==null&&typeof J.then=="function"&&J.then(Lt,at)}catch(wt){at(wt)}finally{vt.T=K}},bt.unstable_useCacheRefresh=function(){return vt.H.useCacheRefresh()},bt.use=function(C){return vt.H.use(C)},bt.useActionState=function(C,K,et){return vt.H.useActionState(C,K,et)},bt.useCallback=function(C,K){return vt.H.useCallback(C,K)},bt.useContext=function(C){return vt.H.useContext(C)},bt.useDebugValue=function(){},bt.useDeferredValue=function(C,K){return vt.H.useDeferredValue(C,K)},bt.useEffect=function(C,K,et){var J=vt.H;if(typeof et=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return J.useEffect(C,K)},bt.useId=function(){return vt.H.useId()},bt.useImperativeHandle=function(C,K,et){return vt.H.useImperativeHandle(C,K,et)},bt.useInsertionEffect=function(C,K){return vt.H.useInsertionEffect(C,K)},bt.useLayoutEffect=function(C,K){return vt.H.useLayoutEffect(C,K)},bt.useMemo=function(C,K){return vt.H.useMemo(C,K)},bt.useOptimistic=function(C,K){return vt.H.useOptimistic(C,K)},bt.useReducer=function(C,K,et){return vt.H.useReducer(C,K,et)},bt.useRef=function(C){return vt.H.useRef(C)},bt.useState=function(C){return vt.H.useState(C)},bt.useSyncExternalStore=function(C,K,et){return vt.H.useSyncExternalStore(C,K,et)},bt.useTransition=function(){return vt.H.useTransition()},bt.version="19.1.0",bt}var s_;function tm(){return s_||(s_=1,fd.exports=UA()),fd.exports}var ie=tm(),dd={exports:{}},ol={},md={exports:{}},gd={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var a_;function LA(){return a_||(a_=1,function(r){function t(q,tt){var at=q.length;q.push(tt);t:for(;0<at;){var Lt=at-1>>>1,C=q[Lt];if(0<l(C,tt))q[Lt]=tt,q[at]=C,at=Lt;else break t}}function n(q){return q.length===0?null:q[0]}function s(q){if(q.length===0)return null;var tt=q[0],at=q.pop();if(at!==tt){q[0]=at;t:for(var Lt=0,C=q.length,K=C>>>1;Lt<K;){var et=2*(Lt+1)-1,J=q[et],ut=et+1,wt=q[ut];if(0>l(J,at))ut<C&&0>l(wt,J)?(q[Lt]=wt,q[ut]=at,Lt=ut):(q[Lt]=J,q[et]=at,Lt=et);else if(ut<C&&0>l(wt,at))q[Lt]=wt,q[ut]=at,Lt=ut;else break t}}return tt}function l(q,tt){var at=q.sortIndex-tt.sortIndex;return at!==0?at:q.id-tt.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;r.unstable_now=function(){return c.now()}}else{var d=Date,g=d.now();r.unstable_now=function(){return d.now()-g}}var p=[],_=[],A=1,I=null,O=3,H=!1,X=!1,nt=!1,Z=!1,Tt=typeof setTimeout=="function"?setTimeout:null,ct=typeof clearTimeout=="function"?clearTimeout:null,lt=typeof setImmediate<"u"?setImmediate:null;function St(q){for(var tt=n(_);tt!==null;){if(tt.callback===null)s(_);else if(tt.startTime<=q)s(_),tt.sortIndex=tt.expirationTime,t(p,tt);else break;tt=n(_)}}function vt(q){if(nt=!1,St(q),!X)if(n(p)!==null)X=!0,Dt||(Dt=!0,P());else{var tt=n(_);tt!==null&&te(vt,tt.startTime-q)}}var Dt=!1,M=-1,S=5,w=-1;function N(){return Z?!0:!(r.unstable_now()-w<S)}function x(){if(Z=!1,Dt){var q=r.unstable_now();w=q;var tt=!0;try{t:{X=!1,nt&&(nt=!1,ct(M),M=-1),H=!0;var at=O;try{e:{for(St(q),I=n(p);I!==null&&!(I.expirationTime>q&&N());){var Lt=I.callback;if(typeof Lt=="function"){I.callback=null,O=I.priorityLevel;var C=Lt(I.expirationTime<=q);if(q=r.unstable_now(),typeof C=="function"){I.callback=C,St(q),tt=!0;break e}I===n(p)&&s(p),St(q)}else s(p);I=n(p)}if(I!==null)tt=!0;else{var K=n(_);K!==null&&te(vt,K.startTime-q),tt=!1}}break t}finally{I=null,O=at,H=!1}tt=void 0}}finally{tt?P():Dt=!1}}}var P;if(typeof lt=="function")P=function(){lt(x)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,me=R.port2;R.port1.onmessage=x,P=function(){me.postMessage(null)}}else P=function(){Tt(x,0)};function te(q,tt){M=Tt(function(){q(r.unstable_now())},tt)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(q){q.callback=null},r.unstable_forceFrameRate=function(q){0>q||125<q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<q?Math.floor(1e3/q):5},r.unstable_getCurrentPriorityLevel=function(){return O},r.unstable_next=function(q){switch(O){case 1:case 2:case 3:var tt=3;break;default:tt=O}var at=O;O=tt;try{return q()}finally{O=at}},r.unstable_requestPaint=function(){Z=!0},r.unstable_runWithPriority=function(q,tt){switch(q){case 1:case 2:case 3:case 4:case 5:break;default:q=3}var at=O;O=q;try{return tt()}finally{O=at}},r.unstable_scheduleCallback=function(q,tt,at){var Lt=r.unstable_now();switch(typeof at=="object"&&at!==null?(at=at.delay,at=typeof at=="number"&&0<at?Lt+at:Lt):at=Lt,q){case 1:var C=-1;break;case 2:C=250;break;case 5:C=1073741823;break;case 4:C=1e4;break;default:C=5e3}return C=at+C,q={id:A++,callback:tt,priorityLevel:q,startTime:at,expirationTime:C,sortIndex:-1},at>Lt?(q.sortIndex=at,t(_,q),n(p)===null&&q===n(_)&&(nt?(ct(M),M=-1):nt=!0,te(vt,at-Lt))):(q.sortIndex=C,t(p,q),X||H||(X=!0,Dt||(Dt=!0,P()))),q},r.unstable_shouldYield=N,r.unstable_wrapCallback=function(q){var tt=O;return function(){var at=O;O=tt;try{return q.apply(this,arguments)}finally{O=at}}}}(gd)),gd}var o_;function zA(){return o_||(o_=1,md.exports=LA()),md.exports}var pd={exports:{}},Qe={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var l_;function BA(){if(l_)return Qe;l_=1;var r=tm();function t(p){var _="https://react.dev/errors/"+p;if(1<arguments.length){_+="?args[]="+encodeURIComponent(arguments[1]);for(var A=2;A<arguments.length;A++)_+="&args[]="+encodeURIComponent(arguments[A])}return"Minified React error #"+p+"; visit "+_+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},l=Symbol.for("react.portal");function c(p,_,A){var I=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:I==null?null:""+I,children:p,containerInfo:_,implementation:A}}var d=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(p,_){if(p==="font")return"";if(typeof _=="string")return _==="use-credentials"?_:""}return Qe.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Qe.createPortal=function(p,_){var A=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_||_.nodeType!==1&&_.nodeType!==9&&_.nodeType!==11)throw Error(t(299));return c(p,_,null,A)},Qe.flushSync=function(p){var _=d.T,A=s.p;try{if(d.T=null,s.p=2,p)return p()}finally{d.T=_,s.p=A,s.d.f()}},Qe.preconnect=function(p,_){typeof p=="string"&&(_?(_=_.crossOrigin,_=typeof _=="string"?_==="use-credentials"?_:"":void 0):_=null,s.d.C(p,_))},Qe.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},Qe.preinit=function(p,_){if(typeof p=="string"&&_&&typeof _.as=="string"){var A=_.as,I=g(A,_.crossOrigin),O=typeof _.integrity=="string"?_.integrity:void 0,H=typeof _.fetchPriority=="string"?_.fetchPriority:void 0;A==="style"?s.d.S(p,typeof _.precedence=="string"?_.precedence:void 0,{crossOrigin:I,integrity:O,fetchPriority:H}):A==="script"&&s.d.X(p,{crossOrigin:I,integrity:O,fetchPriority:H,nonce:typeof _.nonce=="string"?_.nonce:void 0})}},Qe.preinitModule=function(p,_){if(typeof p=="string")if(typeof _=="object"&&_!==null){if(_.as==null||_.as==="script"){var A=g(_.as,_.crossOrigin);s.d.M(p,{crossOrigin:A,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0})}}else _==null&&s.d.M(p)},Qe.preload=function(p,_){if(typeof p=="string"&&typeof _=="object"&&_!==null&&typeof _.as=="string"){var A=_.as,I=g(A,_.crossOrigin);s.d.L(p,A,{crossOrigin:I,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0,type:typeof _.type=="string"?_.type:void 0,fetchPriority:typeof _.fetchPriority=="string"?_.fetchPriority:void 0,referrerPolicy:typeof _.referrerPolicy=="string"?_.referrerPolicy:void 0,imageSrcSet:typeof _.imageSrcSet=="string"?_.imageSrcSet:void 0,imageSizes:typeof _.imageSizes=="string"?_.imageSizes:void 0,media:typeof _.media=="string"?_.media:void 0})}},Qe.preloadModule=function(p,_){if(typeof p=="string")if(_){var A=g(_.as,_.crossOrigin);s.d.m(p,{as:typeof _.as=="string"&&_.as!=="script"?_.as:void 0,crossOrigin:A,integrity:typeof _.integrity=="string"?_.integrity:void 0})}else s.d.m(p)},Qe.requestFormReset=function(p){s.d.r(p)},Qe.unstable_batchedUpdates=function(p,_){return p(_)},Qe.useFormState=function(p,_,A){return d.H.useFormState(p,_,A)},Qe.useFormStatus=function(){return d.H.useHostTransitionStatus()},Qe.version="19.1.0",Qe}var u_;function jA(){if(u_)return pd.exports;u_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),pd.exports=BA(),pd.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var c_;function qA(){if(c_)return ol;c_=1;var r=zA(),t=tm(),n=jA();function s(e){var i="https://react.dev/errors/"+e;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function c(e){var i=e,a=e;if(e.alternate)for(;i.return;)i=i.return;else{e=i;do i=e,(i.flags&4098)!==0&&(a=i.return),e=i.return;while(e)}return i.tag===3?a:null}function d(e){if(e.tag===13){var i=e.memoizedState;if(i===null&&(e=e.alternate,e!==null&&(i=e.memoizedState)),i!==null)return i.dehydrated}return null}function g(e){if(c(e)!==e)throw Error(s(188))}function p(e){var i=e.alternate;if(!i){if(i=c(e),i===null)throw Error(s(188));return i!==e?null:e}for(var a=e,o=i;;){var h=a.return;if(h===null)break;var f=h.alternate;if(f===null){if(o=h.return,o!==null){a=o;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===a)return g(h),e;if(f===o)return g(h),i;f=f.sibling}throw Error(s(188))}if(a.return!==o.return)a=h,o=f;else{for(var v=!1,E=h.child;E;){if(E===a){v=!0,a=h,o=f;break}if(E===o){v=!0,o=h,a=f;break}E=E.sibling}if(!v){for(E=f.child;E;){if(E===a){v=!0,a=f,o=h;break}if(E===o){v=!0,o=f,a=h;break}E=E.sibling}if(!v)throw Error(s(189))}}if(a.alternate!==o)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?e:i}function _(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e;for(e=e.child;e!==null;){if(i=_(e),i!==null)return i;e=e.sibling}return null}var A=Object.assign,I=Symbol.for("react.element"),O=Symbol.for("react.transitional.element"),H=Symbol.for("react.portal"),X=Symbol.for("react.fragment"),nt=Symbol.for("react.strict_mode"),Z=Symbol.for("react.profiler"),Tt=Symbol.for("react.provider"),ct=Symbol.for("react.consumer"),lt=Symbol.for("react.context"),St=Symbol.for("react.forward_ref"),vt=Symbol.for("react.suspense"),Dt=Symbol.for("react.suspense_list"),M=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),w=Symbol.for("react.activity"),N=Symbol.for("react.memo_cache_sentinel"),x=Symbol.iterator;function P(e){return e===null||typeof e!="object"?null:(e=x&&e[x]||e["@@iterator"],typeof e=="function"?e:null)}var R=Symbol.for("react.client.reference");function me(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===R?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case X:return"Fragment";case Z:return"Profiler";case nt:return"StrictMode";case vt:return"Suspense";case Dt:return"SuspenseList";case w:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case H:return"Portal";case lt:return(e.displayName||"Context")+".Provider";case ct:return(e._context.displayName||"Context")+".Consumer";case St:var i=e.render;return e=e.displayName,e||(e=i.displayName||i.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case M:return i=e.displayName||null,i!==null?i:me(e.type)||"Memo";case S:i=e._payload,e=e._init;try{return me(e(i))}catch{}}return null}var te=Array.isArray,q=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,tt=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,at={pending:!1,data:null,method:null,action:null},Lt=[],C=-1;function K(e){return{current:e}}function et(e){0>C||(e.current=Lt[C],Lt[C]=null,C--)}function J(e,i){C++,Lt[C]=e.current,e.current=i}var ut=K(null),wt=K(null),pt=K(null),ge=K(null);function Yt(e,i){switch(J(pt,i),J(wt,e),J(ut,null),i.nodeType){case 9:case 11:e=(e=i.documentElement)&&(e=e.namespaceURI)?Oy(e):0;break;default:if(e=i.tagName,i=i.namespaceURI)i=Oy(i),e=Ny(i,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}et(ut),J(ut,e)}function on(){et(ut),et(wt),et(pt)}function Vn(e){e.memoizedState!==null&&J(ge,e);var i=ut.current,a=Ny(i,e.type);i!==a&&(J(wt,e),J(ut,a))}function Zt(e){wt.current===e&&(et(ut),et(wt)),ge.current===e&&(et(ge),el._currentValue=at)}var He=Object.prototype.hasOwnProperty,Ge=r.unstable_scheduleCallback,ln=r.unstable_cancelCallback,jr=r.unstable_shouldYield,Bl=r.unstable_requestPaint,vn=r.unstable_now,ch=r.unstable_getCurrentPriorityLevel,Ja=r.unstable_ImmediatePriority,Vs=r.unstable_UserBlockingPriority,qr=r.unstable_NormalPriority,hh=r.unstable_LowPriority,Ps=r.unstable_IdlePriority,Wa=r.log,jl=r.unstable_setDisableYieldValue,ae=null,Ht=null;function un(e){if(typeof Wa=="function"&&jl(e),Ht&&typeof Ht.setStrictMode=="function")try{Ht.setStrictMode(ae,e)}catch{}}var Fe=Math.clz32?Math.clz32:Hr,ql=Math.log,fh=Math.LN2;function Hr(e){return e>>>=0,e===0?32:31-(ql(e)/fh|0)|0}var Gr=256,Fr=4194304;function Pn(e){var i=e&42;if(i!==0)return i;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function ks(e,i,a){var o=e.pendingLanes;if(o===0)return 0;var h=0,f=e.suspendedLanes,v=e.pingedLanes;e=e.warmLanes;var E=o&134217727;return E!==0?(o=E&~f,o!==0?h=Pn(o):(v&=E,v!==0?h=Pn(v):a||(a=E&~e,a!==0&&(h=Pn(a))))):(E=o&~f,E!==0?h=Pn(E):v!==0?h=Pn(v):a||(a=o&~e,a!==0&&(h=Pn(a)))),h===0?0:i!==0&&i!==h&&(i&f)===0&&(f=h&-h,a=i&-i,f>=a||f===32&&(a&4194048)!==0)?i:h}function Yr(e,i){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&i)===0}function to(e,i){switch(e){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function eo(){var e=Gr;return Gr<<=1,(Gr&4194048)===0&&(Gr=256),e}function no(){var e=Fr;return Fr<<=1,(Fr&62914560)===0&&(Fr=4194304),e}function gi(e){for(var i=[],a=0;31>a;a++)i.push(e);return i}function pi(e,i){e.pendingLanes|=i,i!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function io(e,i,a,o,h,f){var v=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var E=e.entanglements,b=e.expirationTimes,L=e.hiddenUpdates;for(a=v&~a;0<a;){var G=31-Fe(a),Y=1<<G;E[G]=0,b[G]=-1;var z=L[G];if(z!==null)for(L[G]=null,G=0;G<z.length;G++){var B=z[G];B!==null&&(B.lane&=-536870913)}a&=~Y}o!==0&&Fn(e,o,0),f!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=f&~(v&~i))}function Fn(e,i,a){e.pendingLanes|=i,e.suspendedLanes&=~i;var o=31-Fe(i);e.entangledLanes|=i,e.entanglements[o]=e.entanglements[o]|1073741824|a&4194090}function ro(e,i){var a=e.entangledLanes|=i;for(e=e.entanglements;a;){var o=31-Fe(a),h=1<<o;h&i|e[o]&i&&(e[o]|=i),a&=~h}}function Ki(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Us(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Xi(){var e=tt.p;return e!==0?e:(e=window.event,e===void 0?32:$y(e.type))}function Hl(e,i){var a=tt.p;try{return tt.p=e,i()}finally{tt.p=a}}var ee=Math.random().toString(36).slice(2),Te="__reactFiber$"+ee,pe="__reactProps$"+ee,En="__reactContainer$"+ee,so="__reactEvents$"+ee,dh="__reactListeners$"+ee,$i="__reactHandles$"+ee,Gl="__reactResources$"+ee,Qr="__reactMarker$"+ee;function Zi(e){delete e[Te],delete e[pe],delete e[so],delete e[dh],delete e[$i]}function yi(e){var i=e[Te];if(i)return i;for(var a=e.parentNode;a;){if(i=a[En]||a[Te]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(e=Py(e);e!==null;){if(a=e[Te])return a;e=Py(e)}return i}e=a,a=e.parentNode}return null}function Yn(e){if(e=e[Te]||e[En]){var i=e.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return e}return null}function Qn(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e.stateNode;throw Error(s(33))}function Je(e){var i=e[Gl];return i||(i=e[Gl]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function ce(e){e[Qr]=!0}var ao=new Set,Ls={};function kn(e,i){_i(e,i),_i(e+"Capture",i)}function _i(e,i){for(Ls[e]=i,e=0;e<i.length;e++)ao.add(i[e])}var Fl=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Yl={},Kr={};function Ql(e){return He.call(Kr,e)?!0:He.call(Yl,e)?!1:Fl.test(e)?Kr[e]=!0:(Yl[e]=!0,!1)}function Ji(e,i,a){if(Ql(i))if(a===null)e.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(i);return;case"boolean":var o=i.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){e.removeAttribute(i);return}}e.setAttribute(i,""+a)}}function Kn(e,i,a){if(a===null)e.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(i);return}e.setAttribute(i,""+a)}}function Pe(e,i,a,o){if(o===null)e.removeAttribute(a);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(i,a,""+o)}}var Xr,Kl;function vi(e){if(Xr===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);Xr=i&&i[1]||"",Kl=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Xr+e+Kl}var zs=!1;function Bs(e,i){if(!e||zs)return"";zs=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(i){var Y=function(){throw Error()};if(Object.defineProperty(Y.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Y,[])}catch(B){var z=B}Reflect.construct(e,[],Y)}else{try{Y.call()}catch(B){z=B}e.call(Y.prototype)}}else{try{throw Error()}catch(B){z=B}(Y=e())&&typeof Y.catch=="function"&&Y.catch(function(){})}}catch(B){if(B&&z&&typeof B.stack=="string")return[B.stack,z.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=o.DetermineComponentFrameRoot(),v=f[0],E=f[1];if(v&&E){var b=v.split(`
`),L=E.split(`
`);for(h=o=0;o<b.length&&!b[o].includes("DetermineComponentFrameRoot");)o++;for(;h<L.length&&!L[h].includes("DetermineComponentFrameRoot");)h++;if(o===b.length||h===L.length)for(o=b.length-1,h=L.length-1;1<=o&&0<=h&&b[o]!==L[h];)h--;for(;1<=o&&0<=h;o--,h--)if(b[o]!==L[h]){if(o!==1||h!==1)do if(o--,h--,0>h||b[o]!==L[h]){var G=`
`+b[o].replace(" at new "," at ");return e.displayName&&G.includes("<anonymous>")&&(G=G.replace("<anonymous>",e.displayName)),G}while(1<=o&&0<=h);break}}}finally{zs=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?vi(a):""}function oo(e){switch(e.tag){case 26:case 27:case 5:return vi(e.type);case 16:return vi("Lazy");case 13:return vi("Suspense");case 19:return vi("SuspenseList");case 0:case 15:return Bs(e.type,!1);case 11:return Bs(e.type.render,!1);case 1:return Bs(e.type,!0);case 31:return vi("Activity");default:return""}}function js(e){try{var i="";do i+=oo(e),e=e.return;while(e);return i}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function We(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function lo(e){var i=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function mh(e){var i=lo(e)?"checked":"value",a=Object.getOwnPropertyDescriptor(e.constructor.prototype,i),o=""+e[i];if(!e.hasOwnProperty(i)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var h=a.get,f=a.set;return Object.defineProperty(e,i,{configurable:!0,get:function(){return h.call(this)},set:function(v){o=""+v,f.call(this,v)}}),Object.defineProperty(e,i,{enumerable:a.enumerable}),{getValue:function(){return o},setValue:function(v){o=""+v},stopTracking:function(){e._valueTracker=null,delete e[i]}}}}function qs(e){e._valueTracker||(e._valueTracker=mh(e))}function uo(e){if(!e)return!1;var i=e._valueTracker;if(!i)return!0;var a=i.getValue(),o="";return e&&(o=lo(e)?e.checked?"true":"false":e.value),e=o,e!==a?(i.setValue(e),!0):!1}function $r(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var gh=/[\n"\\]/g;function ye(e){return e.replace(gh,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function cn(e,i,a,o,h,f,v,E){e.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?e.type=v:e.removeAttribute("type"),i!=null?v==="number"?(i===0&&e.value===""||e.value!=i)&&(e.value=""+We(i)):e.value!==""+We(i)&&(e.value=""+We(i)):v!=="submit"&&v!=="reset"||e.removeAttribute("value"),i!=null?Wi(e,v,We(i)):a!=null?Wi(e,v,We(a)):o!=null&&e.removeAttribute("value"),h==null&&f!=null&&(e.defaultChecked=!!f),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?e.name=""+We(E):e.removeAttribute("name")}function Zr(e,i,a,o,h,f,v,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.type=f),i!=null||a!=null){if(!(f!=="submit"&&f!=="reset"||i!=null))return;a=a!=null?""+We(a):"",i=i!=null?""+We(i):a,E||i===e.value||(e.value=i),e.defaultValue=i}o=o??h,o=typeof o!="function"&&typeof o!="symbol"&&!!o,e.checked=E?e.checked:!!o,e.defaultChecked=!!o,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(e.name=v)}function Wi(e,i,a){i==="number"&&$r(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function Ei(e,i,a,o){if(e=e.options,i){i={};for(var h=0;h<a.length;h++)i["$"+a[h]]=!0;for(a=0;a<e.length;a++)h=i.hasOwnProperty("$"+e[a].value),e[a].selected!==h&&(e[a].selected=h),h&&o&&(e[a].defaultSelected=!0)}else{for(a=""+We(a),i=null,h=0;h<e.length;h++){if(e[h].value===a){e[h].selected=!0,o&&(e[h].defaultSelected=!0);return}i!==null||e[h].disabled||(i=e[h])}i!==null&&(i.selected=!0)}}function Qt(e,i,a){if(i!=null&&(i=""+We(i),i!==e.value&&(e.value=i),a==null)){e.defaultValue!==i&&(e.defaultValue=i);return}e.defaultValue=a!=null?""+We(a):""}function Jr(e,i,a,o){if(i==null){if(o!=null){if(a!=null)throw Error(s(92));if(te(o)){if(1<o.length)throw Error(s(93));o=o[0]}a=o}a==null&&(a=""),i=a}a=We(i),e.defaultValue=a,o=e.textContent,o===a&&o!==""&&o!==null&&(e.value=o)}function Tn(e,i){if(i){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=i;return}}e.textContent=i}var Wr=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Xl(e,i,a){var o=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?o?e.setProperty(i,""):i==="float"?e.cssFloat="":e[i]="":o?e.setProperty(i,a):typeof a!="number"||a===0||Wr.has(i)?i==="float"?e.cssFloat=a:e[i]=(""+a).trim():e[i]=a+"px"}function co(e,i,a){if(i!=null&&typeof i!="object")throw Error(s(62));if(e=e.style,a!=null){for(var o in a)!a.hasOwnProperty(o)||i!=null&&i.hasOwnProperty(o)||(o.indexOf("--")===0?e.setProperty(o,""):o==="float"?e.cssFloat="":e[o]="");for(var h in i)o=i[h],i.hasOwnProperty(h)&&a[h]!==o&&Xl(e,h,o)}else for(var f in i)i.hasOwnProperty(f)&&Xl(e,f,i[f])}function ho(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ph=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),yh=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Hs(e){return yh.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var Ti=null;function An(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ai=null,Si=null;function fo(e){var i=Yn(e);if(i&&(e=i.stateNode)){var a=e[pe]||null;t:switch(e=i.stateNode,i.type){case"input":if(cn(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+ye(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var o=a[i];if(o!==e&&o.form===e.form){var h=o[pe]||null;if(!h)throw Error(s(90));cn(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<a.length;i++)o=a[i],o.form===e.form&&uo(o)}break t;case"textarea":Qt(e,a.value,a.defaultValue);break t;case"select":i=a.value,i!=null&&Ei(e,!!a.multiple,i,!1)}}}var Xn=!1;function $l(e,i,a){if(Xn)return e(i,a);Xn=!0;try{var o=e(i);return o}finally{if(Xn=!1,(Ai!==null||Si!==null)&&(Hu(),Ai&&(i=Ai,e=Si,Si=Ai=null,fo(i),e)))for(i=0;i<e.length;i++)fo(e[i])}}function ts(e,i){var a=e.stateNode;if(a===null)return null;var o=a[pe]||null;if(o===null)return null;a=o[i];t:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break t;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(s(231,i,typeof a));return a}var Un=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Sn=!1;if(Un)try{var es={};Object.defineProperty(es,"passive",{get:function(){Sn=!0}}),window.addEventListener("test",es,es),window.removeEventListener("test",es,es)}catch{Sn=!1}var $n=null,tr=null,bi=null;function mo(){if(bi)return bi;var e,i=tr,a=i.length,o,h="value"in $n?$n.value:$n.textContent,f=h.length;for(e=0;e<a&&i[e]===h[e];e++);var v=a-e;for(o=1;o<=v&&i[a-o]===h[f-o];o++);return bi=h.slice(e,1<o?1-o:void 0)}function Zn(e){var i=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&i===13&&(e=13)):e=i,e===10&&(e=13),32<=e||e===13?e:0}function Jn(){return!0}function go(){return!1}function De(e){function i(a,o,h,f,v){this._reactName=a,this._targetInst=h,this.type=o,this.nativeEvent=f,this.target=v,this.currentTarget=null;for(var E in e)e.hasOwnProperty(E)&&(a=e[E],this[E]=a?a(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Jn:go,this.isPropagationStopped=go,this}return A(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Jn)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Jn)},persist:function(){},isPersistent:Jn}),i}var jt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Gs=De(jt),ns=A({},jt,{view:0,detail:0}),Zl=De(ns),Fs,Ys,Wn,is=A({},ns,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:as,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Wn&&(Wn&&e.type==="mousemove"?(Fs=e.screenX-Wn.screenX,Ys=e.screenY-Wn.screenY):Ys=Fs=0,Wn=e),Fs)},movementY:function(e){return"movementY"in e?e.movementY:Ys}}),bn=De(is),Jl=A({},is,{dataTransfer:0}),_h=De(Jl),rs=A({},ns,{relatedTarget:0}),Qs=De(rs),po=A({},jt,{animationName:0,elapsedTime:0,pseudoElement:0}),Ks=De(po),Wl=A({},jt,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Xs=De(Wl),vh=A({},jt,{data:0}),yo=De(vh),ss={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},tu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},eu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function _o(e){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(e):(e=eu[e])?!!i[e]:!1}function as(){return _o}var nu=A({},ns,{key:function(e){if(e.key){var i=ss[e.key]||e.key;if(i!=="Unidentified")return i}return e.type==="keypress"?(e=Zn(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?tu[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:as,charCode:function(e){return e.type==="keypress"?Zn(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Zn(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),$s=De(nu),iu=A({},is,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),vo=De(iu),wi=A({},ns,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:as}),ru=De(wi),su=A({},jt,{propertyName:0,elapsedTime:0,pseudoElement:0}),au=De(su),ou=A({},is,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Zs=De(ou),tn=A({},jt,{newState:0,oldState:0}),lu=De(tn),uu=[9,13,27,32],ti=Un&&"CompositionEvent"in window,u=null;Un&&"documentMode"in document&&(u=document.documentMode);var m=Un&&"TextEvent"in window&&!u,y=Un&&(!ti||u&&8<u&&11>=u),T=" ",k=!1;function j(e,i){switch(e){case"keyup":return uu.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function W(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Vt=!1;function Ae(e,i){switch(e){case"compositionend":return W(i);case"keypress":return i.which!==32?null:(k=!0,T);case"textInput":return e=i.data,e===T&&k?null:e;default:return null}}function Pt(e,i){if(Vt)return e==="compositionend"||!ti&&j(e,i)?(e=mo(),bi=tr=$n=null,Vt=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return y&&i.locale!=="ko"?null:i.data;default:return null}}var Oe={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Se(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i==="input"?!!Oe[e.type]:i==="textarea"}function Ri(e,i,a,o){Ai?Si?Si.push(o):Si=[o]:Ai=o,i=Xu(i,"onChange"),0<i.length&&(a=new Gs("onChange","change",null,a,o),e.push({event:a,listeners:i}))}var ke=null,ei=null;function Eo(e){wy(e,0)}function cu(e){var i=Qn(e);if(uo(i))return e}function Ym(e,i){if(e==="change")return i}var Qm=!1;if(Un){var Eh;if(Un){var Th="oninput"in document;if(!Th){var Km=document.createElement("div");Km.setAttribute("oninput","return;"),Th=typeof Km.oninput=="function"}Eh=Th}else Eh=!1;Qm=Eh&&(!document.documentMode||9<document.documentMode)}function Xm(){ke&&(ke.detachEvent("onpropertychange",$m),ei=ke=null)}function $m(e){if(e.propertyName==="value"&&cu(ei)){var i=[];Ri(i,ei,e,An(e)),$l(Eo,i)}}function hT(e,i,a){e==="focusin"?(Xm(),ke=i,ei=a,ke.attachEvent("onpropertychange",$m)):e==="focusout"&&Xm()}function fT(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return cu(ei)}function dT(e,i){if(e==="click")return cu(i)}function mT(e,i){if(e==="input"||e==="change")return cu(i)}function gT(e,i){return e===i&&(e!==0||1/e===1/i)||e!==e&&i!==i}var hn=typeof Object.is=="function"?Object.is:gT;function To(e,i){if(hn(e,i))return!0;if(typeof e!="object"||e===null||typeof i!="object"||i===null)return!1;var a=Object.keys(e),o=Object.keys(i);if(a.length!==o.length)return!1;for(o=0;o<a.length;o++){var h=a[o];if(!He.call(i,h)||!hn(e[h],i[h]))return!1}return!0}function Zm(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Jm(e,i){var a=Zm(e);e=0;for(var o;a;){if(a.nodeType===3){if(o=e+a.textContent.length,e<=i&&o>=i)return{node:a,offset:i-e};e=o}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=Zm(a)}}function Wm(e,i){return e&&i?e===i?!0:e&&e.nodeType===3?!1:i&&i.nodeType===3?Wm(e,i.parentNode):"contains"in e?e.contains(i):e.compareDocumentPosition?!!(e.compareDocumentPosition(i)&16):!1:!1}function tg(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var i=$r(e.document);i instanceof e.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)e=i.contentWindow;else break;i=$r(e.document)}return i}function Ah(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i&&(i==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||i==="textarea"||e.contentEditable==="true")}var pT=Un&&"documentMode"in document&&11>=document.documentMode,Js=null,Sh=null,Ao=null,bh=!1;function eg(e,i,a){var o=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;bh||Js==null||Js!==$r(o)||(o=Js,"selectionStart"in o&&Ah(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),Ao&&To(Ao,o)||(Ao=o,o=Xu(Sh,"onSelect"),0<o.length&&(i=new Gs("onSelect","select",null,i,a),e.push({event:i,listeners:o}),i.target=Js)))}function os(e,i){var a={};return a[e.toLowerCase()]=i.toLowerCase(),a["Webkit"+e]="webkit"+i,a["Moz"+e]="moz"+i,a}var Ws={animationend:os("Animation","AnimationEnd"),animationiteration:os("Animation","AnimationIteration"),animationstart:os("Animation","AnimationStart"),transitionrun:os("Transition","TransitionRun"),transitionstart:os("Transition","TransitionStart"),transitioncancel:os("Transition","TransitionCancel"),transitionend:os("Transition","TransitionEnd")},wh={},ng={};Un&&(ng=document.createElement("div").style,"AnimationEvent"in window||(delete Ws.animationend.animation,delete Ws.animationiteration.animation,delete Ws.animationstart.animation),"TransitionEvent"in window||delete Ws.transitionend.transition);function ls(e){if(wh[e])return wh[e];if(!Ws[e])return e;var i=Ws[e],a;for(a in i)if(i.hasOwnProperty(a)&&a in ng)return wh[e]=i[a];return e}var ig=ls("animationend"),rg=ls("animationiteration"),sg=ls("animationstart"),yT=ls("transitionrun"),_T=ls("transitionstart"),vT=ls("transitioncancel"),ag=ls("transitionend"),og=new Map,Rh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Rh.push("scrollEnd");function Ln(e,i){og.set(e,i),kn(i,[e])}var lg=new WeakMap;function wn(e,i){if(typeof e=="object"&&e!==null){var a=lg.get(e);return a!==void 0?a:(i={value:e,source:i,stack:js(i)},lg.set(e,i),i)}return{value:e,source:i,stack:js(i)}}var Rn=[],ta=0,Ih=0;function hu(){for(var e=ta,i=Ih=ta=0;i<e;){var a=Rn[i];Rn[i++]=null;var o=Rn[i];Rn[i++]=null;var h=Rn[i];Rn[i++]=null;var f=Rn[i];if(Rn[i++]=null,o!==null&&h!==null){var v=o.pending;v===null?h.next=h:(h.next=v.next,v.next=h),o.pending=h}f!==0&&ug(a,h,f)}}function fu(e,i,a,o){Rn[ta++]=e,Rn[ta++]=i,Rn[ta++]=a,Rn[ta++]=o,Ih|=o,e.lanes|=o,e=e.alternate,e!==null&&(e.lanes|=o)}function Ch(e,i,a,o){return fu(e,i,a,o),du(e)}function ea(e,i){return fu(e,null,null,i),du(e)}function ug(e,i,a){e.lanes|=a;var o=e.alternate;o!==null&&(o.lanes|=a);for(var h=!1,f=e.return;f!==null;)f.childLanes|=a,o=f.alternate,o!==null&&(o.childLanes|=a),f.tag===22&&(e=f.stateNode,e===null||e._visibility&1||(h=!0)),e=f,f=f.return;return e.tag===3?(f=e.stateNode,h&&i!==null&&(h=31-Fe(a),e=f.hiddenUpdates,o=e[h],o===null?e[h]=[i]:o.push(i),i.lane=a|536870912),f):null}function du(e){if(50<Qo)throw Qo=0,Pf=null,Error(s(185));for(var i=e.return;i!==null;)e=i,i=e.return;return e.tag===3?e.stateNode:null}var na={};function ET(e,i,a,o){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function fn(e,i,a,o){return new ET(e,i,a,o)}function Dh(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Ii(e,i){var a=e.alternate;return a===null?(a=fn(e.tag,i,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=i,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,i=e.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function cg(e,i){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=i,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,i=a.dependencies,e.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),e}function mu(e,i,a,o,h,f){var v=0;if(o=e,typeof e=="function")Dh(e)&&(v=1);else if(typeof e=="string")v=AA(e,a,ut.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case w:return e=fn(31,a,i,h),e.elementType=w,e.lanes=f,e;case X:return us(a.children,h,f,i);case nt:v=8,h|=24;break;case Z:return e=fn(12,a,i,h|2),e.elementType=Z,e.lanes=f,e;case vt:return e=fn(13,a,i,h),e.elementType=vt,e.lanes=f,e;case Dt:return e=fn(19,a,i,h),e.elementType=Dt,e.lanes=f,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Tt:case lt:v=10;break t;case ct:v=9;break t;case St:v=11;break t;case M:v=14;break t;case S:v=16,o=null;break t}v=29,a=Error(s(130,e===null?"null":typeof e,"")),o=null}return i=fn(v,a,i,h),i.elementType=e,i.type=o,i.lanes=f,i}function us(e,i,a,o){return e=fn(7,e,o,i),e.lanes=a,e}function Oh(e,i,a){return e=fn(6,e,null,i),e.lanes=a,e}function Nh(e,i,a){return i=fn(4,e.children!==null?e.children:[],e.key,i),i.lanes=a,i.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},i}var ia=[],ra=0,gu=null,pu=0,In=[],Cn=0,cs=null,Ci=1,Di="";function hs(e,i){ia[ra++]=pu,ia[ra++]=gu,gu=e,pu=i}function hg(e,i,a){In[Cn++]=Ci,In[Cn++]=Di,In[Cn++]=cs,cs=e;var o=Ci;e=Di;var h=32-Fe(o)-1;o&=~(1<<h),a+=1;var f=32-Fe(i)+h;if(30<f){var v=h-h%5;f=(o&(1<<v)-1).toString(32),o>>=v,h-=v,Ci=1<<32-Fe(i)+h|a<<h|o,Di=f+e}else Ci=1<<f|a<<h|o,Di=e}function Mh(e){e.return!==null&&(hs(e,1),hg(e,1,0))}function xh(e){for(;e===gu;)gu=ia[--ra],ia[ra]=null,pu=ia[--ra],ia[ra]=null;for(;e===cs;)cs=In[--Cn],In[Cn]=null,Di=In[--Cn],In[Cn]=null,Ci=In[--Cn],In[Cn]=null}var en=null,oe=null,Bt=!1,fs=null,ni=!1,Vh=Error(s(519));function ds(e){var i=Error(s(418,""));throw wo(wn(i,e)),Vh}function fg(e){var i=e.stateNode,a=e.type,o=e.memoizedProps;switch(i[Te]=e,i[pe]=o,a){case"dialog":Nt("cancel",i),Nt("close",i);break;case"iframe":case"object":case"embed":Nt("load",i);break;case"video":case"audio":for(a=0;a<Xo.length;a++)Nt(Xo[a],i);break;case"source":Nt("error",i);break;case"img":case"image":case"link":Nt("error",i),Nt("load",i);break;case"details":Nt("toggle",i);break;case"input":Nt("invalid",i),Zr(i,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0),qs(i);break;case"select":Nt("invalid",i);break;case"textarea":Nt("invalid",i),Jr(i,o.value,o.defaultValue,o.children),qs(i)}a=o.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||o.suppressHydrationWarning===!0||Dy(i.textContent,a)?(o.popover!=null&&(Nt("beforetoggle",i),Nt("toggle",i)),o.onScroll!=null&&Nt("scroll",i),o.onScrollEnd!=null&&Nt("scrollend",i),o.onClick!=null&&(i.onclick=$u),i=!0):i=!1,i||ds(e)}function dg(e){for(en=e.return;en;)switch(en.tag){case 5:case 13:ni=!1;return;case 27:case 3:ni=!0;return;default:en=en.return}}function So(e){if(e!==en)return!1;if(!Bt)return dg(e),Bt=!0,!1;var i=e.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||Zf(e.type,e.memoizedProps)),a=!a),a&&oe&&ds(e),dg(e),i===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));t:{for(e=e.nextSibling,i=0;e;){if(e.nodeType===8)if(a=e.data,a==="/$"){if(i===0){oe=Bn(e.nextSibling);break t}i--}else a!=="$"&&a!=="$!"&&a!=="$?"||i++;e=e.nextSibling}oe=null}}else i===27?(i=oe,pr(e.type)?(e=ed,ed=null,oe=e):oe=i):oe=en?Bn(e.stateNode.nextSibling):null;return!0}function bo(){oe=en=null,Bt=!1}function mg(){var e=fs;return e!==null&&(sn===null?sn=e:sn.push.apply(sn,e),fs=null),e}function wo(e){fs===null?fs=[e]:fs.push(e)}var Ph=K(null),ms=null,Oi=null;function er(e,i,a){J(Ph,i._currentValue),i._currentValue=a}function Ni(e){e._currentValue=Ph.current,et(Ph)}function kh(e,i,a){for(;e!==null;){var o=e.alternate;if((e.childLanes&i)!==i?(e.childLanes|=i,o!==null&&(o.childLanes|=i)):o!==null&&(o.childLanes&i)!==i&&(o.childLanes|=i),e===a)break;e=e.return}}function Uh(e,i,a,o){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var f=h.dependencies;if(f!==null){var v=h.child;f=f.firstContext;t:for(;f!==null;){var E=f;f=h;for(var b=0;b<i.length;b++)if(E.context===i[b]){f.lanes|=a,E=f.alternate,E!==null&&(E.lanes|=a),kh(f.return,a,e),o||(v=null);break t}f=E.next}}else if(h.tag===18){if(v=h.return,v===null)throw Error(s(341));v.lanes|=a,f=v.alternate,f!==null&&(f.lanes|=a),kh(v,a,e),v=null}else v=h.child;if(v!==null)v.return=h;else for(v=h;v!==null;){if(v===e){v=null;break}if(h=v.sibling,h!==null){h.return=v.return,v=h;break}v=v.return}h=v}}function Ro(e,i,a,o){e=null;for(var h=i,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var v=h.alternate;if(v===null)throw Error(s(387));if(v=v.memoizedProps,v!==null){var E=h.type;hn(h.pendingProps.value,v.value)||(e!==null?e.push(E):e=[E])}}else if(h===ge.current){if(v=h.alternate,v===null)throw Error(s(387));v.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(el):e=[el])}h=h.return}e!==null&&Uh(i,e,a,o),i.flags|=262144}function yu(e){for(e=e.firstContext;e!==null;){if(!hn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function gs(e){ms=e,Oi=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Ye(e){return gg(ms,e)}function _u(e,i){return ms===null&&gs(e),gg(e,i)}function gg(e,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},Oi===null){if(e===null)throw Error(s(308));Oi=i,e.dependencies={lanes:0,firstContext:i},e.flags|=524288}else Oi=Oi.next=i;return a}var TT=typeof AbortController<"u"?AbortController:function(){var e=[],i=this.signal={aborted:!1,addEventListener:function(a,o){e.push(o)}};this.abort=function(){i.aborted=!0,e.forEach(function(a){return a()})}},AT=r.unstable_scheduleCallback,ST=r.unstable_NormalPriority,be={$$typeof:lt,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Lh(){return{controller:new TT,data:new Map,refCount:0}}function Io(e){e.refCount--,e.refCount===0&&AT(ST,function(){e.controller.abort()})}var Co=null,zh=0,sa=0,aa=null;function bT(e,i){if(Co===null){var a=Co=[];zh=0,sa=qf(),aa={status:"pending",value:void 0,then:function(o){a.push(o)}}}return zh++,i.then(pg,pg),i}function pg(){if(--zh===0&&Co!==null){aa!==null&&(aa.status="fulfilled");var e=Co;Co=null,sa=0,aa=null;for(var i=0;i<e.length;i++)(0,e[i])()}}function wT(e,i){var a=[],o={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return e.then(function(){o.status="fulfilled",o.value=i;for(var h=0;h<a.length;h++)(0,a[h])(i)},function(h){for(o.status="rejected",o.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),o}var yg=q.S;q.S=function(e,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&bT(e,i),yg!==null&&yg(e,i)};var ps=K(null);function Bh(){var e=ps.current;return e!==null?e:Wt.pooledCache}function vu(e,i){i===null?J(ps,ps.current):J(ps,i.pool)}function _g(){var e=Bh();return e===null?null:{parent:be._currentValue,pool:e}}var Do=Error(s(460)),vg=Error(s(474)),Eu=Error(s(542)),jh={then:function(){}};function Eg(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Tu(){}function Tg(e,i,a){switch(a=e[a],a===void 0?e.push(i):a!==i&&(i.then(Tu,Tu),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,Sg(e),e;default:if(typeof i.status=="string")i.then(Tu,Tu);else{if(e=Wt,e!==null&&100<e.shellSuspendCounter)throw Error(s(482));e=i,e.status="pending",e.then(function(o){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=o}},function(o){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=o}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,Sg(e),e}throw Oo=i,Do}}var Oo=null;function Ag(){if(Oo===null)throw Error(s(459));var e=Oo;return Oo=null,e}function Sg(e){if(e===Do||e===Eu)throw Error(s(483))}var nr=!1;function qh(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Hh(e,i){e=e.updateQueue,i.updateQueue===e&&(i.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function ir(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function rr(e,i,a){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,(Gt&2)!==0){var h=o.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),o.pending=i,i=du(e),ug(e,null,a),i}return fu(e,o,i,a),du(e)}function No(e,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var o=i.lanes;o&=e.pendingLanes,a|=o,i.lanes=a,ro(e,a)}}function Gh(e,i){var a=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,a===o)){var h=null,f=null;if(a=a.firstBaseUpdate,a!==null){do{var v={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};f===null?h=f=v:f=f.next=v,a=a.next}while(a!==null);f===null?h=f=i:f=f.next=i}else h=f=i;a={baseState:o.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:o.shared,callbacks:o.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=i:e.next=i,a.lastBaseUpdate=i}var Fh=!1;function Mo(){if(Fh){var e=aa;if(e!==null)throw e}}function xo(e,i,a,o){Fh=!1;var h=e.updateQueue;nr=!1;var f=h.firstBaseUpdate,v=h.lastBaseUpdate,E=h.shared.pending;if(E!==null){h.shared.pending=null;var b=E,L=b.next;b.next=null,v===null?f=L:v.next=L,v=b;var G=e.alternate;G!==null&&(G=G.updateQueue,E=G.lastBaseUpdate,E!==v&&(E===null?G.firstBaseUpdate=L:E.next=L,G.lastBaseUpdate=b))}if(f!==null){var Y=h.baseState;v=0,G=L=b=null,E=f;do{var z=E.lane&-536870913,B=z!==E.lane;if(B?(kt&z)===z:(o&z)===z){z!==0&&z===sa&&(Fh=!0),G!==null&&(G=G.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var yt=e,ht=E;z=i;var $t=a;switch(ht.tag){case 1:if(yt=ht.payload,typeof yt=="function"){Y=yt.call($t,Y,z);break t}Y=yt;break t;case 3:yt.flags=yt.flags&-65537|128;case 0:if(yt=ht.payload,z=typeof yt=="function"?yt.call($t,Y,z):yt,z==null)break t;Y=A({},Y,z);break t;case 2:nr=!0}}z=E.callback,z!==null&&(e.flags|=64,B&&(e.flags|=8192),B=h.callbacks,B===null?h.callbacks=[z]:B.push(z))}else B={lane:z,tag:E.tag,payload:E.payload,callback:E.callback,next:null},G===null?(L=G=B,b=Y):G=G.next=B,v|=z;if(E=E.next,E===null){if(E=h.shared.pending,E===null)break;B=E,E=B.next,B.next=null,h.lastBaseUpdate=B,h.shared.pending=null}}while(!0);G===null&&(b=Y),h.baseState=b,h.firstBaseUpdate=L,h.lastBaseUpdate=G,f===null&&(h.shared.lanes=0),fr|=v,e.lanes=v,e.memoizedState=Y}}function bg(e,i){if(typeof e!="function")throw Error(s(191,e));e.call(i)}function wg(e,i){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)bg(a[e],i)}var oa=K(null),Au=K(0);function Rg(e,i){e=Li,J(Au,e),J(oa,i),Li=e|i.baseLanes}function Yh(){J(Au,Li),J(oa,oa.current)}function Qh(){Li=Au.current,et(oa),et(Au)}var sr=0,Rt=null,Kt=null,_e=null,Su=!1,la=!1,ys=!1,bu=0,Vo=0,ua=null,RT=0;function he(){throw Error(s(321))}function Kh(e,i){if(i===null)return!1;for(var a=0;a<i.length&&a<e.length;a++)if(!hn(e[a],i[a]))return!1;return!0}function Xh(e,i,a,o,h,f){return sr=f,Rt=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,q.H=e===null||e.memoizedState===null?up:cp,ys=!1,f=a(o,h),ys=!1,la&&(f=Cg(i,a,o,h)),Ig(e),f}function Ig(e){q.H=Ou;var i=Kt!==null&&Kt.next!==null;if(sr=0,_e=Kt=Rt=null,Su=!1,Vo=0,ua=null,i)throw Error(s(300));e===null||Ne||(e=e.dependencies,e!==null&&yu(e)&&(Ne=!0))}function Cg(e,i,a,o){Rt=e;var h=0;do{if(la&&(ua=null),Vo=0,la=!1,25<=h)throw Error(s(301));if(h+=1,_e=Kt=null,e.updateQueue!=null){var f=e.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}q.H=xT,f=i(a,o)}while(la);return f}function IT(){var e=q.H,i=e.useState()[0];return i=typeof i.then=="function"?Po(i):i,e=e.useState()[0],(Kt!==null?Kt.memoizedState:null)!==e&&(Rt.flags|=1024),i}function $h(){var e=bu!==0;return bu=0,e}function Zh(e,i,a){i.updateQueue=e.updateQueue,i.flags&=-2053,e.lanes&=~a}function Jh(e){if(Su){for(e=e.memoizedState;e!==null;){var i=e.queue;i!==null&&(i.pending=null),e=e.next}Su=!1}sr=0,_e=Kt=Rt=null,la=!1,Vo=bu=0,ua=null}function nn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return _e===null?Rt.memoizedState=_e=e:_e=_e.next=e,_e}function ve(){if(Kt===null){var e=Rt.alternate;e=e!==null?e.memoizedState:null}else e=Kt.next;var i=_e===null?Rt.memoizedState:_e.next;if(i!==null)_e=i,Kt=e;else{if(e===null)throw Rt.alternate===null?Error(s(467)):Error(s(310));Kt=e,e={memoizedState:Kt.memoizedState,baseState:Kt.baseState,baseQueue:Kt.baseQueue,queue:Kt.queue,next:null},_e===null?Rt.memoizedState=_e=e:_e=_e.next=e}return _e}function Wh(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Po(e){var i=Vo;return Vo+=1,ua===null&&(ua=[]),e=Tg(ua,e,i),i=Rt,(_e===null?i.memoizedState:_e.next)===null&&(i=i.alternate,q.H=i===null||i.memoizedState===null?up:cp),e}function wu(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Po(e);if(e.$$typeof===lt)return Ye(e)}throw Error(s(438,String(e)))}function tf(e){var i=null,a=Rt.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var o=Rt.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(i={data:o.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=Wh(),Rt.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(e),o=0;o<e;o++)a[o]=N;return i.index++,a}function Mi(e,i){return typeof i=="function"?i(e):i}function Ru(e){var i=ve();return ef(i,Kt,e)}function ef(e,i,a){var o=e.queue;if(o===null)throw Error(s(311));o.lastRenderedReducer=a;var h=e.baseQueue,f=o.pending;if(f!==null){if(h!==null){var v=h.next;h.next=f.next,f.next=v}i.baseQueue=h=f,o.pending=null}if(f=e.baseState,h===null)e.memoizedState=f;else{i=h.next;var E=v=null,b=null,L=i,G=!1;do{var Y=L.lane&-536870913;if(Y!==L.lane?(kt&Y)===Y:(sr&Y)===Y){var z=L.revertLane;if(z===0)b!==null&&(b=b.next={lane:0,revertLane:0,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null}),Y===sa&&(G=!0);else if((sr&z)===z){L=L.next,z===sa&&(G=!0);continue}else Y={lane:0,revertLane:L.revertLane,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null},b===null?(E=b=Y,v=f):b=b.next=Y,Rt.lanes|=z,fr|=z;Y=L.action,ys&&a(f,Y),f=L.hasEagerState?L.eagerState:a(f,Y)}else z={lane:Y,revertLane:L.revertLane,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null},b===null?(E=b=z,v=f):b=b.next=z,Rt.lanes|=Y,fr|=Y;L=L.next}while(L!==null&&L!==i);if(b===null?v=f:b.next=E,!hn(f,e.memoizedState)&&(Ne=!0,G&&(a=aa,a!==null)))throw a;e.memoizedState=f,e.baseState=v,e.baseQueue=b,o.lastRenderedState=f}return h===null&&(o.lanes=0),[e.memoizedState,o.dispatch]}function nf(e){var i=ve(),a=i.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=e;var o=a.dispatch,h=a.pending,f=i.memoizedState;if(h!==null){a.pending=null;var v=h=h.next;do f=e(f,v.action),v=v.next;while(v!==h);hn(f,i.memoizedState)||(Ne=!0),i.memoizedState=f,i.baseQueue===null&&(i.baseState=f),a.lastRenderedState=f}return[f,o]}function Dg(e,i,a){var o=Rt,h=ve(),f=Bt;if(f){if(a===void 0)throw Error(s(407));a=a()}else a=i();var v=!hn((Kt||h).memoizedState,a);v&&(h.memoizedState=a,Ne=!0),h=h.queue;var E=Mg.bind(null,o,h,e);if(ko(2048,8,E,[e]),h.getSnapshot!==i||v||_e!==null&&_e.memoizedState.tag&1){if(o.flags|=2048,ca(9,Iu(),Ng.bind(null,o,h,a,i),null),Wt===null)throw Error(s(349));f||(sr&124)!==0||Og(o,i,a)}return a}function Og(e,i,a){e.flags|=16384,e={getSnapshot:i,value:a},i=Rt.updateQueue,i===null?(i=Wh(),Rt.updateQueue=i,i.stores=[e]):(a=i.stores,a===null?i.stores=[e]:a.push(e))}function Ng(e,i,a,o){i.value=a,i.getSnapshot=o,xg(i)&&Vg(e)}function Mg(e,i,a){return a(function(){xg(i)&&Vg(e)})}function xg(e){var i=e.getSnapshot;e=e.value;try{var a=i();return!hn(e,a)}catch{return!0}}function Vg(e){var i=ea(e,2);i!==null&&yn(i,e,2)}function rf(e){var i=nn();if(typeof e=="function"){var a=e;if(e=a(),ys){un(!0);try{a()}finally{un(!1)}}}return i.memoizedState=i.baseState=e,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Mi,lastRenderedState:e},i}function Pg(e,i,a,o){return e.baseState=a,ef(e,Kt,typeof o=="function"?o:Mi)}function CT(e,i,a,o,h){if(Du(e))throw Error(s(485));if(e=i.action,e!==null){var f={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){f.listeners.push(v)}};q.T!==null?a(!0):f.isTransition=!1,o(f),a=i.pending,a===null?(f.next=i.pending=f,kg(i,f)):(f.next=a.next,i.pending=a.next=f)}}function kg(e,i){var a=i.action,o=i.payload,h=e.state;if(i.isTransition){var f=q.T,v={};q.T=v;try{var E=a(h,o),b=q.S;b!==null&&b(v,E),Ug(e,i,E)}catch(L){sf(e,i,L)}finally{q.T=f}}else try{f=a(h,o),Ug(e,i,f)}catch(L){sf(e,i,L)}}function Ug(e,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(o){Lg(e,i,o)},function(o){return sf(e,i,o)}):Lg(e,i,a)}function Lg(e,i,a){i.status="fulfilled",i.value=a,zg(i),e.state=a,i=e.pending,i!==null&&(a=i.next,a===i?e.pending=null:(a=a.next,i.next=a,kg(e,a)))}function sf(e,i,a){var o=e.pending;if(e.pending=null,o!==null){o=o.next;do i.status="rejected",i.reason=a,zg(i),i=i.next;while(i!==o)}e.action=null}function zg(e){e=e.listeners;for(var i=0;i<e.length;i++)(0,e[i])()}function Bg(e,i){return i}function jg(e,i){if(Bt){var a=Wt.formState;if(a!==null){t:{var o=Rt;if(Bt){if(oe){e:{for(var h=oe,f=ni;h.nodeType!==8;){if(!f){h=null;break e}if(h=Bn(h.nextSibling),h===null){h=null;break e}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){oe=Bn(h.nextSibling),o=h.data==="F!";break t}}ds(o)}o=!1}o&&(i=a[0])}}return a=nn(),a.memoizedState=a.baseState=i,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Bg,lastRenderedState:i},a.queue=o,a=ap.bind(null,Rt,o),o.dispatch=a,o=rf(!1),f=cf.bind(null,Rt,!1,o.queue),o=nn(),h={state:i,dispatch:null,action:e,pending:null},o.queue=h,a=CT.bind(null,Rt,h,f,a),h.dispatch=a,o.memoizedState=e,[i,a,!1]}function qg(e){var i=ve();return Hg(i,Kt,e)}function Hg(e,i,a){if(i=ef(e,i,Bg)[0],e=Ru(Mi)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var o=Po(i)}catch(v){throw v===Do?Eu:v}else o=i;i=ve();var h=i.queue,f=h.dispatch;return a!==i.memoizedState&&(Rt.flags|=2048,ca(9,Iu(),DT.bind(null,h,a),null)),[o,f,e]}function DT(e,i){e.action=i}function Gg(e){var i=ve(),a=Kt;if(a!==null)return Hg(i,a,e);ve(),i=i.memoizedState,a=ve();var o=a.queue.dispatch;return a.memoizedState=e,[i,o,!1]}function ca(e,i,a,o){return e={tag:e,create:a,deps:o,inst:i,next:null},i=Rt.updateQueue,i===null&&(i=Wh(),Rt.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=e.next=e:(o=a.next,a.next=e,e.next=o,i.lastEffect=e),e}function Iu(){return{destroy:void 0,resource:void 0}}function Fg(){return ve().memoizedState}function Cu(e,i,a,o){var h=nn();o=o===void 0?null:o,Rt.flags|=e,h.memoizedState=ca(1|i,Iu(),a,o)}function ko(e,i,a,o){var h=ve();o=o===void 0?null:o;var f=h.memoizedState.inst;Kt!==null&&o!==null&&Kh(o,Kt.memoizedState.deps)?h.memoizedState=ca(i,f,a,o):(Rt.flags|=e,h.memoizedState=ca(1|i,f,a,o))}function Yg(e,i){Cu(8390656,8,e,i)}function Qg(e,i){ko(2048,8,e,i)}function Kg(e,i){return ko(4,2,e,i)}function Xg(e,i){return ko(4,4,e,i)}function $g(e,i){if(typeof i=="function"){e=e();var a=i(e);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return e=e(),i.current=e,function(){i.current=null}}function Zg(e,i,a){a=a!=null?a.concat([e]):null,ko(4,4,$g.bind(null,i,e),a)}function af(){}function Jg(e,i){var a=ve();i=i===void 0?null:i;var o=a.memoizedState;return i!==null&&Kh(i,o[1])?o[0]:(a.memoizedState=[e,i],e)}function Wg(e,i){var a=ve();i=i===void 0?null:i;var o=a.memoizedState;if(i!==null&&Kh(i,o[1]))return o[0];if(o=e(),ys){un(!0);try{e()}finally{un(!1)}}return a.memoizedState=[o,i],o}function of(e,i,a){return a===void 0||(sr&1073741824)!==0?e.memoizedState=i:(e.memoizedState=a,e=ny(),Rt.lanes|=e,fr|=e,a)}function tp(e,i,a,o){return hn(a,i)?a:oa.current!==null?(e=of(e,a,o),hn(e,i)||(Ne=!0),e):(sr&42)===0?(Ne=!0,e.memoizedState=a):(e=ny(),Rt.lanes|=e,fr|=e,i)}function ep(e,i,a,o,h){var f=tt.p;tt.p=f!==0&&8>f?f:8;var v=q.T,E={};q.T=E,cf(e,!1,i,a);try{var b=h(),L=q.S;if(L!==null&&L(E,b),b!==null&&typeof b=="object"&&typeof b.then=="function"){var G=wT(b,o);Uo(e,i,G,pn(e))}else Uo(e,i,o,pn(e))}catch(Y){Uo(e,i,{then:function(){},status:"rejected",reason:Y},pn())}finally{tt.p=f,q.T=v}}function OT(){}function lf(e,i,a,o){if(e.tag!==5)throw Error(s(476));var h=np(e).queue;ep(e,h,i,at,a===null?OT:function(){return ip(e),a(o)})}function np(e){var i=e.memoizedState;if(i!==null)return i;i={memoizedState:at,baseState:at,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Mi,lastRenderedState:at},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Mi,lastRenderedState:a},next:null},e.memoizedState=i,e=e.alternate,e!==null&&(e.memoizedState=i),i}function ip(e){var i=np(e).next.queue;Uo(e,i,{},pn())}function uf(){return Ye(el)}function rp(){return ve().memoizedState}function sp(){return ve().memoizedState}function NT(e){for(var i=e.return;i!==null;){switch(i.tag){case 24:case 3:var a=pn();e=ir(a);var o=rr(i,e,a);o!==null&&(yn(o,i,a),No(o,i,a)),i={cache:Lh()},e.payload=i;return}i=i.return}}function MT(e,i,a){var o=pn();a={lane:o,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},Du(e)?op(i,a):(a=Ch(e,i,a,o),a!==null&&(yn(a,e,o),lp(a,i,o)))}function ap(e,i,a){var o=pn();Uo(e,i,a,o)}function Uo(e,i,a,o){var h={lane:o,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(Du(e))op(i,h);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=i.lastRenderedReducer,f!==null))try{var v=i.lastRenderedState,E=f(v,a);if(h.hasEagerState=!0,h.eagerState=E,hn(E,v))return fu(e,i,h,0),Wt===null&&hu(),!1}catch{}finally{}if(a=Ch(e,i,h,o),a!==null)return yn(a,e,o),lp(a,i,o),!0}return!1}function cf(e,i,a,o){if(o={lane:2,revertLane:qf(),action:o,hasEagerState:!1,eagerState:null,next:null},Du(e)){if(i)throw Error(s(479))}else i=Ch(e,a,o,2),i!==null&&yn(i,e,2)}function Du(e){var i=e.alternate;return e===Rt||i!==null&&i===Rt}function op(e,i){la=Su=!0;var a=e.pending;a===null?i.next=i:(i.next=a.next,a.next=i),e.pending=i}function lp(e,i,a){if((a&4194048)!==0){var o=i.lanes;o&=e.pendingLanes,a|=o,i.lanes=a,ro(e,a)}}var Ou={readContext:Ye,use:wu,useCallback:he,useContext:he,useEffect:he,useImperativeHandle:he,useLayoutEffect:he,useInsertionEffect:he,useMemo:he,useReducer:he,useRef:he,useState:he,useDebugValue:he,useDeferredValue:he,useTransition:he,useSyncExternalStore:he,useId:he,useHostTransitionStatus:he,useFormState:he,useActionState:he,useOptimistic:he,useMemoCache:he,useCacheRefresh:he},up={readContext:Ye,use:wu,useCallback:function(e,i){return nn().memoizedState=[e,i===void 0?null:i],e},useContext:Ye,useEffect:Yg,useImperativeHandle:function(e,i,a){a=a!=null?a.concat([e]):null,Cu(4194308,4,$g.bind(null,i,e),a)},useLayoutEffect:function(e,i){return Cu(4194308,4,e,i)},useInsertionEffect:function(e,i){Cu(4,2,e,i)},useMemo:function(e,i){var a=nn();i=i===void 0?null:i;var o=e();if(ys){un(!0);try{e()}finally{un(!1)}}return a.memoizedState=[o,i],o},useReducer:function(e,i,a){var o=nn();if(a!==void 0){var h=a(i);if(ys){un(!0);try{a(i)}finally{un(!1)}}}else h=i;return o.memoizedState=o.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},o.queue=e,e=e.dispatch=MT.bind(null,Rt,e),[o.memoizedState,e]},useRef:function(e){var i=nn();return e={current:e},i.memoizedState=e},useState:function(e){e=rf(e);var i=e.queue,a=ap.bind(null,Rt,i);return i.dispatch=a,[e.memoizedState,a]},useDebugValue:af,useDeferredValue:function(e,i){var a=nn();return of(a,e,i)},useTransition:function(){var e=rf(!1);return e=ep.bind(null,Rt,e.queue,!0,!1),nn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,i,a){var o=Rt,h=nn();if(Bt){if(a===void 0)throw Error(s(407));a=a()}else{if(a=i(),Wt===null)throw Error(s(349));(kt&124)!==0||Og(o,i,a)}h.memoizedState=a;var f={value:a,getSnapshot:i};return h.queue=f,Yg(Mg.bind(null,o,f,e),[e]),o.flags|=2048,ca(9,Iu(),Ng.bind(null,o,f,a,i),null),a},useId:function(){var e=nn(),i=Wt.identifierPrefix;if(Bt){var a=Di,o=Ci;a=(o&~(1<<32-Fe(o)-1)).toString(32)+a,i="«"+i+"R"+a,a=bu++,0<a&&(i+="H"+a.toString(32)),i+="»"}else a=RT++,i="«"+i+"r"+a.toString(32)+"»";return e.memoizedState=i},useHostTransitionStatus:uf,useFormState:jg,useActionState:jg,useOptimistic:function(e){var i=nn();i.memoizedState=i.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=cf.bind(null,Rt,!0,a),a.dispatch=i,[e,i]},useMemoCache:tf,useCacheRefresh:function(){return nn().memoizedState=NT.bind(null,Rt)}},cp={readContext:Ye,use:wu,useCallback:Jg,useContext:Ye,useEffect:Qg,useImperativeHandle:Zg,useInsertionEffect:Kg,useLayoutEffect:Xg,useMemo:Wg,useReducer:Ru,useRef:Fg,useState:function(){return Ru(Mi)},useDebugValue:af,useDeferredValue:function(e,i){var a=ve();return tp(a,Kt.memoizedState,e,i)},useTransition:function(){var e=Ru(Mi)[0],i=ve().memoizedState;return[typeof e=="boolean"?e:Po(e),i]},useSyncExternalStore:Dg,useId:rp,useHostTransitionStatus:uf,useFormState:qg,useActionState:qg,useOptimistic:function(e,i){var a=ve();return Pg(a,Kt,e,i)},useMemoCache:tf,useCacheRefresh:sp},xT={readContext:Ye,use:wu,useCallback:Jg,useContext:Ye,useEffect:Qg,useImperativeHandle:Zg,useInsertionEffect:Kg,useLayoutEffect:Xg,useMemo:Wg,useReducer:nf,useRef:Fg,useState:function(){return nf(Mi)},useDebugValue:af,useDeferredValue:function(e,i){var a=ve();return Kt===null?of(a,e,i):tp(a,Kt.memoizedState,e,i)},useTransition:function(){var e=nf(Mi)[0],i=ve().memoizedState;return[typeof e=="boolean"?e:Po(e),i]},useSyncExternalStore:Dg,useId:rp,useHostTransitionStatus:uf,useFormState:Gg,useActionState:Gg,useOptimistic:function(e,i){var a=ve();return Kt!==null?Pg(a,Kt,e,i):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:tf,useCacheRefresh:sp},ha=null,Lo=0;function Nu(e){var i=Lo;return Lo+=1,ha===null&&(ha=[]),Tg(ha,e,i)}function zo(e,i){i=i.props.ref,e.ref=i!==void 0?i:null}function Mu(e,i){throw i.$$typeof===I?Error(s(525)):(e=Object.prototype.toString.call(i),Error(s(31,e==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":e)))}function hp(e){var i=e._init;return i(e._payload)}function fp(e){function i(V,D){if(e){var U=V.deletions;U===null?(V.deletions=[D],V.flags|=16):U.push(D)}}function a(V,D){if(!e)return null;for(;D!==null;)i(V,D),D=D.sibling;return null}function o(V){for(var D=new Map;V!==null;)V.key!==null?D.set(V.key,V):D.set(V.index,V),V=V.sibling;return D}function h(V,D){return V=Ii(V,D),V.index=0,V.sibling=null,V}function f(V,D,U){return V.index=U,e?(U=V.alternate,U!==null?(U=U.index,U<D?(V.flags|=67108866,D):U):(V.flags|=67108866,D)):(V.flags|=1048576,D)}function v(V){return e&&V.alternate===null&&(V.flags|=67108866),V}function E(V,D,U,F){return D===null||D.tag!==6?(D=Oh(U,V.mode,F),D.return=V,D):(D=h(D,U),D.return=V,D)}function b(V,D,U,F){var st=U.type;return st===X?G(V,D,U.props.children,F,U.key):D!==null&&(D.elementType===st||typeof st=="object"&&st!==null&&st.$$typeof===S&&hp(st)===D.type)?(D=h(D,U.props),zo(D,U),D.return=V,D):(D=mu(U.type,U.key,U.props,null,V.mode,F),zo(D,U),D.return=V,D)}function L(V,D,U,F){return D===null||D.tag!==4||D.stateNode.containerInfo!==U.containerInfo||D.stateNode.implementation!==U.implementation?(D=Nh(U,V.mode,F),D.return=V,D):(D=h(D,U.children||[]),D.return=V,D)}function G(V,D,U,F,st){return D===null||D.tag!==7?(D=us(U,V.mode,F,st),D.return=V,D):(D=h(D,U),D.return=V,D)}function Y(V,D,U){if(typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint")return D=Oh(""+D,V.mode,U),D.return=V,D;if(typeof D=="object"&&D!==null){switch(D.$$typeof){case O:return U=mu(D.type,D.key,D.props,null,V.mode,U),zo(U,D),U.return=V,U;case H:return D=Nh(D,V.mode,U),D.return=V,D;case S:var F=D._init;return D=F(D._payload),Y(V,D,U)}if(te(D)||P(D))return D=us(D,V.mode,U,null),D.return=V,D;if(typeof D.then=="function")return Y(V,Nu(D),U);if(D.$$typeof===lt)return Y(V,_u(V,D),U);Mu(V,D)}return null}function z(V,D,U,F){var st=D!==null?D.key:null;if(typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint")return st!==null?null:E(V,D,""+U,F);if(typeof U=="object"&&U!==null){switch(U.$$typeof){case O:return U.key===st?b(V,D,U,F):null;case H:return U.key===st?L(V,D,U,F):null;case S:return st=U._init,U=st(U._payload),z(V,D,U,F)}if(te(U)||P(U))return st!==null?null:G(V,D,U,F,null);if(typeof U.then=="function")return z(V,D,Nu(U),F);if(U.$$typeof===lt)return z(V,D,_u(V,U),F);Mu(V,U)}return null}function B(V,D,U,F,st){if(typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint")return V=V.get(U)||null,E(D,V,""+F,st);if(typeof F=="object"&&F!==null){switch(F.$$typeof){case O:return V=V.get(F.key===null?U:F.key)||null,b(D,V,F,st);case H:return V=V.get(F.key===null?U:F.key)||null,L(D,V,F,st);case S:var Ct=F._init;return F=Ct(F._payload),B(V,D,U,F,st)}if(te(F)||P(F))return V=V.get(U)||null,G(D,V,F,st,null);if(typeof F.then=="function")return B(V,D,U,Nu(F),st);if(F.$$typeof===lt)return B(V,D,U,_u(D,F),st);Mu(D,F)}return null}function yt(V,D,U,F){for(var st=null,Ct=null,ot=D,mt=D=0,xe=null;ot!==null&&mt<U.length;mt++){ot.index>mt?(xe=ot,ot=null):xe=ot.sibling;var zt=z(V,ot,U[mt],F);if(zt===null){ot===null&&(ot=xe);break}e&&ot&&zt.alternate===null&&i(V,ot),D=f(zt,D,mt),Ct===null?st=zt:Ct.sibling=zt,Ct=zt,ot=xe}if(mt===U.length)return a(V,ot),Bt&&hs(V,mt),st;if(ot===null){for(;mt<U.length;mt++)ot=Y(V,U[mt],F),ot!==null&&(D=f(ot,D,mt),Ct===null?st=ot:Ct.sibling=ot,Ct=ot);return Bt&&hs(V,mt),st}for(ot=o(ot);mt<U.length;mt++)xe=B(ot,V,mt,U[mt],F),xe!==null&&(e&&xe.alternate!==null&&ot.delete(xe.key===null?mt:xe.key),D=f(xe,D,mt),Ct===null?st=xe:Ct.sibling=xe,Ct=xe);return e&&ot.forEach(function(Tr){return i(V,Tr)}),Bt&&hs(V,mt),st}function ht(V,D,U,F){if(U==null)throw Error(s(151));for(var st=null,Ct=null,ot=D,mt=D=0,xe=null,zt=U.next();ot!==null&&!zt.done;mt++,zt=U.next()){ot.index>mt?(xe=ot,ot=null):xe=ot.sibling;var Tr=z(V,ot,zt.value,F);if(Tr===null){ot===null&&(ot=xe);break}e&&ot&&Tr.alternate===null&&i(V,ot),D=f(Tr,D,mt),Ct===null?st=Tr:Ct.sibling=Tr,Ct=Tr,ot=xe}if(zt.done)return a(V,ot),Bt&&hs(V,mt),st;if(ot===null){for(;!zt.done;mt++,zt=U.next())zt=Y(V,zt.value,F),zt!==null&&(D=f(zt,D,mt),Ct===null?st=zt:Ct.sibling=zt,Ct=zt);return Bt&&hs(V,mt),st}for(ot=o(ot);!zt.done;mt++,zt=U.next())zt=B(ot,V,mt,zt.value,F),zt!==null&&(e&&zt.alternate!==null&&ot.delete(zt.key===null?mt:zt.key),D=f(zt,D,mt),Ct===null?st=zt:Ct.sibling=zt,Ct=zt);return e&&ot.forEach(function(VA){return i(V,VA)}),Bt&&hs(V,mt),st}function $t(V,D,U,F){if(typeof U=="object"&&U!==null&&U.type===X&&U.key===null&&(U=U.props.children),typeof U=="object"&&U!==null){switch(U.$$typeof){case O:t:{for(var st=U.key;D!==null;){if(D.key===st){if(st=U.type,st===X){if(D.tag===7){a(V,D.sibling),F=h(D,U.props.children),F.return=V,V=F;break t}}else if(D.elementType===st||typeof st=="object"&&st!==null&&st.$$typeof===S&&hp(st)===D.type){a(V,D.sibling),F=h(D,U.props),zo(F,U),F.return=V,V=F;break t}a(V,D);break}else i(V,D);D=D.sibling}U.type===X?(F=us(U.props.children,V.mode,F,U.key),F.return=V,V=F):(F=mu(U.type,U.key,U.props,null,V.mode,F),zo(F,U),F.return=V,V=F)}return v(V);case H:t:{for(st=U.key;D!==null;){if(D.key===st)if(D.tag===4&&D.stateNode.containerInfo===U.containerInfo&&D.stateNode.implementation===U.implementation){a(V,D.sibling),F=h(D,U.children||[]),F.return=V,V=F;break t}else{a(V,D);break}else i(V,D);D=D.sibling}F=Nh(U,V.mode,F),F.return=V,V=F}return v(V);case S:return st=U._init,U=st(U._payload),$t(V,D,U,F)}if(te(U))return yt(V,D,U,F);if(P(U)){if(st=P(U),typeof st!="function")throw Error(s(150));return U=st.call(U),ht(V,D,U,F)}if(typeof U.then=="function")return $t(V,D,Nu(U),F);if(U.$$typeof===lt)return $t(V,D,_u(V,U),F);Mu(V,U)}return typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint"?(U=""+U,D!==null&&D.tag===6?(a(V,D.sibling),F=h(D,U),F.return=V,V=F):(a(V,D),F=Oh(U,V.mode,F),F.return=V,V=F),v(V)):a(V,D)}return function(V,D,U,F){try{Lo=0;var st=$t(V,D,U,F);return ha=null,st}catch(ot){if(ot===Do||ot===Eu)throw ot;var Ct=fn(29,ot,null,V.mode);return Ct.lanes=F,Ct.return=V,Ct}finally{}}}var fa=fp(!0),dp=fp(!1),Dn=K(null),ii=null;function ar(e){var i=e.alternate;J(we,we.current&1),J(Dn,e),ii===null&&(i===null||oa.current!==null||i.memoizedState!==null)&&(ii=e)}function mp(e){if(e.tag===22){if(J(we,we.current),J(Dn,e),ii===null){var i=e.alternate;i!==null&&i.memoizedState!==null&&(ii=e)}}else or()}function or(){J(we,we.current),J(Dn,Dn.current)}function xi(e){et(Dn),ii===e&&(ii=null),et(we)}var we=K(0);function xu(e){for(var i=e;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||td(a)))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}function hf(e,i,a,o){i=e.memoizedState,a=a(o,i),a=a==null?i:A({},i,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var ff={enqueueSetState:function(e,i,a){e=e._reactInternals;var o=pn(),h=ir(o);h.payload=i,a!=null&&(h.callback=a),i=rr(e,h,o),i!==null&&(yn(i,e,o),No(i,e,o))},enqueueReplaceState:function(e,i,a){e=e._reactInternals;var o=pn(),h=ir(o);h.tag=1,h.payload=i,a!=null&&(h.callback=a),i=rr(e,h,o),i!==null&&(yn(i,e,o),No(i,e,o))},enqueueForceUpdate:function(e,i){e=e._reactInternals;var a=pn(),o=ir(a);o.tag=2,i!=null&&(o.callback=i),i=rr(e,o,a),i!==null&&(yn(i,e,a),No(i,e,a))}};function gp(e,i,a,o,h,f,v){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,f,v):i.prototype&&i.prototype.isPureReactComponent?!To(a,o)||!To(h,f):!0}function pp(e,i,a,o){e=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,o),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,o),i.state!==e&&ff.enqueueReplaceState(i,i.state,null)}function _s(e,i){var a=i;if("ref"in i){a={};for(var o in i)o!=="ref"&&(a[o]=i[o])}if(e=e.defaultProps){a===i&&(a=A({},a));for(var h in e)a[h]===void 0&&(a[h]=e[h])}return a}var Vu=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function yp(e){Vu(e)}function _p(e){console.error(e)}function vp(e){Vu(e)}function Pu(e,i){try{var a=e.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(o){setTimeout(function(){throw o})}}function Ep(e,i,a){try{var o=e.onCaughtError;o(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function df(e,i,a){return a=ir(a),a.tag=3,a.payload={element:null},a.callback=function(){Pu(e,i)},a}function Tp(e){return e=ir(e),e.tag=3,e}function Ap(e,i,a,o){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var f=o.value;e.payload=function(){return h(f)},e.callback=function(){Ep(i,a,o)}}var v=a.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(e.callback=function(){Ep(i,a,o),typeof h!="function"&&(dr===null?dr=new Set([this]):dr.add(this));var E=o.stack;this.componentDidCatch(o.value,{componentStack:E!==null?E:""})})}function VT(e,i,a,o,h){if(a.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(i=a.alternate,i!==null&&Ro(i,a,h,!0),a=Dn.current,a!==null){switch(a.tag){case 13:return ii===null?Uf():a.alternate===null&&le===0&&(le=3),a.flags&=-257,a.flags|=65536,a.lanes=h,o===jh?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([o]):i.add(o),zf(e,o,h)),!1;case 22:return a.flags|=65536,o===jh?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([o])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([o]):a.add(o)),zf(e,o,h)),!1}throw Error(s(435,a.tag))}return zf(e,o,h),Uf(),!1}if(Bt)return i=Dn.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=h,o!==Vh&&(e=Error(s(422),{cause:o}),wo(wn(e,a)))):(o!==Vh&&(i=Error(s(423),{cause:o}),wo(wn(i,a))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,o=wn(o,a),h=df(e.stateNode,o,h),Gh(e,h),le!==4&&(le=2)),!1;var f=Error(s(520),{cause:o});if(f=wn(f,a),Yo===null?Yo=[f]:Yo.push(f),le!==4&&(le=2),i===null)return!0;o=wn(o,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,e=h&-h,a.lanes|=e,e=df(a.stateNode,o,e),Gh(a,e),!1;case 1:if(i=a.type,f=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(dr===null||!dr.has(f))))return a.flags|=65536,h&=-h,a.lanes|=h,h=Tp(h),Ap(h,e,a,o),Gh(a,h),!1}a=a.return}while(a!==null);return!1}var Sp=Error(s(461)),Ne=!1;function Ue(e,i,a,o){i.child=e===null?dp(i,null,a,o):fa(i,e.child,a,o)}function bp(e,i,a,o,h){a=a.render;var f=i.ref;if("ref"in o){var v={};for(var E in o)E!=="ref"&&(v[E]=o[E])}else v=o;return gs(i),o=Xh(e,i,a,v,f,h),E=$h(),e!==null&&!Ne?(Zh(e,i,h),Vi(e,i,h)):(Bt&&E&&Mh(i),i.flags|=1,Ue(e,i,o,h),i.child)}function wp(e,i,a,o,h){if(e===null){var f=a.type;return typeof f=="function"&&!Dh(f)&&f.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=f,Rp(e,i,f,o,h)):(e=mu(a.type,null,o,i,i.mode,h),e.ref=i.ref,e.return=i,i.child=e)}if(f=e.child,!Tf(e,h)){var v=f.memoizedProps;if(a=a.compare,a=a!==null?a:To,a(v,o)&&e.ref===i.ref)return Vi(e,i,h)}return i.flags|=1,e=Ii(f,o),e.ref=i.ref,e.return=i,i.child=e}function Rp(e,i,a,o,h){if(e!==null){var f=e.memoizedProps;if(To(f,o)&&e.ref===i.ref)if(Ne=!1,i.pendingProps=o=f,Tf(e,h))(e.flags&131072)!==0&&(Ne=!0);else return i.lanes=e.lanes,Vi(e,i,h)}return mf(e,i,a,o,h)}function Ip(e,i,a){var o=i.pendingProps,h=o.children,f=e!==null?e.memoizedState:null;if(o.mode==="hidden"){if((i.flags&128)!==0){if(o=f!==null?f.baseLanes|a:a,e!==null){for(h=i.child=e.child,f=0;h!==null;)f=f|h.lanes|h.childLanes,h=h.sibling;i.childLanes=f&~o}else i.childLanes=0,i.child=null;return Cp(e,i,o,a)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},e!==null&&vu(i,f!==null?f.cachePool:null),f!==null?Rg(i,f):Yh(),mp(i);else return i.lanes=i.childLanes=536870912,Cp(e,i,f!==null?f.baseLanes|a:a,a)}else f!==null?(vu(i,f.cachePool),Rg(i,f),or(),i.memoizedState=null):(e!==null&&vu(i,null),Yh(),or());return Ue(e,i,h,a),i.child}function Cp(e,i,a,o){var h=Bh();return h=h===null?null:{parent:be._currentValue,pool:h},i.memoizedState={baseLanes:a,cachePool:h},e!==null&&vu(i,null),Yh(),mp(i),e!==null&&Ro(e,i,o,!0),null}function ku(e,i){var a=i.ref;if(a===null)e!==null&&e.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(e===null||e.ref!==a)&&(i.flags|=4194816)}}function mf(e,i,a,o,h){return gs(i),a=Xh(e,i,a,o,void 0,h),o=$h(),e!==null&&!Ne?(Zh(e,i,h),Vi(e,i,h)):(Bt&&o&&Mh(i),i.flags|=1,Ue(e,i,a,h),i.child)}function Dp(e,i,a,o,h,f){return gs(i),i.updateQueue=null,a=Cg(i,o,a,h),Ig(e),o=$h(),e!==null&&!Ne?(Zh(e,i,f),Vi(e,i,f)):(Bt&&o&&Mh(i),i.flags|=1,Ue(e,i,a,f),i.child)}function Op(e,i,a,o,h){if(gs(i),i.stateNode===null){var f=na,v=a.contextType;typeof v=="object"&&v!==null&&(f=Ye(v)),f=new a(o,f),i.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=ff,i.stateNode=f,f._reactInternals=i,f=i.stateNode,f.props=o,f.state=i.memoizedState,f.refs={},qh(i),v=a.contextType,f.context=typeof v=="object"&&v!==null?Ye(v):na,f.state=i.memoizedState,v=a.getDerivedStateFromProps,typeof v=="function"&&(hf(i,a,v,o),f.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(v=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),v!==f.state&&ff.enqueueReplaceState(f,f.state,null),xo(i,o,f,h),Mo(),f.state=i.memoizedState),typeof f.componentDidMount=="function"&&(i.flags|=4194308),o=!0}else if(e===null){f=i.stateNode;var E=i.memoizedProps,b=_s(a,E);f.props=b;var L=f.context,G=a.contextType;v=na,typeof G=="object"&&G!==null&&(v=Ye(G));var Y=a.getDerivedStateFromProps;G=typeof Y=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=i.pendingProps!==E,G||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||L!==v)&&pp(i,f,o,v),nr=!1;var z=i.memoizedState;f.state=z,xo(i,o,f,h),Mo(),L=i.memoizedState,E||z!==L||nr?(typeof Y=="function"&&(hf(i,a,Y,o),L=i.memoizedState),(b=nr||gp(i,a,b,o,z,L,v))?(G||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(i.flags|=4194308)):(typeof f.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=o,i.memoizedState=L),f.props=o,f.state=L,f.context=v,o=b):(typeof f.componentDidMount=="function"&&(i.flags|=4194308),o=!1)}else{f=i.stateNode,Hh(e,i),v=i.memoizedProps,G=_s(a,v),f.props=G,Y=i.pendingProps,z=f.context,L=a.contextType,b=na,typeof L=="object"&&L!==null&&(b=Ye(L)),E=a.getDerivedStateFromProps,(L=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(v!==Y||z!==b)&&pp(i,f,o,b),nr=!1,z=i.memoizedState,f.state=z,xo(i,o,f,h),Mo();var B=i.memoizedState;v!==Y||z!==B||nr||e!==null&&e.dependencies!==null&&yu(e.dependencies)?(typeof E=="function"&&(hf(i,a,E,o),B=i.memoizedState),(G=nr||gp(i,a,G,o,z,B,b)||e!==null&&e.dependencies!==null&&yu(e.dependencies))?(L||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(o,B,b),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(o,B,b)),typeof f.componentDidUpdate=="function"&&(i.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof f.componentDidUpdate!="function"||v===e.memoizedProps&&z===e.memoizedState||(i.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||v===e.memoizedProps&&z===e.memoizedState||(i.flags|=1024),i.memoizedProps=o,i.memoizedState=B),f.props=o,f.state=B,f.context=b,o=G):(typeof f.componentDidUpdate!="function"||v===e.memoizedProps&&z===e.memoizedState||(i.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||v===e.memoizedProps&&z===e.memoizedState||(i.flags|=1024),o=!1)}return f=o,ku(e,i),o=(i.flags&128)!==0,f||o?(f=i.stateNode,a=o&&typeof a.getDerivedStateFromError!="function"?null:f.render(),i.flags|=1,e!==null&&o?(i.child=fa(i,e.child,null,h),i.child=fa(i,null,a,h)):Ue(e,i,a,h),i.memoizedState=f.state,e=i.child):e=Vi(e,i,h),e}function Np(e,i,a,o){return bo(),i.flags|=256,Ue(e,i,a,o),i.child}var gf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function pf(e){return{baseLanes:e,cachePool:_g()}}function yf(e,i,a){return e=e!==null?e.childLanes&~a:0,i&&(e|=On),e}function Mp(e,i,a){var o=i.pendingProps,h=!1,f=(i.flags&128)!==0,v;if((v=f)||(v=e!==null&&e.memoizedState===null?!1:(we.current&2)!==0),v&&(h=!0,i.flags&=-129),v=(i.flags&32)!==0,i.flags&=-33,e===null){if(Bt){if(h?ar(i):or(),Bt){var E=oe,b;if(b=E){t:{for(b=E,E=ni;b.nodeType!==8;){if(!E){E=null;break t}if(b=Bn(b.nextSibling),b===null){E=null;break t}}E=b}E!==null?(i.memoizedState={dehydrated:E,treeContext:cs!==null?{id:Ci,overflow:Di}:null,retryLane:536870912,hydrationErrors:null},b=fn(18,null,null,0),b.stateNode=E,b.return=i,i.child=b,en=i,oe=null,b=!0):b=!1}b||ds(i)}if(E=i.memoizedState,E!==null&&(E=E.dehydrated,E!==null))return td(E)?i.lanes=32:i.lanes=536870912,null;xi(i)}return E=o.children,o=o.fallback,h?(or(),h=i.mode,E=Uu({mode:"hidden",children:E},h),o=us(o,h,a,null),E.return=i,o.return=i,E.sibling=o,i.child=E,h=i.child,h.memoizedState=pf(a),h.childLanes=yf(e,v,a),i.memoizedState=gf,o):(ar(i),_f(i,E))}if(b=e.memoizedState,b!==null&&(E=b.dehydrated,E!==null)){if(f)i.flags&256?(ar(i),i.flags&=-257,i=vf(e,i,a)):i.memoizedState!==null?(or(),i.child=e.child,i.flags|=128,i=null):(or(),h=o.fallback,E=i.mode,o=Uu({mode:"visible",children:o.children},E),h=us(h,E,a,null),h.flags|=2,o.return=i,h.return=i,o.sibling=h,i.child=o,fa(i,e.child,null,a),o=i.child,o.memoizedState=pf(a),o.childLanes=yf(e,v,a),i.memoizedState=gf,i=h);else if(ar(i),td(E)){if(v=E.nextSibling&&E.nextSibling.dataset,v)var L=v.dgst;v=L,o=Error(s(419)),o.stack="",o.digest=v,wo({value:o,source:null,stack:null}),i=vf(e,i,a)}else if(Ne||Ro(e,i,a,!1),v=(a&e.childLanes)!==0,Ne||v){if(v=Wt,v!==null&&(o=a&-a,o=(o&42)!==0?1:Ki(o),o=(o&(v.suspendedLanes|a))!==0?0:o,o!==0&&o!==b.retryLane))throw b.retryLane=o,ea(e,o),yn(v,e,o),Sp;E.data==="$?"||Uf(),i=vf(e,i,a)}else E.data==="$?"?(i.flags|=192,i.child=e.child,i=null):(e=b.treeContext,oe=Bn(E.nextSibling),en=i,Bt=!0,fs=null,ni=!1,e!==null&&(In[Cn++]=Ci,In[Cn++]=Di,In[Cn++]=cs,Ci=e.id,Di=e.overflow,cs=i),i=_f(i,o.children),i.flags|=4096);return i}return h?(or(),h=o.fallback,E=i.mode,b=e.child,L=b.sibling,o=Ii(b,{mode:"hidden",children:o.children}),o.subtreeFlags=b.subtreeFlags&65011712,L!==null?h=Ii(L,h):(h=us(h,E,a,null),h.flags|=2),h.return=i,o.return=i,o.sibling=h,i.child=o,o=h,h=i.child,E=e.child.memoizedState,E===null?E=pf(a):(b=E.cachePool,b!==null?(L=be._currentValue,b=b.parent!==L?{parent:L,pool:L}:b):b=_g(),E={baseLanes:E.baseLanes|a,cachePool:b}),h.memoizedState=E,h.childLanes=yf(e,v,a),i.memoizedState=gf,o):(ar(i),a=e.child,e=a.sibling,a=Ii(a,{mode:"visible",children:o.children}),a.return=i,a.sibling=null,e!==null&&(v=i.deletions,v===null?(i.deletions=[e],i.flags|=16):v.push(e)),i.child=a,i.memoizedState=null,a)}function _f(e,i){return i=Uu({mode:"visible",children:i},e.mode),i.return=e,e.child=i}function Uu(e,i){return e=fn(22,e,null,i),e.lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function vf(e,i,a){return fa(i,e.child,null,a),e=_f(i,i.pendingProps.children),e.flags|=2,i.memoizedState=null,e}function xp(e,i,a){e.lanes|=i;var o=e.alternate;o!==null&&(o.lanes|=i),kh(e.return,i,a)}function Ef(e,i,a,o,h){var f=e.memoizedState;f===null?e.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:o,tail:a,tailMode:h}:(f.isBackwards=i,f.rendering=null,f.renderingStartTime=0,f.last=o,f.tail=a,f.tailMode=h)}function Vp(e,i,a){var o=i.pendingProps,h=o.revealOrder,f=o.tail;if(Ue(e,i,o.children,a),o=we.current,(o&2)!==0)o=o&1|2,i.flags|=128;else{if(e!==null&&(e.flags&128)!==0)t:for(e=i.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&xp(e,a,i);else if(e.tag===19)xp(e,a,i);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===i)break t;for(;e.sibling===null;){if(e.return===null||e.return===i)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}o&=1}switch(J(we,o),h){case"forwards":for(a=i.child,h=null;a!==null;)e=a.alternate,e!==null&&xu(e)===null&&(h=a),a=a.sibling;a=h,a===null?(h=i.child,i.child=null):(h=a.sibling,a.sibling=null),Ef(i,!1,h,a,f);break;case"backwards":for(a=null,h=i.child,i.child=null;h!==null;){if(e=h.alternate,e!==null&&xu(e)===null){i.child=h;break}e=h.sibling,h.sibling=a,a=h,h=e}Ef(i,!0,a,null,f);break;case"together":Ef(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function Vi(e,i,a){if(e!==null&&(i.dependencies=e.dependencies),fr|=i.lanes,(a&i.childLanes)===0)if(e!==null){if(Ro(e,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(e!==null&&i.child!==e.child)throw Error(s(153));if(i.child!==null){for(e=i.child,a=Ii(e,e.pendingProps),i.child=a,a.return=i;e.sibling!==null;)e=e.sibling,a=a.sibling=Ii(e,e.pendingProps),a.return=i;a.sibling=null}return i.child}function Tf(e,i){return(e.lanes&i)!==0?!0:(e=e.dependencies,!!(e!==null&&yu(e)))}function PT(e,i,a){switch(i.tag){case 3:Yt(i,i.stateNode.containerInfo),er(i,be,e.memoizedState.cache),bo();break;case 27:case 5:Vn(i);break;case 4:Yt(i,i.stateNode.containerInfo);break;case 10:er(i,i.type,i.memoizedProps.value);break;case 13:var o=i.memoizedState;if(o!==null)return o.dehydrated!==null?(ar(i),i.flags|=128,null):(a&i.child.childLanes)!==0?Mp(e,i,a):(ar(i),e=Vi(e,i,a),e!==null?e.sibling:null);ar(i);break;case 19:var h=(e.flags&128)!==0;if(o=(a&i.childLanes)!==0,o||(Ro(e,i,a,!1),o=(a&i.childLanes)!==0),h){if(o)return Vp(e,i,a);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),J(we,we.current),o)break;return null;case 22:case 23:return i.lanes=0,Ip(e,i,a);case 24:er(i,be,e.memoizedState.cache)}return Vi(e,i,a)}function Pp(e,i,a){if(e!==null)if(e.memoizedProps!==i.pendingProps)Ne=!0;else{if(!Tf(e,a)&&(i.flags&128)===0)return Ne=!1,PT(e,i,a);Ne=(e.flags&131072)!==0}else Ne=!1,Bt&&(i.flags&1048576)!==0&&hg(i,pu,i.index);switch(i.lanes=0,i.tag){case 16:t:{e=i.pendingProps;var o=i.elementType,h=o._init;if(o=h(o._payload),i.type=o,typeof o=="function")Dh(o)?(e=_s(o,e),i.tag=1,i=Op(null,i,o,e,a)):(i.tag=0,i=mf(null,i,o,e,a));else{if(o!=null){if(h=o.$$typeof,h===St){i.tag=11,i=bp(null,i,o,e,a);break t}else if(h===M){i.tag=14,i=wp(null,i,o,e,a);break t}}throw i=me(o)||o,Error(s(306,i,""))}}return i;case 0:return mf(e,i,i.type,i.pendingProps,a);case 1:return o=i.type,h=_s(o,i.pendingProps),Op(e,i,o,h,a);case 3:t:{if(Yt(i,i.stateNode.containerInfo),e===null)throw Error(s(387));o=i.pendingProps;var f=i.memoizedState;h=f.element,Hh(e,i),xo(i,o,null,a);var v=i.memoizedState;if(o=v.cache,er(i,be,o),o!==f.cache&&Uh(i,[be],a,!0),Mo(),o=v.element,f.isDehydrated)if(f={element:o,isDehydrated:!1,cache:v.cache},i.updateQueue.baseState=f,i.memoizedState=f,i.flags&256){i=Np(e,i,o,a);break t}else if(o!==h){h=wn(Error(s(424)),i),wo(h),i=Np(e,i,o,a);break t}else{switch(e=i.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(oe=Bn(e.firstChild),en=i,Bt=!0,fs=null,ni=!0,a=dp(i,null,o,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(bo(),o===h){i=Vi(e,i,a);break t}Ue(e,i,o,a)}i=i.child}return i;case 26:return ku(e,i),e===null?(a=zy(i.type,null,i.pendingProps,null))?i.memoizedState=a:Bt||(a=i.type,e=i.pendingProps,o=Zu(pt.current).createElement(a),o[Te]=i,o[pe]=e,ze(o,a,e),ce(o),i.stateNode=o):i.memoizedState=zy(i.type,e.memoizedProps,i.pendingProps,e.memoizedState),null;case 27:return Vn(i),e===null&&Bt&&(o=i.stateNode=ky(i.type,i.pendingProps,pt.current),en=i,ni=!0,h=oe,pr(i.type)?(ed=h,oe=Bn(o.firstChild)):oe=h),Ue(e,i,i.pendingProps.children,a),ku(e,i),e===null&&(i.flags|=4194304),i.child;case 5:return e===null&&Bt&&((h=o=oe)&&(o=uA(o,i.type,i.pendingProps,ni),o!==null?(i.stateNode=o,en=i,oe=Bn(o.firstChild),ni=!1,h=!0):h=!1),h||ds(i)),Vn(i),h=i.type,f=i.pendingProps,v=e!==null?e.memoizedProps:null,o=f.children,Zf(h,f)?o=null:v!==null&&Zf(h,v)&&(i.flags|=32),i.memoizedState!==null&&(h=Xh(e,i,IT,null,null,a),el._currentValue=h),ku(e,i),Ue(e,i,o,a),i.child;case 6:return e===null&&Bt&&((e=a=oe)&&(a=cA(a,i.pendingProps,ni),a!==null?(i.stateNode=a,en=i,oe=null,e=!0):e=!1),e||ds(i)),null;case 13:return Mp(e,i,a);case 4:return Yt(i,i.stateNode.containerInfo),o=i.pendingProps,e===null?i.child=fa(i,null,o,a):Ue(e,i,o,a),i.child;case 11:return bp(e,i,i.type,i.pendingProps,a);case 7:return Ue(e,i,i.pendingProps,a),i.child;case 8:return Ue(e,i,i.pendingProps.children,a),i.child;case 12:return Ue(e,i,i.pendingProps.children,a),i.child;case 10:return o=i.pendingProps,er(i,i.type,o.value),Ue(e,i,o.children,a),i.child;case 9:return h=i.type._context,o=i.pendingProps.children,gs(i),h=Ye(h),o=o(h),i.flags|=1,Ue(e,i,o,a),i.child;case 14:return wp(e,i,i.type,i.pendingProps,a);case 15:return Rp(e,i,i.type,i.pendingProps,a);case 19:return Vp(e,i,a);case 31:return o=i.pendingProps,a=i.mode,o={mode:o.mode,children:o.children},e===null?(a=Uu(o,a),a.ref=i.ref,i.child=a,a.return=i,i=a):(a=Ii(e.child,o),a.ref=i.ref,i.child=a,a.return=i,i=a),i;case 22:return Ip(e,i,a);case 24:return gs(i),o=Ye(be),e===null?(h=Bh(),h===null&&(h=Wt,f=Lh(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=a),h=f),i.memoizedState={parent:o,cache:h},qh(i),er(i,be,h)):((e.lanes&a)!==0&&(Hh(e,i),xo(i,null,null,a),Mo()),h=e.memoizedState,f=i.memoizedState,h.parent!==o?(h={parent:o,cache:o},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),er(i,be,o)):(o=f.cache,er(i,be,o),o!==h.cache&&Uh(i,[be],a,!0))),Ue(e,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}function Pi(e){e.flags|=4}function kp(e,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Gy(i)){if(i=Dn.current,i!==null&&((kt&4194048)===kt?ii!==null:(kt&62914560)!==kt&&(kt&536870912)===0||i!==ii))throw Oo=jh,vg;e.flags|=8192}}function Lu(e,i){i!==null&&(e.flags|=4),e.flags&16384&&(i=e.tag!==22?no():536870912,e.lanes|=i,pa|=i)}function Bo(e,i){if(!Bt)switch(e.tailMode){case"hidden":i=e.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var o=null;a!==null;)a.alternate!==null&&(o=a),a=a.sibling;o===null?i||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function re(e){var i=e.alternate!==null&&e.alternate.child===e.child,a=0,o=0;if(i)for(var h=e.child;h!==null;)a|=h.lanes|h.childLanes,o|=h.subtreeFlags&65011712,o|=h.flags&65011712,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)a|=h.lanes|h.childLanes,o|=h.subtreeFlags,o|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=o,e.childLanes=a,i}function kT(e,i,a){var o=i.pendingProps;switch(xh(i),i.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return re(i),null;case 1:return re(i),null;case 3:return a=i.stateNode,o=null,e!==null&&(o=e.memoizedState.cache),i.memoizedState.cache!==o&&(i.flags|=2048),Ni(be),on(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(So(i)?Pi(i):e===null||e.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,mg())),re(i),null;case 26:return a=i.memoizedState,e===null?(Pi(i),a!==null?(re(i),kp(i,a)):(re(i),i.flags&=-16777217)):a?a!==e.memoizedState?(Pi(i),re(i),kp(i,a)):(re(i),i.flags&=-16777217):(e.memoizedProps!==o&&Pi(i),re(i),i.flags&=-16777217),null;case 27:Zt(i),a=pt.current;var h=i.type;if(e!==null&&i.stateNode!=null)e.memoizedProps!==o&&Pi(i);else{if(!o){if(i.stateNode===null)throw Error(s(166));return re(i),null}e=ut.current,So(i)?fg(i):(e=ky(h,o,a),i.stateNode=e,Pi(i))}return re(i),null;case 5:if(Zt(i),a=i.type,e!==null&&i.stateNode!=null)e.memoizedProps!==o&&Pi(i);else{if(!o){if(i.stateNode===null)throw Error(s(166));return re(i),null}if(e=ut.current,So(i))fg(i);else{switch(h=Zu(pt.current),e){case 1:e=h.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:e=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":e=h.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":e=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":e=h.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof o.is=="string"?h.createElement("select",{is:o.is}):h.createElement("select"),o.multiple?e.multiple=!0:o.size&&(e.size=o.size);break;default:e=typeof o.is=="string"?h.createElement(a,{is:o.is}):h.createElement(a)}}e[Te]=i,e[pe]=o;t:for(h=i.child;h!==null;){if(h.tag===5||h.tag===6)e.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===i)break t;for(;h.sibling===null;){if(h.return===null||h.return===i)break t;h=h.return}h.sibling.return=h.return,h=h.sibling}i.stateNode=e;t:switch(ze(e,a,o),a){case"button":case"input":case"select":case"textarea":e=!!o.autoFocus;break t;case"img":e=!0;break t;default:e=!1}e&&Pi(i)}}return re(i),i.flags&=-16777217,null;case 6:if(e&&i.stateNode!=null)e.memoizedProps!==o&&Pi(i);else{if(typeof o!="string"&&i.stateNode===null)throw Error(s(166));if(e=pt.current,So(i)){if(e=i.stateNode,a=i.memoizedProps,o=null,h=en,h!==null)switch(h.tag){case 27:case 5:o=h.memoizedProps}e[Te]=i,e=!!(e.nodeValue===a||o!==null&&o.suppressHydrationWarning===!0||Dy(e.nodeValue,a)),e||ds(i)}else e=Zu(e).createTextNode(o),e[Te]=i,i.stateNode=e}return re(i),null;case 13:if(o=i.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=So(i),o!==null&&o.dehydrated!==null){if(e===null){if(!h)throw Error(s(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[Te]=i}else bo(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;re(i),h=!1}else h=mg(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=h),h=!0;if(!h)return i.flags&256?(xi(i),i):(xi(i),null)}if(xi(i),(i.flags&128)!==0)return i.lanes=a,i;if(a=o!==null,e=e!==null&&e.memoizedState!==null,a){o=i.child,h=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(h=o.alternate.memoizedState.cachePool.pool);var f=null;o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),f!==h&&(o.flags|=2048)}return a!==e&&a&&(i.child.flags|=8192),Lu(i,i.updateQueue),re(i),null;case 4:return on(),e===null&&Yf(i.stateNode.containerInfo),re(i),null;case 10:return Ni(i.type),re(i),null;case 19:if(et(we),h=i.memoizedState,h===null)return re(i),null;if(o=(i.flags&128)!==0,f=h.rendering,f===null)if(o)Bo(h,!1);else{if(le!==0||e!==null&&(e.flags&128)!==0)for(e=i.child;e!==null;){if(f=xu(e),f!==null){for(i.flags|=128,Bo(h,!1),e=f.updateQueue,i.updateQueue=e,Lu(i,e),i.subtreeFlags=0,e=a,a=i.child;a!==null;)cg(a,e),a=a.sibling;return J(we,we.current&1|2),i.child}e=e.sibling}h.tail!==null&&vn()>ju&&(i.flags|=128,o=!0,Bo(h,!1),i.lanes=4194304)}else{if(!o)if(e=xu(f),e!==null){if(i.flags|=128,o=!0,e=e.updateQueue,i.updateQueue=e,Lu(i,e),Bo(h,!0),h.tail===null&&h.tailMode==="hidden"&&!f.alternate&&!Bt)return re(i),null}else 2*vn()-h.renderingStartTime>ju&&a!==536870912&&(i.flags|=128,o=!0,Bo(h,!1),i.lanes=4194304);h.isBackwards?(f.sibling=i.child,i.child=f):(e=h.last,e!==null?e.sibling=f:i.child=f,h.last=f)}return h.tail!==null?(i=h.tail,h.rendering=i,h.tail=i.sibling,h.renderingStartTime=vn(),i.sibling=null,e=we.current,J(we,o?e&1|2:e&1),i):(re(i),null);case 22:case 23:return xi(i),Qh(),o=i.memoizedState!==null,e!==null?e.memoizedState!==null!==o&&(i.flags|=8192):o&&(i.flags|=8192),o?(a&536870912)!==0&&(i.flags&128)===0&&(re(i),i.subtreeFlags&6&&(i.flags|=8192)):re(i),a=i.updateQueue,a!==null&&Lu(i,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),o=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),o!==a&&(i.flags|=2048),e!==null&&et(ps),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),Ni(be),re(i),null;case 25:return null;case 30:return null}throw Error(s(156,i.tag))}function UT(e,i){switch(xh(i),i.tag){case 1:return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 3:return Ni(be),on(),e=i.flags,(e&65536)!==0&&(e&128)===0?(i.flags=e&-65537|128,i):null;case 26:case 27:case 5:return Zt(i),null;case 13:if(xi(i),e=i.memoizedState,e!==null&&e.dehydrated!==null){if(i.alternate===null)throw Error(s(340));bo()}return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 19:return et(we),null;case 4:return on(),null;case 10:return Ni(i.type),null;case 22:case 23:return xi(i),Qh(),e!==null&&et(ps),e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 24:return Ni(be),null;case 25:return null;default:return null}}function Up(e,i){switch(xh(i),i.tag){case 3:Ni(be),on();break;case 26:case 27:case 5:Zt(i);break;case 4:on();break;case 13:xi(i);break;case 19:et(we);break;case 10:Ni(i.type);break;case 22:case 23:xi(i),Qh(),e!==null&&et(ps);break;case 24:Ni(be)}}function jo(e,i){try{var a=i.updateQueue,o=a!==null?a.lastEffect:null;if(o!==null){var h=o.next;a=h;do{if((a.tag&e)===e){o=void 0;var f=a.create,v=a.inst;o=f(),v.destroy=o}a=a.next}while(a!==h)}}catch(E){Jt(i,i.return,E)}}function lr(e,i,a){try{var o=i.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var f=h.next;o=f;do{if((o.tag&e)===e){var v=o.inst,E=v.destroy;if(E!==void 0){v.destroy=void 0,h=i;var b=a,L=E;try{L()}catch(G){Jt(h,b,G)}}}o=o.next}while(o!==f)}}catch(G){Jt(i,i.return,G)}}function Lp(e){var i=e.updateQueue;if(i!==null){var a=e.stateNode;try{wg(i,a)}catch(o){Jt(e,e.return,o)}}}function zp(e,i,a){a.props=_s(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(o){Jt(e,i,o)}}function qo(e,i){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var o=e.stateNode;break;case 30:o=e.stateNode;break;default:o=e.stateNode}typeof a=="function"?e.refCleanup=a(o):a.current=o}}catch(h){Jt(e,i,h)}}function ri(e,i){var a=e.ref,o=e.refCleanup;if(a!==null)if(typeof o=="function")try{o()}catch(h){Jt(e,i,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){Jt(e,i,h)}else a.current=null}function Bp(e){var i=e.type,a=e.memoizedProps,o=e.stateNode;try{t:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&o.focus();break t;case"img":a.src?o.src=a.src:a.srcSet&&(o.srcset=a.srcSet)}}catch(h){Jt(e,e.return,h)}}function Af(e,i,a){try{var o=e.stateNode;rA(o,e.type,a,i),o[pe]=i}catch(h){Jt(e,e.return,h)}}function jp(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&pr(e.type)||e.tag===4}function Sf(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||jp(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&pr(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function bf(e,i,a){var o=e.tag;if(o===5||o===6)e=e.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(e),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=$u));else if(o!==4&&(o===27&&pr(e.type)&&(a=e.stateNode,i=null),e=e.child,e!==null))for(bf(e,i,a),e=e.sibling;e!==null;)bf(e,i,a),e=e.sibling}function zu(e,i,a){var o=e.tag;if(o===5||o===6)e=e.stateNode,i?a.insertBefore(e,i):a.appendChild(e);else if(o!==4&&(o===27&&pr(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(zu(e,i,a),e=e.sibling;e!==null;)zu(e,i,a),e=e.sibling}function qp(e){var i=e.stateNode,a=e.memoizedProps;try{for(var o=e.type,h=i.attributes;h.length;)i.removeAttributeNode(h[0]);ze(i,o,a),i[Te]=e,i[pe]=a}catch(f){Jt(e,e.return,f)}}var ki=!1,fe=!1,wf=!1,Hp=typeof WeakSet=="function"?WeakSet:Set,Me=null;function LT(e,i){if(e=e.containerInfo,Xf=ic,e=tg(e),Ah(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else t:{a=(a=e.ownerDocument)&&a.defaultView||window;var o=a.getSelection&&a.getSelection();if(o&&o.rangeCount!==0){a=o.anchorNode;var h=o.anchorOffset,f=o.focusNode;o=o.focusOffset;try{a.nodeType,f.nodeType}catch{a=null;break t}var v=0,E=-1,b=-1,L=0,G=0,Y=e,z=null;e:for(;;){for(var B;Y!==a||h!==0&&Y.nodeType!==3||(E=v+h),Y!==f||o!==0&&Y.nodeType!==3||(b=v+o),Y.nodeType===3&&(v+=Y.nodeValue.length),(B=Y.firstChild)!==null;)z=Y,Y=B;for(;;){if(Y===e)break e;if(z===a&&++L===h&&(E=v),z===f&&++G===o&&(b=v),(B=Y.nextSibling)!==null)break;Y=z,z=Y.parentNode}Y=B}a=E===-1||b===-1?null:{start:E,end:b}}else a=null}a=a||{start:0,end:0}}else a=null;for($f={focusedElem:e,selectionRange:a},ic=!1,Me=i;Me!==null;)if(i=Me,e=i.child,(i.subtreeFlags&1024)!==0&&e!==null)e.return=i,Me=e;else for(;Me!==null;){switch(i=Me,f=i.alternate,e=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if((e&1024)!==0&&f!==null){e=void 0,a=i,h=f.memoizedProps,f=f.memoizedState,o=a.stateNode;try{var yt=_s(a.type,h,a.elementType===a.type);e=o.getSnapshotBeforeUpdate(yt,f),o.__reactInternalSnapshotBeforeUpdate=e}catch(ht){Jt(a,a.return,ht)}}break;case 3:if((e&1024)!==0){if(e=i.stateNode.containerInfo,a=e.nodeType,a===9)Wf(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Wf(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(s(163))}if(e=i.sibling,e!==null){e.return=i.return,Me=e;break}Me=i.return}}function Gp(e,i,a){var o=a.flags;switch(a.tag){case 0:case 11:case 15:ur(e,a),o&4&&jo(5,a);break;case 1:if(ur(e,a),o&4)if(e=a.stateNode,i===null)try{e.componentDidMount()}catch(v){Jt(a,a.return,v)}else{var h=_s(a.type,i.memoizedProps);i=i.memoizedState;try{e.componentDidUpdate(h,i,e.__reactInternalSnapshotBeforeUpdate)}catch(v){Jt(a,a.return,v)}}o&64&&Lp(a),o&512&&qo(a,a.return);break;case 3:if(ur(e,a),o&64&&(e=a.updateQueue,e!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{wg(e,i)}catch(v){Jt(a,a.return,v)}}break;case 27:i===null&&o&4&&qp(a);case 26:case 5:ur(e,a),i===null&&o&4&&Bp(a),o&512&&qo(a,a.return);break;case 12:ur(e,a);break;case 13:ur(e,a),o&4&&Qp(e,a),o&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=QT.bind(null,a),hA(e,a))));break;case 22:if(o=a.memoizedState!==null||ki,!o){i=i!==null&&i.memoizedState!==null||fe,h=ki;var f=fe;ki=o,(fe=i)&&!f?cr(e,a,(a.subtreeFlags&8772)!==0):ur(e,a),ki=h,fe=f}break;case 30:break;default:ur(e,a)}}function Fp(e){var i=e.alternate;i!==null&&(e.alternate=null,Fp(i)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(i=e.stateNode,i!==null&&Zi(i)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var ne=null,rn=!1;function Ui(e,i,a){for(a=a.child;a!==null;)Yp(e,i,a),a=a.sibling}function Yp(e,i,a){if(Ht&&typeof Ht.onCommitFiberUnmount=="function")try{Ht.onCommitFiberUnmount(ae,a)}catch{}switch(a.tag){case 26:fe||ri(a,i),Ui(e,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:fe||ri(a,i);var o=ne,h=rn;pr(a.type)&&(ne=a.stateNode,rn=!1),Ui(e,i,a),Zo(a.stateNode),ne=o,rn=h;break;case 5:fe||ri(a,i);case 6:if(o=ne,h=rn,ne=null,Ui(e,i,a),ne=o,rn=h,ne!==null)if(rn)try{(ne.nodeType===9?ne.body:ne.nodeName==="HTML"?ne.ownerDocument.body:ne).removeChild(a.stateNode)}catch(f){Jt(a,i,f)}else try{ne.removeChild(a.stateNode)}catch(f){Jt(a,i,f)}break;case 18:ne!==null&&(rn?(e=ne,Vy(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),sl(e)):Vy(ne,a.stateNode));break;case 4:o=ne,h=rn,ne=a.stateNode.containerInfo,rn=!0,Ui(e,i,a),ne=o,rn=h;break;case 0:case 11:case 14:case 15:fe||lr(2,a,i),fe||lr(4,a,i),Ui(e,i,a);break;case 1:fe||(ri(a,i),o=a.stateNode,typeof o.componentWillUnmount=="function"&&zp(a,i,o)),Ui(e,i,a);break;case 21:Ui(e,i,a);break;case 22:fe=(o=fe)||a.memoizedState!==null,Ui(e,i,a),fe=o;break;default:Ui(e,i,a)}}function Qp(e,i){if(i.memoizedState===null&&(e=i.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{sl(e)}catch(a){Jt(i,i.return,a)}}function zT(e){switch(e.tag){case 13:case 19:var i=e.stateNode;return i===null&&(i=e.stateNode=new Hp),i;case 22:return e=e.stateNode,i=e._retryCache,i===null&&(i=e._retryCache=new Hp),i;default:throw Error(s(435,e.tag))}}function Rf(e,i){var a=zT(e);i.forEach(function(o){var h=KT.bind(null,e,o);a.has(o)||(a.add(o),o.then(h,h))})}function dn(e,i){var a=i.deletions;if(a!==null)for(var o=0;o<a.length;o++){var h=a[o],f=e,v=i,E=v;t:for(;E!==null;){switch(E.tag){case 27:if(pr(E.type)){ne=E.stateNode,rn=!1;break t}break;case 5:ne=E.stateNode,rn=!1;break t;case 3:case 4:ne=E.stateNode.containerInfo,rn=!0;break t}E=E.return}if(ne===null)throw Error(s(160));Yp(f,v,h),ne=null,rn=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)Kp(i,e),i=i.sibling}var zn=null;function Kp(e,i){var a=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:dn(i,e),mn(e),o&4&&(lr(3,e,e.return),jo(3,e),lr(5,e,e.return));break;case 1:dn(i,e),mn(e),o&512&&(fe||a===null||ri(a,a.return)),o&64&&ki&&(e=e.updateQueue,e!==null&&(o=e.callbacks,o!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?o:a.concat(o))));break;case 26:var h=zn;if(dn(i,e),mn(e),o&512&&(fe||a===null||ri(a,a.return)),o&4){var f=a!==null?a.memoizedState:null;if(o=e.memoizedState,a===null)if(o===null)if(e.stateNode===null){t:{o=e.type,a=e.memoizedProps,h=h.ownerDocument||h;e:switch(o){case"title":f=h.getElementsByTagName("title")[0],(!f||f[Qr]||f[Te]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(o),h.head.insertBefore(f,h.querySelector("head > title"))),ze(f,o,a),f[Te]=e,ce(f),o=f;break t;case"link":var v=qy("link","href",h).get(o+(a.href||""));if(v){for(var E=0;E<v.length;E++)if(f=v[E],f.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&f.getAttribute("rel")===(a.rel==null?null:a.rel)&&f.getAttribute("title")===(a.title==null?null:a.title)&&f.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){v.splice(E,1);break e}}f=h.createElement(o),ze(f,o,a),h.head.appendChild(f);break;case"meta":if(v=qy("meta","content",h).get(o+(a.content||""))){for(E=0;E<v.length;E++)if(f=v[E],f.getAttribute("content")===(a.content==null?null:""+a.content)&&f.getAttribute("name")===(a.name==null?null:a.name)&&f.getAttribute("property")===(a.property==null?null:a.property)&&f.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&f.getAttribute("charset")===(a.charSet==null?null:a.charSet)){v.splice(E,1);break e}}f=h.createElement(o),ze(f,o,a),h.head.appendChild(f);break;default:throw Error(s(468,o))}f[Te]=e,ce(f),o=f}e.stateNode=o}else Hy(h,e.type,e.stateNode);else e.stateNode=jy(h,o,e.memoizedProps);else f!==o?(f===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):f.count--,o===null?Hy(h,e.type,e.stateNode):jy(h,o,e.memoizedProps)):o===null&&e.stateNode!==null&&Af(e,e.memoizedProps,a.memoizedProps)}break;case 27:dn(i,e),mn(e),o&512&&(fe||a===null||ri(a,a.return)),a!==null&&o&4&&Af(e,e.memoizedProps,a.memoizedProps);break;case 5:if(dn(i,e),mn(e),o&512&&(fe||a===null||ri(a,a.return)),e.flags&32){h=e.stateNode;try{Tn(h,"")}catch(B){Jt(e,e.return,B)}}o&4&&e.stateNode!=null&&(h=e.memoizedProps,Af(e,h,a!==null?a.memoizedProps:h)),o&1024&&(wf=!0);break;case 6:if(dn(i,e),mn(e),o&4){if(e.stateNode===null)throw Error(s(162));o=e.memoizedProps,a=e.stateNode;try{a.nodeValue=o}catch(B){Jt(e,e.return,B)}}break;case 3:if(tc=null,h=zn,zn=Ju(i.containerInfo),dn(i,e),zn=h,mn(e),o&4&&a!==null&&a.memoizedState.isDehydrated)try{sl(i.containerInfo)}catch(B){Jt(e,e.return,B)}wf&&(wf=!1,Xp(e));break;case 4:o=zn,zn=Ju(e.stateNode.containerInfo),dn(i,e),mn(e),zn=o;break;case 12:dn(i,e),mn(e);break;case 13:dn(i,e),mn(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Mf=vn()),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Rf(e,o)));break;case 22:h=e.memoizedState!==null;var b=a!==null&&a.memoizedState!==null,L=ki,G=fe;if(ki=L||h,fe=G||b,dn(i,e),fe=G,ki=L,mn(e),o&8192)t:for(i=e.stateNode,i._visibility=h?i._visibility&-2:i._visibility|1,h&&(a===null||b||ki||fe||vs(e)),a=null,i=e;;){if(i.tag===5||i.tag===26){if(a===null){b=a=i;try{if(f=b.stateNode,h)v=f.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none";else{E=b.stateNode;var Y=b.memoizedProps.style,z=Y!=null&&Y.hasOwnProperty("display")?Y.display:null;E.style.display=z==null||typeof z=="boolean"?"":(""+z).trim()}}catch(B){Jt(b,b.return,B)}}}else if(i.tag===6){if(a===null){b=i;try{b.stateNode.nodeValue=h?"":b.memoizedProps}catch(B){Jt(b,b.return,B)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===e)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break t;for(;i.sibling===null;){if(i.return===null||i.return===e)break t;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}o&4&&(o=e.updateQueue,o!==null&&(a=o.retryQueue,a!==null&&(o.retryQueue=null,Rf(e,a))));break;case 19:dn(i,e),mn(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Rf(e,o)));break;case 30:break;case 21:break;default:dn(i,e),mn(e)}}function mn(e){var i=e.flags;if(i&2){try{for(var a,o=e.return;o!==null;){if(jp(o)){a=o;break}o=o.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var h=a.stateNode,f=Sf(e);zu(e,f,h);break;case 5:var v=a.stateNode;a.flags&32&&(Tn(v,""),a.flags&=-33);var E=Sf(e);zu(e,E,v);break;case 3:case 4:var b=a.stateNode.containerInfo,L=Sf(e);bf(e,L,b);break;default:throw Error(s(161))}}catch(G){Jt(e,e.return,G)}e.flags&=-3}i&4096&&(e.flags&=-4097)}function Xp(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var i=e;Xp(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),e=e.sibling}}function ur(e,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)Gp(e,i.alternate,i),i=i.sibling}function vs(e){for(e=e.child;e!==null;){var i=e;switch(i.tag){case 0:case 11:case 14:case 15:lr(4,i,i.return),vs(i);break;case 1:ri(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&zp(i,i.return,a),vs(i);break;case 27:Zo(i.stateNode);case 26:case 5:ri(i,i.return),vs(i);break;case 22:i.memoizedState===null&&vs(i);break;case 30:vs(i);break;default:vs(i)}e=e.sibling}}function cr(e,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var o=i.alternate,h=e,f=i,v=f.flags;switch(f.tag){case 0:case 11:case 15:cr(h,f,a),jo(4,f);break;case 1:if(cr(h,f,a),o=f,h=o.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(L){Jt(o,o.return,L)}if(o=f,h=o.updateQueue,h!==null){var E=o.stateNode;try{var b=h.shared.hiddenCallbacks;if(b!==null)for(h.shared.hiddenCallbacks=null,h=0;h<b.length;h++)bg(b[h],E)}catch(L){Jt(o,o.return,L)}}a&&v&64&&Lp(f),qo(f,f.return);break;case 27:qp(f);case 26:case 5:cr(h,f,a),a&&o===null&&v&4&&Bp(f),qo(f,f.return);break;case 12:cr(h,f,a);break;case 13:cr(h,f,a),a&&v&4&&Qp(h,f);break;case 22:f.memoizedState===null&&cr(h,f,a),qo(f,f.return);break;case 30:break;default:cr(h,f,a)}i=i.sibling}}function If(e,i){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(e=i.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&Io(a))}function Cf(e,i){e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&Io(e))}function si(e,i,a,o){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)$p(e,i,a,o),i=i.sibling}function $p(e,i,a,o){var h=i.flags;switch(i.tag){case 0:case 11:case 15:si(e,i,a,o),h&2048&&jo(9,i);break;case 1:si(e,i,a,o);break;case 3:si(e,i,a,o),h&2048&&(e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&Io(e)));break;case 12:if(h&2048){si(e,i,a,o),e=i.stateNode;try{var f=i.memoizedProps,v=f.id,E=f.onPostCommit;typeof E=="function"&&E(v,i.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(b){Jt(i,i.return,b)}}else si(e,i,a,o);break;case 13:si(e,i,a,o);break;case 23:break;case 22:f=i.stateNode,v=i.alternate,i.memoizedState!==null?f._visibility&2?si(e,i,a,o):Ho(e,i):f._visibility&2?si(e,i,a,o):(f._visibility|=2,da(e,i,a,o,(i.subtreeFlags&10256)!==0)),h&2048&&If(v,i);break;case 24:si(e,i,a,o),h&2048&&Cf(i.alternate,i);break;default:si(e,i,a,o)}}function da(e,i,a,o,h){for(h=h&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var f=e,v=i,E=a,b=o,L=v.flags;switch(v.tag){case 0:case 11:case 15:da(f,v,E,b,h),jo(8,v);break;case 23:break;case 22:var G=v.stateNode;v.memoizedState!==null?G._visibility&2?da(f,v,E,b,h):Ho(f,v):(G._visibility|=2,da(f,v,E,b,h)),h&&L&2048&&If(v.alternate,v);break;case 24:da(f,v,E,b,h),h&&L&2048&&Cf(v.alternate,v);break;default:da(f,v,E,b,h)}i=i.sibling}}function Ho(e,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=e,o=i,h=o.flags;switch(o.tag){case 22:Ho(a,o),h&2048&&If(o.alternate,o);break;case 24:Ho(a,o),h&2048&&Cf(o.alternate,o);break;default:Ho(a,o)}i=i.sibling}}var Go=8192;function ma(e){if(e.subtreeFlags&Go)for(e=e.child;e!==null;)Zp(e),e=e.sibling}function Zp(e){switch(e.tag){case 26:ma(e),e.flags&Go&&e.memoizedState!==null&&bA(zn,e.memoizedState,e.memoizedProps);break;case 5:ma(e);break;case 3:case 4:var i=zn;zn=Ju(e.stateNode.containerInfo),ma(e),zn=i;break;case 22:e.memoizedState===null&&(i=e.alternate,i!==null&&i.memoizedState!==null?(i=Go,Go=16777216,ma(e),Go=i):ma(e));break;default:ma(e)}}function Jp(e){var i=e.alternate;if(i!==null&&(e=i.child,e!==null)){i.child=null;do i=e.sibling,e.sibling=null,e=i;while(e!==null)}}function Fo(e){var i=e.deletions;if((e.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var o=i[a];Me=o,ty(o,e)}Jp(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Wp(e),e=e.sibling}function Wp(e){switch(e.tag){case 0:case 11:case 15:Fo(e),e.flags&2048&&lr(9,e,e.return);break;case 3:Fo(e);break;case 12:Fo(e);break;case 22:var i=e.stateNode;e.memoizedState!==null&&i._visibility&2&&(e.return===null||e.return.tag!==13)?(i._visibility&=-3,Bu(e)):Fo(e);break;default:Fo(e)}}function Bu(e){var i=e.deletions;if((e.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var o=i[a];Me=o,ty(o,e)}Jp(e)}for(e=e.child;e!==null;){switch(i=e,i.tag){case 0:case 11:case 15:lr(8,i,i.return),Bu(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,Bu(i));break;default:Bu(i)}e=e.sibling}}function ty(e,i){for(;Me!==null;){var a=Me;switch(a.tag){case 0:case 11:case 15:lr(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var o=a.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:Io(a.memoizedState.cache)}if(o=a.child,o!==null)o.return=a,Me=o;else t:for(a=e;Me!==null;){o=Me;var h=o.sibling,f=o.return;if(Fp(o),o===a){Me=null;break t}if(h!==null){h.return=f,Me=h;break t}Me=f}}}var BT={getCacheForType:function(e){var i=Ye(be),a=i.data.get(e);return a===void 0&&(a=e(),i.data.set(e,a)),a}},jT=typeof WeakMap=="function"?WeakMap:Map,Gt=0,Wt=null,Ot=null,kt=0,Ft=0,gn=null,hr=!1,ga=!1,Df=!1,Li=0,le=0,fr=0,Es=0,Of=0,On=0,pa=0,Yo=null,sn=null,Nf=!1,Mf=0,ju=1/0,qu=null,dr=null,Le=0,mr=null,ya=null,_a=0,xf=0,Vf=null,ey=null,Qo=0,Pf=null;function pn(){if((Gt&2)!==0&&kt!==0)return kt&-kt;if(q.T!==null){var e=sa;return e!==0?e:qf()}return Xi()}function ny(){On===0&&(On=(kt&536870912)===0||Bt?eo():536870912);var e=Dn.current;return e!==null&&(e.flags|=32),On}function yn(e,i,a){(e===Wt&&(Ft===2||Ft===9)||e.cancelPendingCommit!==null)&&(va(e,0),gr(e,kt,On,!1)),pi(e,a),((Gt&2)===0||e!==Wt)&&(e===Wt&&((Gt&2)===0&&(Es|=a),le===4&&gr(e,kt,On,!1)),ai(e))}function iy(e,i,a){if((Gt&6)!==0)throw Error(s(327));var o=!a&&(i&124)===0&&(i&e.expiredLanes)===0||Yr(e,i),h=o?GT(e,i):Lf(e,i,!0),f=o;do{if(h===0){ga&&!o&&gr(e,i,0,!1);break}else{if(a=e.current.alternate,f&&!qT(a)){h=Lf(e,i,!1),f=!1;continue}if(h===2){if(f=i,e.errorRecoveryDisabledLanes&f)var v=0;else v=e.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){i=v;t:{var E=e;h=Yo;var b=E.current.memoizedState.isDehydrated;if(b&&(va(E,v).flags|=256),v=Lf(E,v,!1),v!==2){if(Df&&!b){E.errorRecoveryDisabledLanes|=f,Es|=f,h=4;break t}f=sn,sn=h,f!==null&&(sn===null?sn=f:sn.push.apply(sn,f))}h=v}if(f=!1,h!==2)continue}}if(h===1){va(e,0),gr(e,i,0,!0);break}t:{switch(o=e,f=h,f){case 0:case 1:throw Error(s(345));case 4:if((i&4194048)!==i)break;case 6:gr(o,i,On,!hr);break t;case 2:sn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((i&62914560)===i&&(h=Mf+300-vn(),10<h)){if(gr(o,i,On,!hr),ks(o,0,!0)!==0)break t;o.timeoutHandle=My(ry.bind(null,o,a,sn,qu,Nf,i,On,Es,pa,hr,f,2,-0,0),h);break t}ry(o,a,sn,qu,Nf,i,On,Es,pa,hr,f,0,-0,0)}}break}while(!0);ai(e)}function ry(e,i,a,o,h,f,v,E,b,L,G,Y,z,B){if(e.timeoutHandle=-1,Y=i.subtreeFlags,(Y&8192||(Y&16785408)===16785408)&&(tl={stylesheets:null,count:0,unsuspend:SA},Zp(i),Y=wA(),Y!==null)){e.cancelPendingCommit=Y(hy.bind(null,e,i,f,a,o,h,v,E,b,G,1,z,B)),gr(e,f,v,!L);return}hy(e,i,f,a,o,h,v,E,b)}function qT(e){for(var i=e;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var o=0;o<a.length;o++){var h=a[o],f=h.getSnapshot;h=h.value;try{if(!hn(f(),h))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function gr(e,i,a,o){i&=~Of,i&=~Es,e.suspendedLanes|=i,e.pingedLanes&=~i,o&&(e.warmLanes|=i),o=e.expirationTimes;for(var h=i;0<h;){var f=31-Fe(h),v=1<<f;o[f]=-1,h&=~v}a!==0&&Fn(e,a,i)}function Hu(){return(Gt&6)===0?(Ko(0),!1):!0}function kf(){if(Ot!==null){if(Ft===0)var e=Ot.return;else e=Ot,Oi=ms=null,Jh(e),ha=null,Lo=0,e=Ot;for(;e!==null;)Up(e.alternate,e),e=e.return;Ot=null}}function va(e,i){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,aA(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),kf(),Wt=e,Ot=a=Ii(e.current,null),kt=i,Ft=0,gn=null,hr=!1,ga=Yr(e,i),Df=!1,pa=On=Of=Es=fr=le=0,sn=Yo=null,Nf=!1,(i&8)!==0&&(i|=i&32);var o=e.entangledLanes;if(o!==0)for(e=e.entanglements,o&=i;0<o;){var h=31-Fe(o),f=1<<h;i|=e[h],o&=~f}return Li=i,hu(),a}function sy(e,i){Rt=null,q.H=Ou,i===Do||i===Eu?(i=Ag(),Ft=3):i===vg?(i=Ag(),Ft=4):Ft=i===Sp?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,gn=i,Ot===null&&(le=1,Pu(e,wn(i,e.current)))}function ay(){var e=q.H;return q.H=Ou,e===null?Ou:e}function oy(){var e=q.A;return q.A=BT,e}function Uf(){le=4,hr||(kt&4194048)!==kt&&Dn.current!==null||(ga=!0),(fr&134217727)===0&&(Es&134217727)===0||Wt===null||gr(Wt,kt,On,!1)}function Lf(e,i,a){var o=Gt;Gt|=2;var h=ay(),f=oy();(Wt!==e||kt!==i)&&(qu=null,va(e,i)),i=!1;var v=le;t:do try{if(Ft!==0&&Ot!==null){var E=Ot,b=gn;switch(Ft){case 8:kf(),v=6;break t;case 3:case 2:case 9:case 6:Dn.current===null&&(i=!0);var L=Ft;if(Ft=0,gn=null,Ea(e,E,b,L),a&&ga){v=0;break t}break;default:L=Ft,Ft=0,gn=null,Ea(e,E,b,L)}}HT(),v=le;break}catch(G){sy(e,G)}while(!0);return i&&e.shellSuspendCounter++,Oi=ms=null,Gt=o,q.H=h,q.A=f,Ot===null&&(Wt=null,kt=0,hu()),v}function HT(){for(;Ot!==null;)ly(Ot)}function GT(e,i){var a=Gt;Gt|=2;var o=ay(),h=oy();Wt!==e||kt!==i?(qu=null,ju=vn()+500,va(e,i)):ga=Yr(e,i);t:do try{if(Ft!==0&&Ot!==null){i=Ot;var f=gn;e:switch(Ft){case 1:Ft=0,gn=null,Ea(e,i,f,1);break;case 2:case 9:if(Eg(f)){Ft=0,gn=null,uy(i);break}i=function(){Ft!==2&&Ft!==9||Wt!==e||(Ft=7),ai(e)},f.then(i,i);break t;case 3:Ft=7;break t;case 4:Ft=5;break t;case 7:Eg(f)?(Ft=0,gn=null,uy(i)):(Ft=0,gn=null,Ea(e,i,f,7));break;case 5:var v=null;switch(Ot.tag){case 26:v=Ot.memoizedState;case 5:case 27:var E=Ot;if(!v||Gy(v)){Ft=0,gn=null;var b=E.sibling;if(b!==null)Ot=b;else{var L=E.return;L!==null?(Ot=L,Gu(L)):Ot=null}break e}}Ft=0,gn=null,Ea(e,i,f,5);break;case 6:Ft=0,gn=null,Ea(e,i,f,6);break;case 8:kf(),le=6;break t;default:throw Error(s(462))}}FT();break}catch(G){sy(e,G)}while(!0);return Oi=ms=null,q.H=o,q.A=h,Gt=a,Ot!==null?0:(Wt=null,kt=0,hu(),le)}function FT(){for(;Ot!==null&&!jr();)ly(Ot)}function ly(e){var i=Pp(e.alternate,e,Li);e.memoizedProps=e.pendingProps,i===null?Gu(e):Ot=i}function uy(e){var i=e,a=i.alternate;switch(i.tag){case 15:case 0:i=Dp(a,i,i.pendingProps,i.type,void 0,kt);break;case 11:i=Dp(a,i,i.pendingProps,i.type.render,i.ref,kt);break;case 5:Jh(i);default:Up(a,i),i=Ot=cg(i,Li),i=Pp(a,i,Li)}e.memoizedProps=e.pendingProps,i===null?Gu(e):Ot=i}function Ea(e,i,a,o){Oi=ms=null,Jh(i),ha=null,Lo=0;var h=i.return;try{if(VT(e,h,i,a,kt)){le=1,Pu(e,wn(a,e.current)),Ot=null;return}}catch(f){if(h!==null)throw Ot=h,f;le=1,Pu(e,wn(a,e.current)),Ot=null;return}i.flags&32768?(Bt||o===1?e=!0:ga||(kt&536870912)!==0?e=!1:(hr=e=!0,(o===2||o===9||o===3||o===6)&&(o=Dn.current,o!==null&&o.tag===13&&(o.flags|=16384))),cy(i,e)):Gu(i)}function Gu(e){var i=e;do{if((i.flags&32768)!==0){cy(i,hr);return}e=i.return;var a=kT(i.alternate,i,Li);if(a!==null){Ot=a;return}if(i=i.sibling,i!==null){Ot=i;return}Ot=i=e}while(i!==null);le===0&&(le=5)}function cy(e,i){do{var a=UT(e.alternate,e);if(a!==null){a.flags&=32767,Ot=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(e=e.sibling,e!==null)){Ot=e;return}Ot=e=a}while(e!==null);le=6,Ot=null}function hy(e,i,a,o,h,f,v,E,b){e.cancelPendingCommit=null;do Fu();while(Le!==0);if((Gt&6)!==0)throw Error(s(327));if(i!==null){if(i===e.current)throw Error(s(177));if(f=i.lanes|i.childLanes,f|=Ih,io(e,a,f,v,E,b),e===Wt&&(Ot=Wt=null,kt=0),ya=i,mr=e,_a=a,xf=f,Vf=h,ey=o,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,XT(qr,function(){return py(),null})):(e.callbackNode=null,e.callbackPriority=0),o=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||o){o=q.T,q.T=null,h=tt.p,tt.p=2,v=Gt,Gt|=4;try{LT(e,i,a)}finally{Gt=v,tt.p=h,q.T=o}}Le=1,fy(),dy(),my()}}function fy(){if(Le===1){Le=0;var e=mr,i=ya,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=q.T,q.T=null;var o=tt.p;tt.p=2;var h=Gt;Gt|=4;try{Kp(i,e);var f=$f,v=tg(e.containerInfo),E=f.focusedElem,b=f.selectionRange;if(v!==E&&E&&E.ownerDocument&&Wm(E.ownerDocument.documentElement,E)){if(b!==null&&Ah(E)){var L=b.start,G=b.end;if(G===void 0&&(G=L),"selectionStart"in E)E.selectionStart=L,E.selectionEnd=Math.min(G,E.value.length);else{var Y=E.ownerDocument||document,z=Y&&Y.defaultView||window;if(z.getSelection){var B=z.getSelection(),yt=E.textContent.length,ht=Math.min(b.start,yt),$t=b.end===void 0?ht:Math.min(b.end,yt);!B.extend&&ht>$t&&(v=$t,$t=ht,ht=v);var V=Jm(E,ht),D=Jm(E,$t);if(V&&D&&(B.rangeCount!==1||B.anchorNode!==V.node||B.anchorOffset!==V.offset||B.focusNode!==D.node||B.focusOffset!==D.offset)){var U=Y.createRange();U.setStart(V.node,V.offset),B.removeAllRanges(),ht>$t?(B.addRange(U),B.extend(D.node,D.offset)):(U.setEnd(D.node,D.offset),B.addRange(U))}}}}for(Y=[],B=E;B=B.parentNode;)B.nodeType===1&&Y.push({element:B,left:B.scrollLeft,top:B.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<Y.length;E++){var F=Y[E];F.element.scrollLeft=F.left,F.element.scrollTop=F.top}}ic=!!Xf,$f=Xf=null}finally{Gt=h,tt.p=o,q.T=a}}e.current=i,Le=2}}function dy(){if(Le===2){Le=0;var e=mr,i=ya,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=q.T,q.T=null;var o=tt.p;tt.p=2;var h=Gt;Gt|=4;try{Gp(e,i.alternate,i)}finally{Gt=h,tt.p=o,q.T=a}}Le=3}}function my(){if(Le===4||Le===3){Le=0,Bl();var e=mr,i=ya,a=_a,o=ey;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?Le=5:(Le=0,ya=mr=null,gy(e,e.pendingLanes));var h=e.pendingLanes;if(h===0&&(dr=null),Us(a),i=i.stateNode,Ht&&typeof Ht.onCommitFiberRoot=="function")try{Ht.onCommitFiberRoot(ae,i,void 0,(i.current.flags&128)===128)}catch{}if(o!==null){i=q.T,h=tt.p,tt.p=2,q.T=null;try{for(var f=e.onRecoverableError,v=0;v<o.length;v++){var E=o[v];f(E.value,{componentStack:E.stack})}}finally{q.T=i,tt.p=h}}(_a&3)!==0&&Fu(),ai(e),h=e.pendingLanes,(a&4194090)!==0&&(h&42)!==0?e===Pf?Qo++:(Qo=0,Pf=e):Qo=0,Ko(0)}}function gy(e,i){(e.pooledCacheLanes&=i)===0&&(i=e.pooledCache,i!=null&&(e.pooledCache=null,Io(i)))}function Fu(e){return fy(),dy(),my(),py()}function py(){if(Le!==5)return!1;var e=mr,i=xf;xf=0;var a=Us(_a),o=q.T,h=tt.p;try{tt.p=32>a?32:a,q.T=null,a=Vf,Vf=null;var f=mr,v=_a;if(Le=0,ya=mr=null,_a=0,(Gt&6)!==0)throw Error(s(331));var E=Gt;if(Gt|=4,Wp(f.current),$p(f,f.current,v,a),Gt=E,Ko(0,!1),Ht&&typeof Ht.onPostCommitFiberRoot=="function")try{Ht.onPostCommitFiberRoot(ae,f)}catch{}return!0}finally{tt.p=h,q.T=o,gy(e,i)}}function yy(e,i,a){i=wn(a,i),i=df(e.stateNode,i,2),e=rr(e,i,2),e!==null&&(pi(e,2),ai(e))}function Jt(e,i,a){if(e.tag===3)yy(e,e,a);else for(;i!==null;){if(i.tag===3){yy(i,e,a);break}else if(i.tag===1){var o=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(dr===null||!dr.has(o))){e=wn(a,e),a=Tp(2),o=rr(i,a,2),o!==null&&(Ap(a,o,i,e),pi(o,2),ai(o));break}}i=i.return}}function zf(e,i,a){var o=e.pingCache;if(o===null){o=e.pingCache=new jT;var h=new Set;o.set(i,h)}else h=o.get(i),h===void 0&&(h=new Set,o.set(i,h));h.has(a)||(Df=!0,h.add(a),e=YT.bind(null,e,i,a),i.then(e,e))}function YT(e,i,a){var o=e.pingCache;o!==null&&o.delete(i),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,Wt===e&&(kt&a)===a&&(le===4||le===3&&(kt&62914560)===kt&&300>vn()-Mf?(Gt&2)===0&&va(e,0):Of|=a,pa===kt&&(pa=0)),ai(e)}function _y(e,i){i===0&&(i=no()),e=ea(e,i),e!==null&&(pi(e,i),ai(e))}function QT(e){var i=e.memoizedState,a=0;i!==null&&(a=i.retryLane),_y(e,a)}function KT(e,i){var a=0;switch(e.tag){case 13:var o=e.stateNode,h=e.memoizedState;h!==null&&(a=h.retryLane);break;case 19:o=e.stateNode;break;case 22:o=e.stateNode._retryCache;break;default:throw Error(s(314))}o!==null&&o.delete(i),_y(e,a)}function XT(e,i){return Ge(e,i)}var Yu=null,Ta=null,Bf=!1,Qu=!1,jf=!1,Ts=0;function ai(e){e!==Ta&&e.next===null&&(Ta===null?Yu=Ta=e:Ta=Ta.next=e),Qu=!0,Bf||(Bf=!0,ZT())}function Ko(e,i){if(!jf&&Qu){jf=!0;do for(var a=!1,o=Yu;o!==null;){if(e!==0){var h=o.pendingLanes;if(h===0)var f=0;else{var v=o.suspendedLanes,E=o.pingedLanes;f=(1<<31-Fe(42|e)+1)-1,f&=h&~(v&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(a=!0,Ay(o,f))}else f=kt,f=ks(o,o===Wt?f:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(f&3)===0||Yr(o,f)||(a=!0,Ay(o,f));o=o.next}while(a);jf=!1}}function $T(){vy()}function vy(){Qu=Bf=!1;var e=0;Ts!==0&&(sA()&&(e=Ts),Ts=0);for(var i=vn(),a=null,o=Yu;o!==null;){var h=o.next,f=Ey(o,i);f===0?(o.next=null,a===null?Yu=h:a.next=h,h===null&&(Ta=a)):(a=o,(e!==0||(f&3)!==0)&&(Qu=!0)),o=h}Ko(e)}function Ey(e,i){for(var a=e.suspendedLanes,o=e.pingedLanes,h=e.expirationTimes,f=e.pendingLanes&-62914561;0<f;){var v=31-Fe(f),E=1<<v,b=h[v];b===-1?((E&a)===0||(E&o)!==0)&&(h[v]=to(E,i)):b<=i&&(e.expiredLanes|=E),f&=~E}if(i=Wt,a=kt,a=ks(e,e===i?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o=e.callbackNode,a===0||e===i&&(Ft===2||Ft===9)||e.cancelPendingCommit!==null)return o!==null&&o!==null&&ln(o),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||Yr(e,a)){if(i=a&-a,i===e.callbackPriority)return i;switch(o!==null&&ln(o),Us(a)){case 2:case 8:a=Vs;break;case 32:a=qr;break;case 268435456:a=Ps;break;default:a=qr}return o=Ty.bind(null,e),a=Ge(a,o),e.callbackPriority=i,e.callbackNode=a,i}return o!==null&&o!==null&&ln(o),e.callbackPriority=2,e.callbackNode=null,2}function Ty(e,i){if(Le!==0&&Le!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(Fu()&&e.callbackNode!==a)return null;var o=kt;return o=ks(e,e===Wt?o:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o===0?null:(iy(e,o,i),Ey(e,vn()),e.callbackNode!=null&&e.callbackNode===a?Ty.bind(null,e):null)}function Ay(e,i){if(Fu())return null;iy(e,i,!0)}function ZT(){oA(function(){(Gt&6)!==0?Ge(Ja,$T):vy()})}function qf(){return Ts===0&&(Ts=eo()),Ts}function Sy(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Hs(""+e)}function by(e,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,e.id&&a.setAttribute("form",e.id),i.parentNode.insertBefore(a,i),e=new FormData(e),a.parentNode.removeChild(a),e}function JT(e,i,a,o,h){if(i==="submit"&&a&&a.stateNode===h){var f=Sy((h[pe]||null).action),v=o.submitter;v&&(i=(i=v[pe]||null)?Sy(i.formAction):v.getAttribute("formAction"),i!==null&&(f=i,v=null));var E=new Gs("action","action",null,o,h);e.push({event:E,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(Ts!==0){var b=v?by(h,v):new FormData(h);lf(a,{pending:!0,data:b,method:h.method,action:f},null,b)}}else typeof f=="function"&&(E.preventDefault(),b=v?by(h,v):new FormData(h),lf(a,{pending:!0,data:b,method:h.method,action:f},f,b))},currentTarget:h}]})}}for(var Hf=0;Hf<Rh.length;Hf++){var Gf=Rh[Hf],WT=Gf.toLowerCase(),tA=Gf[0].toUpperCase()+Gf.slice(1);Ln(WT,"on"+tA)}Ln(ig,"onAnimationEnd"),Ln(rg,"onAnimationIteration"),Ln(sg,"onAnimationStart"),Ln("dblclick","onDoubleClick"),Ln("focusin","onFocus"),Ln("focusout","onBlur"),Ln(yT,"onTransitionRun"),Ln(_T,"onTransitionStart"),Ln(vT,"onTransitionCancel"),Ln(ag,"onTransitionEnd"),_i("onMouseEnter",["mouseout","mouseover"]),_i("onMouseLeave",["mouseout","mouseover"]),_i("onPointerEnter",["pointerout","pointerover"]),_i("onPointerLeave",["pointerout","pointerover"]),kn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),kn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),kn("onBeforeInput",["compositionend","keypress","textInput","paste"]),kn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),kn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),kn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Xo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),eA=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Xo));function wy(e,i){i=(i&4)!==0;for(var a=0;a<e.length;a++){var o=e[a],h=o.event;o=o.listeners;t:{var f=void 0;if(i)for(var v=o.length-1;0<=v;v--){var E=o[v],b=E.instance,L=E.currentTarget;if(E=E.listener,b!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=L;try{f(h)}catch(G){Vu(G)}h.currentTarget=null,f=b}else for(v=0;v<o.length;v++){if(E=o[v],b=E.instance,L=E.currentTarget,E=E.listener,b!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=L;try{f(h)}catch(G){Vu(G)}h.currentTarget=null,f=b}}}}function Nt(e,i){var a=i[so];a===void 0&&(a=i[so]=new Set);var o=e+"__bubble";a.has(o)||(Ry(i,e,2,!1),a.add(o))}function Ff(e,i,a){var o=0;i&&(o|=4),Ry(a,e,o,i)}var Ku="_reactListening"+Math.random().toString(36).slice(2);function Yf(e){if(!e[Ku]){e[Ku]=!0,ao.forEach(function(a){a!=="selectionchange"&&(eA.has(a)||Ff(a,!1,e),Ff(a,!0,e))});var i=e.nodeType===9?e:e.ownerDocument;i===null||i[Ku]||(i[Ku]=!0,Ff("selectionchange",!1,i))}}function Ry(e,i,a,o){switch($y(i)){case 2:var h=CA;break;case 8:h=DA;break;default:h=ad}a=h.bind(null,i,a,e),h=void 0,!Sn||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),o?h!==void 0?e.addEventListener(i,a,{capture:!0,passive:h}):e.addEventListener(i,a,!0):h!==void 0?e.addEventListener(i,a,{passive:h}):e.addEventListener(i,a,!1)}function Qf(e,i,a,o,h){var f=o;if((i&1)===0&&(i&2)===0&&o!==null)t:for(;;){if(o===null)return;var v=o.tag;if(v===3||v===4){var E=o.stateNode.containerInfo;if(E===h)break;if(v===4)for(v=o.return;v!==null;){var b=v.tag;if((b===3||b===4)&&v.stateNode.containerInfo===h)return;v=v.return}for(;E!==null;){if(v=yi(E),v===null)return;if(b=v.tag,b===5||b===6||b===26||b===27){o=f=v;continue t}E=E.parentNode}}o=o.return}$l(function(){var L=f,G=An(a),Y=[];t:{var z=og.get(e);if(z!==void 0){var B=Gs,yt=e;switch(e){case"keypress":if(Zn(a)===0)break t;case"keydown":case"keyup":B=$s;break;case"focusin":yt="focus",B=Qs;break;case"focusout":yt="blur",B=Qs;break;case"beforeblur":case"afterblur":B=Qs;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":B=bn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":B=_h;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":B=ru;break;case ig:case rg:case sg:B=Ks;break;case ag:B=au;break;case"scroll":case"scrollend":B=Zl;break;case"wheel":B=Zs;break;case"copy":case"cut":case"paste":B=Xs;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":B=vo;break;case"toggle":case"beforetoggle":B=lu}var ht=(i&4)!==0,$t=!ht&&(e==="scroll"||e==="scrollend"),V=ht?z!==null?z+"Capture":null:z;ht=[];for(var D=L,U;D!==null;){var F=D;if(U=F.stateNode,F=F.tag,F!==5&&F!==26&&F!==27||U===null||V===null||(F=ts(D,V),F!=null&&ht.push($o(D,F,U))),$t)break;D=D.return}0<ht.length&&(z=new B(z,yt,null,a,G),Y.push({event:z,listeners:ht}))}}if((i&7)===0){t:{if(z=e==="mouseover"||e==="pointerover",B=e==="mouseout"||e==="pointerout",z&&a!==Ti&&(yt=a.relatedTarget||a.fromElement)&&(yi(yt)||yt[En]))break t;if((B||z)&&(z=G.window===G?G:(z=G.ownerDocument)?z.defaultView||z.parentWindow:window,B?(yt=a.relatedTarget||a.toElement,B=L,yt=yt?yi(yt):null,yt!==null&&($t=c(yt),ht=yt.tag,yt!==$t||ht!==5&&ht!==27&&ht!==6)&&(yt=null)):(B=null,yt=L),B!==yt)){if(ht=bn,F="onMouseLeave",V="onMouseEnter",D="mouse",(e==="pointerout"||e==="pointerover")&&(ht=vo,F="onPointerLeave",V="onPointerEnter",D="pointer"),$t=B==null?z:Qn(B),U=yt==null?z:Qn(yt),z=new ht(F,D+"leave",B,a,G),z.target=$t,z.relatedTarget=U,F=null,yi(G)===L&&(ht=new ht(V,D+"enter",yt,a,G),ht.target=U,ht.relatedTarget=$t,F=ht),$t=F,B&&yt)e:{for(ht=B,V=yt,D=0,U=ht;U;U=Aa(U))D++;for(U=0,F=V;F;F=Aa(F))U++;for(;0<D-U;)ht=Aa(ht),D--;for(;0<U-D;)V=Aa(V),U--;for(;D--;){if(ht===V||V!==null&&ht===V.alternate)break e;ht=Aa(ht),V=Aa(V)}ht=null}else ht=null;B!==null&&Iy(Y,z,B,ht,!1),yt!==null&&$t!==null&&Iy(Y,$t,yt,ht,!0)}}t:{if(z=L?Qn(L):window,B=z.nodeName&&z.nodeName.toLowerCase(),B==="select"||B==="input"&&z.type==="file")var st=Ym;else if(Se(z))if(Qm)st=mT;else{st=fT;var Ct=hT}else B=z.nodeName,!B||B.toLowerCase()!=="input"||z.type!=="checkbox"&&z.type!=="radio"?L&&ho(L.elementType)&&(st=Ym):st=dT;if(st&&(st=st(e,L))){Ri(Y,st,a,G);break t}Ct&&Ct(e,z,L),e==="focusout"&&L&&z.type==="number"&&L.memoizedProps.value!=null&&Wi(z,"number",z.value)}switch(Ct=L?Qn(L):window,e){case"focusin":(Se(Ct)||Ct.contentEditable==="true")&&(Js=Ct,Sh=L,Ao=null);break;case"focusout":Ao=Sh=Js=null;break;case"mousedown":bh=!0;break;case"contextmenu":case"mouseup":case"dragend":bh=!1,eg(Y,a,G);break;case"selectionchange":if(pT)break;case"keydown":case"keyup":eg(Y,a,G)}var ot;if(ti)t:{switch(e){case"compositionstart":var mt="onCompositionStart";break t;case"compositionend":mt="onCompositionEnd";break t;case"compositionupdate":mt="onCompositionUpdate";break t}mt=void 0}else Vt?j(e,a)&&(mt="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(mt="onCompositionStart");mt&&(y&&a.locale!=="ko"&&(Vt||mt!=="onCompositionStart"?mt==="onCompositionEnd"&&Vt&&(ot=mo()):($n=G,tr="value"in $n?$n.value:$n.textContent,Vt=!0)),Ct=Xu(L,mt),0<Ct.length&&(mt=new yo(mt,e,null,a,G),Y.push({event:mt,listeners:Ct}),ot?mt.data=ot:(ot=W(a),ot!==null&&(mt.data=ot)))),(ot=m?Ae(e,a):Pt(e,a))&&(mt=Xu(L,"onBeforeInput"),0<mt.length&&(Ct=new yo("onBeforeInput","beforeinput",null,a,G),Y.push({event:Ct,listeners:mt}),Ct.data=ot)),JT(Y,e,L,a,G)}wy(Y,i)})}function $o(e,i,a){return{instance:e,listener:i,currentTarget:a}}function Xu(e,i){for(var a=i+"Capture",o=[];e!==null;){var h=e,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=ts(e,a),h!=null&&o.unshift($o(e,h,f)),h=ts(e,i),h!=null&&o.push($o(e,h,f))),e.tag===3)return o;e=e.return}return[]}function Aa(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Iy(e,i,a,o,h){for(var f=i._reactName,v=[];a!==null&&a!==o;){var E=a,b=E.alternate,L=E.stateNode;if(E=E.tag,b!==null&&b===o)break;E!==5&&E!==26&&E!==27||L===null||(b=L,h?(L=ts(a,f),L!=null&&v.unshift($o(a,L,b))):h||(L=ts(a,f),L!=null&&v.push($o(a,L,b)))),a=a.return}v.length!==0&&e.push({event:i,listeners:v})}var nA=/\r\n?/g,iA=/\u0000|\uFFFD/g;function Cy(e){return(typeof e=="string"?e:""+e).replace(nA,`
`).replace(iA,"")}function Dy(e,i){return i=Cy(i),Cy(e)===i}function $u(){}function Xt(e,i,a,o,h,f){switch(a){case"children":typeof o=="string"?i==="body"||i==="textarea"&&o===""||Tn(e,o):(typeof o=="number"||typeof o=="bigint")&&i!=="body"&&Tn(e,""+o);break;case"className":Kn(e,"class",o);break;case"tabIndex":Kn(e,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":Kn(e,a,o);break;case"style":co(e,o,f);break;case"data":if(i!=="object"){Kn(e,"data",o);break}case"src":case"href":if(o===""&&(i!=="a"||a!=="href")){e.removeAttribute(a);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(a);break}o=Hs(""+o),e.setAttribute(a,o);break;case"action":case"formAction":if(typeof o=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(a==="formAction"?(i!=="input"&&Xt(e,i,"name",h.name,h,null),Xt(e,i,"formEncType",h.formEncType,h,null),Xt(e,i,"formMethod",h.formMethod,h,null),Xt(e,i,"formTarget",h.formTarget,h,null)):(Xt(e,i,"encType",h.encType,h,null),Xt(e,i,"method",h.method,h,null),Xt(e,i,"target",h.target,h,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(a);break}o=Hs(""+o),e.setAttribute(a,o);break;case"onClick":o!=null&&(e.onclick=$u);break;case"onScroll":o!=null&&Nt("scroll",e);break;case"onScrollEnd":o!=null&&Nt("scrollend",e);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(s(61));if(a=o.__html,a!=null){if(h.children!=null)throw Error(s(60));e.innerHTML=a}}break;case"multiple":e.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":e.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){e.removeAttribute("xlink:href");break}a=Hs(""+o),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(a,""+o):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":o===!0?e.setAttribute(a,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(a,o):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?e.setAttribute(a,o):e.removeAttribute(a);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?e.removeAttribute(a):e.setAttribute(a,o);break;case"popover":Nt("beforetoggle",e),Nt("toggle",e),Ji(e,"popover",o);break;case"xlinkActuate":Pe(e,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":Pe(e,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":Pe(e,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":Pe(e,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":Pe(e,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":Pe(e,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":Pe(e,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":Pe(e,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":Pe(e,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":Ji(e,"is",o);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=ph.get(a)||a,Ji(e,a,o))}}function Kf(e,i,a,o,h,f){switch(a){case"style":co(e,o,f);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(s(61));if(a=o.__html,a!=null){if(h.children!=null)throw Error(s(60));e.innerHTML=a}}break;case"children":typeof o=="string"?Tn(e,o):(typeof o=="number"||typeof o=="bigint")&&Tn(e,""+o);break;case"onScroll":o!=null&&Nt("scroll",e);break;case"onScrollEnd":o!=null&&Nt("scrollend",e);break;case"onClick":o!=null&&(e.onclick=$u);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ls.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),i=a.slice(2,h?a.length-7:void 0),f=e[pe]||null,f=f!=null?f[a]:null,typeof f=="function"&&e.removeEventListener(i,f,h),typeof o=="function")){typeof f!="function"&&f!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(i,o,h);break t}a in e?e[a]=o:o===!0?e.setAttribute(a,""):Ji(e,a,o)}}}function ze(e,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Nt("error",e),Nt("load",e);var o=!1,h=!1,f;for(f in a)if(a.hasOwnProperty(f)){var v=a[f];if(v!=null)switch(f){case"src":o=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Xt(e,i,f,v,a,null)}}h&&Xt(e,i,"srcSet",a.srcSet,a,null),o&&Xt(e,i,"src",a.src,a,null);return;case"input":Nt("invalid",e);var E=f=v=h=null,b=null,L=null;for(o in a)if(a.hasOwnProperty(o)){var G=a[o];if(G!=null)switch(o){case"name":h=G;break;case"type":v=G;break;case"checked":b=G;break;case"defaultChecked":L=G;break;case"value":f=G;break;case"defaultValue":E=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(s(137,i));break;default:Xt(e,i,o,G,a,null)}}Zr(e,f,E,b,L,v,h,!1),qs(e);return;case"select":Nt("invalid",e),o=v=f=null;for(h in a)if(a.hasOwnProperty(h)&&(E=a[h],E!=null))switch(h){case"value":f=E;break;case"defaultValue":v=E;break;case"multiple":o=E;default:Xt(e,i,h,E,a,null)}i=f,a=v,e.multiple=!!o,i!=null?Ei(e,!!o,i,!1):a!=null&&Ei(e,!!o,a,!0);return;case"textarea":Nt("invalid",e),f=h=o=null;for(v in a)if(a.hasOwnProperty(v)&&(E=a[v],E!=null))switch(v){case"value":o=E;break;case"defaultValue":h=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(s(91));break;default:Xt(e,i,v,E,a,null)}Jr(e,o,h,f),qs(e);return;case"option":for(b in a)if(a.hasOwnProperty(b)&&(o=a[b],o!=null))switch(b){case"selected":e.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:Xt(e,i,b,o,a,null)}return;case"dialog":Nt("beforetoggle",e),Nt("toggle",e),Nt("cancel",e),Nt("close",e);break;case"iframe":case"object":Nt("load",e);break;case"video":case"audio":for(o=0;o<Xo.length;o++)Nt(Xo[o],e);break;case"image":Nt("error",e),Nt("load",e);break;case"details":Nt("toggle",e);break;case"embed":case"source":case"link":Nt("error",e),Nt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(L in a)if(a.hasOwnProperty(L)&&(o=a[L],o!=null))switch(L){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Xt(e,i,L,o,a,null)}return;default:if(ho(i)){for(G in a)a.hasOwnProperty(G)&&(o=a[G],o!==void 0&&Kf(e,i,G,o,a,void 0));return}}for(E in a)a.hasOwnProperty(E)&&(o=a[E],o!=null&&Xt(e,i,E,o,a,null))}function rA(e,i,a,o){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,v=null,E=null,b=null,L=null,G=null;for(B in a){var Y=a[B];if(a.hasOwnProperty(B)&&Y!=null)switch(B){case"checked":break;case"value":break;case"defaultValue":b=Y;default:o.hasOwnProperty(B)||Xt(e,i,B,null,o,Y)}}for(var z in o){var B=o[z];if(Y=a[z],o.hasOwnProperty(z)&&(B!=null||Y!=null))switch(z){case"type":f=B;break;case"name":h=B;break;case"checked":L=B;break;case"defaultChecked":G=B;break;case"value":v=B;break;case"defaultValue":E=B;break;case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(s(137,i));break;default:B!==Y&&Xt(e,i,z,B,o,Y)}}cn(e,v,E,b,L,G,f,h);return;case"select":B=v=E=z=null;for(f in a)if(b=a[f],a.hasOwnProperty(f)&&b!=null)switch(f){case"value":break;case"multiple":B=b;default:o.hasOwnProperty(f)||Xt(e,i,f,null,o,b)}for(h in o)if(f=o[h],b=a[h],o.hasOwnProperty(h)&&(f!=null||b!=null))switch(h){case"value":z=f;break;case"defaultValue":E=f;break;case"multiple":v=f;default:f!==b&&Xt(e,i,h,f,o,b)}i=E,a=v,o=B,z!=null?Ei(e,!!a,z,!1):!!o!=!!a&&(i!=null?Ei(e,!!a,i,!0):Ei(e,!!a,a?[]:"",!1));return;case"textarea":B=z=null;for(E in a)if(h=a[E],a.hasOwnProperty(E)&&h!=null&&!o.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:Xt(e,i,E,null,o,h)}for(v in o)if(h=o[v],f=a[v],o.hasOwnProperty(v)&&(h!=null||f!=null))switch(v){case"value":z=h;break;case"defaultValue":B=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==f&&Xt(e,i,v,h,o,f)}Qt(e,z,B);return;case"option":for(var yt in a)if(z=a[yt],a.hasOwnProperty(yt)&&z!=null&&!o.hasOwnProperty(yt))switch(yt){case"selected":e.selected=!1;break;default:Xt(e,i,yt,null,o,z)}for(b in o)if(z=o[b],B=a[b],o.hasOwnProperty(b)&&z!==B&&(z!=null||B!=null))switch(b){case"selected":e.selected=z&&typeof z!="function"&&typeof z!="symbol";break;default:Xt(e,i,b,z,o,B)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ht in a)z=a[ht],a.hasOwnProperty(ht)&&z!=null&&!o.hasOwnProperty(ht)&&Xt(e,i,ht,null,o,z);for(L in o)if(z=o[L],B=a[L],o.hasOwnProperty(L)&&z!==B&&(z!=null||B!=null))switch(L){case"children":case"dangerouslySetInnerHTML":if(z!=null)throw Error(s(137,i));break;default:Xt(e,i,L,z,o,B)}return;default:if(ho(i)){for(var $t in a)z=a[$t],a.hasOwnProperty($t)&&z!==void 0&&!o.hasOwnProperty($t)&&Kf(e,i,$t,void 0,o,z);for(G in o)z=o[G],B=a[G],!o.hasOwnProperty(G)||z===B||z===void 0&&B===void 0||Kf(e,i,G,z,o,B);return}}for(var V in a)z=a[V],a.hasOwnProperty(V)&&z!=null&&!o.hasOwnProperty(V)&&Xt(e,i,V,null,o,z);for(Y in o)z=o[Y],B=a[Y],!o.hasOwnProperty(Y)||z===B||z==null&&B==null||Xt(e,i,Y,z,o,B)}var Xf=null,$f=null;function Zu(e){return e.nodeType===9?e:e.ownerDocument}function Oy(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Ny(e,i){if(e===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&i==="foreignObject"?0:e}function Zf(e,i){return e==="textarea"||e==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Jf=null;function sA(){var e=window.event;return e&&e.type==="popstate"?e===Jf?!1:(Jf=e,!0):(Jf=null,!1)}var My=typeof setTimeout=="function"?setTimeout:void 0,aA=typeof clearTimeout=="function"?clearTimeout:void 0,xy=typeof Promise=="function"?Promise:void 0,oA=typeof queueMicrotask=="function"?queueMicrotask:typeof xy<"u"?function(e){return xy.resolve(null).then(e).catch(lA)}:My;function lA(e){setTimeout(function(){throw e})}function pr(e){return e==="head"}function Vy(e,i){var a=i,o=0,h=0;do{var f=a.nextSibling;if(e.removeChild(a),f&&f.nodeType===8)if(a=f.data,a==="/$"){if(0<o&&8>o){a=o;var v=e.ownerDocument;if(a&1&&Zo(v.documentElement),a&2&&Zo(v.body),a&4)for(a=v.head,Zo(a),v=a.firstChild;v;){var E=v.nextSibling,b=v.nodeName;v[Qr]||b==="SCRIPT"||b==="STYLE"||b==="LINK"&&v.rel.toLowerCase()==="stylesheet"||a.removeChild(v),v=E}}if(h===0){e.removeChild(f),sl(i);return}h--}else a==="$"||a==="$?"||a==="$!"?h++:o=a.charCodeAt(0)-48;else o=0;a=f}while(a);sl(i)}function Wf(e){var i=e.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Wf(a),Zi(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function uA(e,i,a,o){for(;e.nodeType===1;){var h=a;if(e.nodeName.toLowerCase()!==i.toLowerCase()){if(!o&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(o){if(!e[Qr])switch(i){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(f=e.getAttribute("rel"),f==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(f!==h.rel||e.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(f=e.getAttribute("src"),(f!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(i==="input"&&e.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===f)return e}else return e;if(e=Bn(e.nextSibling),e===null)break}return null}function cA(e,i,a){if(i==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=Bn(e.nextSibling),e===null))return null;return e}function td(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState==="complete"}function hA(e,i){var a=e.ownerDocument;if(e.data!=="$?"||a.readyState==="complete")i();else{var o=function(){i(),a.removeEventListener("DOMContentLoaded",o)};a.addEventListener("DOMContentLoaded",o),e._reactRetry=o}}function Bn(e){for(;e!=null;e=e.nextSibling){var i=e.nodeType;if(i===1||i===3)break;if(i===8){if(i=e.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return e}var ed=null;function Py(e){e=e.previousSibling;for(var i=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"){if(i===0)return e;i--}else a==="/$"&&i++}e=e.previousSibling}return null}function ky(e,i,a){switch(i=Zu(a),e){case"html":if(e=i.documentElement,!e)throw Error(s(452));return e;case"head":if(e=i.head,!e)throw Error(s(453));return e;case"body":if(e=i.body,!e)throw Error(s(454));return e;default:throw Error(s(451))}}function Zo(e){for(var i=e.attributes;i.length;)e.removeAttributeNode(i[0]);Zi(e)}var Nn=new Map,Uy=new Set;function Ju(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var zi=tt.d;tt.d={f:fA,r:dA,D:mA,C:gA,L:pA,m:yA,X:vA,S:_A,M:EA};function fA(){var e=zi.f(),i=Hu();return e||i}function dA(e){var i=Yn(e);i!==null&&i.tag===5&&i.type==="form"?ip(i):zi.r(e)}var Sa=typeof document>"u"?null:document;function Ly(e,i,a){var o=Sa;if(o&&typeof i=="string"&&i){var h=ye(i);h='link[rel="'+e+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),Uy.has(h)||(Uy.add(h),e={rel:e,crossOrigin:a,href:i},o.querySelector(h)===null&&(i=o.createElement("link"),ze(i,"link",e),ce(i),o.head.appendChild(i)))}}function mA(e){zi.D(e),Ly("dns-prefetch",e,null)}function gA(e,i){zi.C(e,i),Ly("preconnect",e,i)}function pA(e,i,a){zi.L(e,i,a);var o=Sa;if(o&&e&&i){var h='link[rel="preload"][as="'+ye(i)+'"]';i==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+ye(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+ye(a.imageSizes)+'"]')):h+='[href="'+ye(e)+'"]';var f=h;switch(i){case"style":f=ba(e);break;case"script":f=wa(e)}Nn.has(f)||(e=A({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:e,as:i},a),Nn.set(f,e),o.querySelector(h)!==null||i==="style"&&o.querySelector(Jo(f))||i==="script"&&o.querySelector(Wo(f))||(i=o.createElement("link"),ze(i,"link",e),ce(i),o.head.appendChild(i)))}}function yA(e,i){zi.m(e,i);var a=Sa;if(a&&e){var o=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+ye(o)+'"][href="'+ye(e)+'"]',f=h;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=wa(e)}if(!Nn.has(f)&&(e=A({rel:"modulepreload",href:e},i),Nn.set(f,e),a.querySelector(h)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Wo(f)))return}o=a.createElement("link"),ze(o,"link",e),ce(o),a.head.appendChild(o)}}}function _A(e,i,a){zi.S(e,i,a);var o=Sa;if(o&&e){var h=Je(o).hoistableStyles,f=ba(e);i=i||"default";var v=h.get(f);if(!v){var E={loading:0,preload:null};if(v=o.querySelector(Jo(f)))E.loading=5;else{e=A({rel:"stylesheet",href:e,"data-precedence":i},a),(a=Nn.get(f))&&nd(e,a);var b=v=o.createElement("link");ce(b),ze(b,"link",e),b._p=new Promise(function(L,G){b.onload=L,b.onerror=G}),b.addEventListener("load",function(){E.loading|=1}),b.addEventListener("error",function(){E.loading|=2}),E.loading|=4,Wu(v,i,o)}v={type:"stylesheet",instance:v,count:1,state:E},h.set(f,v)}}}function vA(e,i){zi.X(e,i);var a=Sa;if(a&&e){var o=Je(a).hoistableScripts,h=wa(e),f=o.get(h);f||(f=a.querySelector(Wo(h)),f||(e=A({src:e,async:!0},i),(i=Nn.get(h))&&id(e,i),f=a.createElement("script"),ce(f),ze(f,"link",e),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function EA(e,i){zi.M(e,i);var a=Sa;if(a&&e){var o=Je(a).hoistableScripts,h=wa(e),f=o.get(h);f||(f=a.querySelector(Wo(h)),f||(e=A({src:e,async:!0,type:"module"},i),(i=Nn.get(h))&&id(e,i),f=a.createElement("script"),ce(f),ze(f,"link",e),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function zy(e,i,a,o){var h=(h=pt.current)?Ju(h):null;if(!h)throw Error(s(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=ba(a.href),a=Je(h).hoistableStyles,o=a.get(i),o||(o={type:"style",instance:null,count:0,state:null},a.set(i,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=ba(a.href);var f=Je(h).hoistableStyles,v=f.get(e);if(v||(h=h.ownerDocument||h,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(e,v),(f=h.querySelector(Jo(e)))&&!f._p&&(v.instance=f,v.state.loading=5),Nn.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Nn.set(e,a),f||TA(h,e,a,v.state))),i&&o===null)throw Error(s(528,""));return v}if(i&&o!==null)throw Error(s(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=wa(a),a=Je(h).hoistableScripts,o=a.get(i),o||(o={type:"script",instance:null,count:0,state:null},a.set(i,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,e))}}function ba(e){return'href="'+ye(e)+'"'}function Jo(e){return'link[rel="stylesheet"]['+e+"]"}function By(e){return A({},e,{"data-precedence":e.precedence,precedence:null})}function TA(e,i,a,o){e.querySelector('link[rel="preload"][as="style"]['+i+"]")?o.loading=1:(i=e.createElement("link"),o.preload=i,i.addEventListener("load",function(){return o.loading|=1}),i.addEventListener("error",function(){return o.loading|=2}),ze(i,"link",a),ce(i),e.head.appendChild(i))}function wa(e){return'[src="'+ye(e)+'"]'}function Wo(e){return"script[async]"+e}function jy(e,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var o=e.querySelector('style[data-href~="'+ye(a.href)+'"]');if(o)return i.instance=o,ce(o),o;var h=A({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return o=(e.ownerDocument||e).createElement("style"),ce(o),ze(o,"style",h),Wu(o,a.precedence,e),i.instance=o;case"stylesheet":h=ba(a.href);var f=e.querySelector(Jo(h));if(f)return i.state.loading|=4,i.instance=f,ce(f),f;o=By(a),(h=Nn.get(h))&&nd(o,h),f=(e.ownerDocument||e).createElement("link"),ce(f);var v=f;return v._p=new Promise(function(E,b){v.onload=E,v.onerror=b}),ze(f,"link",o),i.state.loading|=4,Wu(f,a.precedence,e),i.instance=f;case"script":return f=wa(a.src),(h=e.querySelector(Wo(f)))?(i.instance=h,ce(h),h):(o=a,(h=Nn.get(f))&&(o=A({},a),id(o,h)),e=e.ownerDocument||e,h=e.createElement("script"),ce(h),ze(h,"link",o),e.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(o=i.instance,i.state.loading|=4,Wu(o,a.precedence,e));return i.instance}function Wu(e,i,a){for(var o=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=o.length?o[o.length-1]:null,f=h,v=0;v<o.length;v++){var E=o[v];if(E.dataset.precedence===i)f=E;else if(f!==h)break}f?f.parentNode.insertBefore(e,f.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(e,i.firstChild))}function nd(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.title==null&&(e.title=i.title)}function id(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.integrity==null&&(e.integrity=i.integrity)}var tc=null;function qy(e,i,a){if(tc===null){var o=new Map,h=tc=new Map;h.set(a,o)}else h=tc,o=h.get(a),o||(o=new Map,h.set(a,o));if(o.has(e))return o;for(o.set(e,null),a=a.getElementsByTagName(e),h=0;h<a.length;h++){var f=a[h];if(!(f[Qr]||f[Te]||e==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var v=f.getAttribute(i)||"";v=e+v;var E=o.get(v);E?E.push(f):o.set(v,[f])}}return o}function Hy(e,i,a){e=e.ownerDocument||e,e.head.insertBefore(a,i==="title"?e.querySelector("head > title"):null)}function AA(e,i,a){if(a===1||i.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return e=i.disabled,typeof i.precedence=="string"&&e==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function Gy(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}var tl=null;function SA(){}function bA(e,i,a){if(tl===null)throw Error(s(475));var o=tl;if(i.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var h=ba(a.href),f=e.querySelector(Jo(h));if(f){e=f._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(o.count++,o=ec.bind(o),e.then(o,o)),i.state.loading|=4,i.instance=f,ce(f);return}f=e.ownerDocument||e,a=By(a),(h=Nn.get(h))&&nd(a,h),f=f.createElement("link"),ce(f);var v=f;v._p=new Promise(function(E,b){v.onload=E,v.onerror=b}),ze(f,"link",a),i.instance=f}o.stylesheets===null&&(o.stylesheets=new Map),o.stylesheets.set(i,e),(e=i.state.preload)&&(i.state.loading&3)===0&&(o.count++,i=ec.bind(o),e.addEventListener("load",i),e.addEventListener("error",i))}}function wA(){if(tl===null)throw Error(s(475));var e=tl;return e.stylesheets&&e.count===0&&rd(e,e.stylesheets),0<e.count?function(i){var a=setTimeout(function(){if(e.stylesheets&&rd(e,e.stylesheets),e.unsuspend){var o=e.unsuspend;e.unsuspend=null,o()}},6e4);return e.unsuspend=i,function(){e.unsuspend=null,clearTimeout(a)}}:null}function ec(){if(this.count--,this.count===0){if(this.stylesheets)rd(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var nc=null;function rd(e,i){e.stylesheets=null,e.unsuspend!==null&&(e.count++,nc=new Map,i.forEach(RA,e),nc=null,ec.call(e))}function RA(e,i){if(!(i.state.loading&4)){var a=nc.get(e);if(a)var o=a.get(null);else{a=new Map,nc.set(e,a);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var v=h[f];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(a.set(v.dataset.precedence,v),o=v)}o&&a.set(null,o)}h=i.instance,v=h.getAttribute("data-precedence"),f=a.get(v)||o,f===o&&a.set(null,h),a.set(v,h),this.count++,o=ec.bind(this),h.addEventListener("load",o),h.addEventListener("error",o),f?f.parentNode.insertBefore(h,f.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),i.state.loading|=4}}var el={$$typeof:lt,Provider:null,Consumer:null,_currentValue:at,_currentValue2:at,_threadCount:0};function IA(e,i,a,o,h,f,v,E){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=gi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gi(0),this.hiddenUpdates=gi(null),this.identifierPrefix=o,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=E,this.incompleteTransitions=new Map}function Fy(e,i,a,o,h,f,v,E,b,L,G,Y){return e=new IA(e,i,a,v,E,b,L,Y),i=1,f===!0&&(i|=24),f=fn(3,null,null,i),e.current=f,f.stateNode=e,i=Lh(),i.refCount++,e.pooledCache=i,i.refCount++,f.memoizedState={element:o,isDehydrated:a,cache:i},qh(f),e}function Yy(e){return e?(e=na,e):na}function Qy(e,i,a,o,h,f){h=Yy(h),o.context===null?o.context=h:o.pendingContext=h,o=ir(i),o.payload={element:a},f=f===void 0?null:f,f!==null&&(o.callback=f),a=rr(e,o,i),a!==null&&(yn(a,e,i),No(a,e,i))}function Ky(e,i){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<i?a:i}}function sd(e,i){Ky(e,i),(e=e.alternate)&&Ky(e,i)}function Xy(e){if(e.tag===13){var i=ea(e,67108864);i!==null&&yn(i,e,67108864),sd(e,67108864)}}var ic=!0;function CA(e,i,a,o){var h=q.T;q.T=null;var f=tt.p;try{tt.p=2,ad(e,i,a,o)}finally{tt.p=f,q.T=h}}function DA(e,i,a,o){var h=q.T;q.T=null;var f=tt.p;try{tt.p=8,ad(e,i,a,o)}finally{tt.p=f,q.T=h}}function ad(e,i,a,o){if(ic){var h=od(o);if(h===null)Qf(e,i,o,rc,a),Zy(e,o);else if(NA(h,e,i,a,o))o.stopPropagation();else if(Zy(e,o),i&4&&-1<OA.indexOf(e)){for(;h!==null;){var f=Yn(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var v=Pn(f.pendingLanes);if(v!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;v;){var b=1<<31-Fe(v);E.entanglements[1]|=b,v&=~b}ai(f),(Gt&6)===0&&(ju=vn()+500,Ko(0))}}break;case 13:E=ea(f,2),E!==null&&yn(E,f,2),Hu(),sd(f,2)}if(f=od(o),f===null&&Qf(e,i,o,rc,a),f===h)break;h=f}h!==null&&o.stopPropagation()}else Qf(e,i,o,null,a)}}function od(e){return e=An(e),ld(e)}var rc=null;function ld(e){if(rc=null,e=yi(e),e!==null){var i=c(e);if(i===null)e=null;else{var a=i.tag;if(a===13){if(e=d(i),e!==null)return e;e=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;e=null}else i!==e&&(e=null)}}return rc=e,null}function $y(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ch()){case Ja:return 2;case Vs:return 8;case qr:case hh:return 32;case Ps:return 268435456;default:return 32}default:return 32}}var ud=!1,yr=null,_r=null,vr=null,nl=new Map,il=new Map,Er=[],OA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Zy(e,i){switch(e){case"focusin":case"focusout":yr=null;break;case"dragenter":case"dragleave":_r=null;break;case"mouseover":case"mouseout":vr=null;break;case"pointerover":case"pointerout":nl.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":il.delete(i.pointerId)}}function rl(e,i,a,o,h,f){return e===null||e.nativeEvent!==f?(e={blockedOn:i,domEventName:a,eventSystemFlags:o,nativeEvent:f,targetContainers:[h]},i!==null&&(i=Yn(i),i!==null&&Xy(i)),e):(e.eventSystemFlags|=o,i=e.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),e)}function NA(e,i,a,o,h){switch(i){case"focusin":return yr=rl(yr,e,i,a,o,h),!0;case"dragenter":return _r=rl(_r,e,i,a,o,h),!0;case"mouseover":return vr=rl(vr,e,i,a,o,h),!0;case"pointerover":var f=h.pointerId;return nl.set(f,rl(nl.get(f)||null,e,i,a,o,h)),!0;case"gotpointercapture":return f=h.pointerId,il.set(f,rl(il.get(f)||null,e,i,a,o,h)),!0}return!1}function Jy(e){var i=yi(e.target);if(i!==null){var a=c(i);if(a!==null){if(i=a.tag,i===13){if(i=d(a),i!==null){e.blockedOn=i,Hl(e.priority,function(){if(a.tag===13){var o=pn();o=Ki(o);var h=ea(a,o);h!==null&&yn(h,a,o),sd(a,o)}});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function sc(e){if(e.blockedOn!==null)return!1;for(var i=e.targetContainers;0<i.length;){var a=od(e.nativeEvent);if(a===null){a=e.nativeEvent;var o=new a.constructor(a.type,a);Ti=o,a.target.dispatchEvent(o),Ti=null}else return i=Yn(a),i!==null&&Xy(i),e.blockedOn=a,!1;i.shift()}return!0}function Wy(e,i,a){sc(e)&&a.delete(i)}function MA(){ud=!1,yr!==null&&sc(yr)&&(yr=null),_r!==null&&sc(_r)&&(_r=null),vr!==null&&sc(vr)&&(vr=null),nl.forEach(Wy),il.forEach(Wy)}function ac(e,i){e.blockedOn===i&&(e.blockedOn=null,ud||(ud=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,MA)))}var oc=null;function t_(e){oc!==e&&(oc=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){oc===e&&(oc=null);for(var i=0;i<e.length;i+=3){var a=e[i],o=e[i+1],h=e[i+2];if(typeof o!="function"){if(ld(o||a)===null)continue;break}var f=Yn(a);f!==null&&(e.splice(i,3),i-=3,lf(f,{pending:!0,data:h,method:a.method,action:o},o,h))}}))}function sl(e){function i(b){return ac(b,e)}yr!==null&&ac(yr,e),_r!==null&&ac(_r,e),vr!==null&&ac(vr,e),nl.forEach(i),il.forEach(i);for(var a=0;a<Er.length;a++){var o=Er[a];o.blockedOn===e&&(o.blockedOn=null)}for(;0<Er.length&&(a=Er[0],a.blockedOn===null);)Jy(a),a.blockedOn===null&&Er.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(o=0;o<a.length;o+=3){var h=a[o],f=a[o+1],v=h[pe]||null;if(typeof f=="function")v||t_(a);else if(v){var E=null;if(f&&f.hasAttribute("formAction")){if(h=f,v=f[pe]||null)E=v.formAction;else if(ld(h)!==null)continue}else E=v.action;typeof E=="function"?a[o+1]=E:(a.splice(o,3),o-=3),t_(a)}}}function cd(e){this._internalRoot=e}lc.prototype.render=cd.prototype.render=function(e){var i=this._internalRoot;if(i===null)throw Error(s(409));var a=i.current,o=pn();Qy(a,o,e,i,null,null)},lc.prototype.unmount=cd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var i=e.containerInfo;Qy(e.current,2,null,e,null,null),Hu(),i[En]=null}};function lc(e){this._internalRoot=e}lc.prototype.unstable_scheduleHydration=function(e){if(e){var i=Xi();e={blockedOn:null,target:e,priority:i};for(var a=0;a<Er.length&&i!==0&&i<Er[a].priority;a++);Er.splice(a,0,e),a===0&&Jy(e)}};var e_=t.version;if(e_!=="19.1.0")throw Error(s(527,e_,"19.1.0"));tt.findDOMNode=function(e){var i=e._reactInternals;if(i===void 0)throw typeof e.render=="function"?Error(s(188)):(e=Object.keys(e).join(","),Error(s(268,e)));return e=p(i),e=e!==null?_(e):null,e=e===null?null:e.stateNode,e};var xA={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:q,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var uc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!uc.isDisabled&&uc.supportsFiber)try{ae=uc.inject(xA),Ht=uc}catch{}}return ol.createRoot=function(e,i){if(!l(e))throw Error(s(299));var a=!1,o="",h=yp,f=_p,v=vp,E=null;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(o=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(f=i.onCaughtError),i.onRecoverableError!==void 0&&(v=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(E=i.unstable_transitionCallbacks)),i=Fy(e,1,!1,null,null,a,o,h,f,v,E,null),e[En]=i.current,Yf(e),new cd(i)},ol.hydrateRoot=function(e,i,a){if(!l(e))throw Error(s(299));var o=!1,h="",f=yp,v=_p,E=vp,b=null,L=null;return a!=null&&(a.unstable_strictMode===!0&&(o=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(f=a.onUncaughtError),a.onCaughtError!==void 0&&(v=a.onCaughtError),a.onRecoverableError!==void 0&&(E=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(b=a.unstable_transitionCallbacks),a.formState!==void 0&&(L=a.formState)),i=Fy(e,1,!0,i,a??null,o,h,f,v,E,b,L),i.context=Yy(null),a=i.current,o=pn(),o=Ki(o),h=ir(o),h.callback=null,rr(a,h,o),a=o,i.current.lanes=a,pi(i,a),ai(i),e[En]=i.current,Yf(e),new lc(i)},ol.version="19.1.0",ol}var h_;function HA(){if(h_)return dd.exports;h_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),dd.exports=qA(),dd.exports}var GA=HA();const FA=()=>{};var f_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bv=function(r){const t=[];let n=0;for(let s=0;s<r.length;s++){let l=r.charCodeAt(s);l<128?t[n++]=l:l<2048?(t[n++]=l>>6|192,t[n++]=l&63|128):(l&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(l=65536+((l&1023)<<10)+(r.charCodeAt(++s)&1023),t[n++]=l>>18|240,t[n++]=l>>12&63|128,t[n++]=l>>6&63|128,t[n++]=l&63|128):(t[n++]=l>>12|224,t[n++]=l>>6&63|128,t[n++]=l&63|128)}return t},YA=function(r){const t=[];let n=0,s=0;for(;n<r.length;){const l=r[n++];if(l<128)t[s++]=String.fromCharCode(l);else if(l>191&&l<224){const c=r[n++];t[s++]=String.fromCharCode((l&31)<<6|c&63)}else if(l>239&&l<365){const c=r[n++],d=r[n++],g=r[n++],p=((l&7)<<18|(c&63)<<12|(d&63)<<6|g&63)-65536;t[s++]=String.fromCharCode(55296+(p>>10)),t[s++]=String.fromCharCode(56320+(p&1023))}else{const c=r[n++],d=r[n++];t[s++]=String.fromCharCode((l&15)<<12|(c&63)<<6|d&63)}}return t.join("")},jv={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,t){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let l=0;l<r.length;l+=3){const c=r[l],d=l+1<r.length,g=d?r[l+1]:0,p=l+2<r.length,_=p?r[l+2]:0,A=c>>2,I=(c&3)<<4|g>>4;let O=(g&15)<<2|_>>6,H=_&63;p||(H=64,d||(O=64)),s.push(n[A],n[I],n[O],n[H])}return s.join("")},encodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(r):this.encodeByteArray(Bv(r),t)},decodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(r):YA(this.decodeStringToByteArray(r,t))},decodeStringToByteArray(r,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let l=0;l<r.length;){const c=n[r.charAt(l++)],g=l<r.length?n[r.charAt(l)]:0;++l;const _=l<r.length?n[r.charAt(l)]:64;++l;const I=l<r.length?n[r.charAt(l)]:64;if(++l,c==null||g==null||_==null||I==null)throw new QA;const O=c<<2|g>>4;if(s.push(O),_!==64){const H=g<<4&240|_>>2;if(s.push(H),I!==64){const X=_<<6&192|I;s.push(X)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class QA extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const KA=function(r){const t=Bv(r);return jv.encodeByteArray(t,!0)},Rc=function(r){return KA(r).replace(/\./g,"")},qv=function(r){try{return jv.decodeString(r,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XA(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $A=()=>XA().__FIREBASE_DEFAULTS__,ZA=()=>{if(typeof process>"u"||typeof f_>"u")return;const r=f_.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},JA=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=r&&qv(r[1]);return t&&JSON.parse(t)},Yc=()=>{try{return FA()||$A()||ZA()||JA()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},Hv=r=>{var t,n;return(n=(t=Yc())===null||t===void 0?void 0:t.emulatorHosts)===null||n===void 0?void 0:n[r]},WA=r=>{const t=Hv(r);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const s=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),s]:[t.substring(0,n),s]},Gv=()=>{var r;return(r=Yc())===null||r===void 0?void 0:r.config},Fv=r=>{var t;return(t=Yc())===null||t===void 0?void 0:t[`_${r}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tS{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ga(r){return r.endsWith(".cloudworkstations.dev")}async function Yv(r){return(await fetch(r,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eS(r,t){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=t||"demo-project",l=r.iat||0,c=r.sub||r.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:l,exp:l+3600,auth_time:l,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}}},r);return[Rc(JSON.stringify(n)),Rc(JSON.stringify(d)),""].join(".")}const dl={};function nS(){const r={prod:[],emulator:[]};for(const t of Object.keys(dl))dl[t]?r.emulator.push(t):r.prod.push(t);return r}function iS(r){let t=document.getElementById(r),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",r),n=!0),{created:n,element:t}}let d_=!1;function Qv(r,t){if(typeof window>"u"||typeof document>"u"||!Ga(window.location.host)||dl[r]===t||dl[r]||d_)return;dl[r]=t;function n(O){return`__firebase__banner__${O}`}const s="__firebase__banner",c=nS().prod.length>0;function d(){const O=document.getElementById(s);O&&O.remove()}function g(O){O.style.display="flex",O.style.background="#7faaf0",O.style.position="fixed",O.style.bottom="5px",O.style.left="5px",O.style.padding=".5em",O.style.borderRadius="5px",O.style.alignItems="center"}function p(O,H){O.setAttribute("width","24"),O.setAttribute("id",H),O.setAttribute("height","24"),O.setAttribute("viewBox","0 0 24 24"),O.setAttribute("fill","none"),O.style.marginLeft="-6px"}function _(){const O=document.createElement("span");return O.style.cursor="pointer",O.style.marginLeft="16px",O.style.fontSize="24px",O.innerHTML=" &times;",O.onclick=()=>{d_=!0,d()},O}function A(O,H){O.setAttribute("id",H),O.innerText="Learn more",O.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",O.setAttribute("target","__blank"),O.style.paddingLeft="5px",O.style.textDecoration="underline"}function I(){const O=iS(s),H=n("text"),X=document.getElementById(H)||document.createElement("span"),nt=n("learnmore"),Z=document.getElementById(nt)||document.createElement("a"),Tt=n("preprendIcon"),ct=document.getElementById(Tt)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(O.created){const lt=O.element;g(lt),A(Z,nt);const St=_();p(ct,Tt),lt.append(ct,X,Z,St),document.body.appendChild(lt)}c?(X.innerText="Preview backend disconnected.",ct.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(ct.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,X.innerText="Preview backend running in this workspace."),X.setAttribute("id",H)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",I):I()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ze(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function rS(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ze())}function sS(){var r;const t=(r=Yc())===null||r===void 0?void 0:r.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function aS(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function oS(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function lS(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function uS(){const r=Ze();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function cS(){return!sS()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function hS(){try{return typeof indexedDB=="object"}catch{return!1}}function fS(){return new Promise((r,t)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(s);l.onsuccess=()=>{l.result.close(),n||self.indexedDB.deleteDatabase(s),r(!0)},l.onupgradeneeded=()=>{n=!1},l.onerror=()=>{var c;t(((c=l.error)===null||c===void 0?void 0:c.message)||"")}}catch(n){t(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dS="FirebaseError";class Qi extends Error{constructor(t,n,s){super(n),this.code=t,this.customData=s,this.name=dS,Object.setPrototypeOf(this,Qi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Nl.prototype.create)}}class Nl{constructor(t,n,s){this.service=t,this.serviceName=n,this.errors=s}create(t,...n){const s=n[0]||{},l=`${this.service}/${t}`,c=this.errors[t],d=c?mS(c,s):"Error",g=`${this.serviceName}: ${d} (${l}).`;return new Qi(l,g,s)}}function mS(r,t){return r.replace(gS,(n,s)=>{const l=t[s];return l!=null?String(l):`<${s}?>`})}const gS=/\{\$([^}]+)}/g;function pS(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}function bs(r,t){if(r===t)return!0;const n=Object.keys(r),s=Object.keys(t);for(const l of n){if(!s.includes(l))return!1;const c=r[l],d=t[l];if(m_(c)&&m_(d)){if(!bs(c,d))return!1}else if(c!==d)return!1}for(const l of s)if(!n.includes(l))return!1;return!0}function m_(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ml(r){const t=[];for(const[n,s]of Object.entries(r))Array.isArray(s)?s.forEach(l=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(l))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return t.length?"&"+t.join("&"):""}function ll(r){const t={};return r.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[l,c]=s.split("=");t[decodeURIComponent(l)]=decodeURIComponent(c)}}),t}function ul(r){const t=r.indexOf("?");if(!t)return"";const n=r.indexOf("#",t);return r.substring(t,n>0?n:void 0)}function yS(r,t){const n=new _S(r,t);return n.subscribe.bind(n)}class _S{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(s=>{this.error(s)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,s){let l;if(t===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");vS(t,["next","error","complete"])?l=t:l={next:t,error:n,complete:s},l.next===void 0&&(l.next=yd),l.error===void 0&&(l.error=yd),l.complete===void 0&&(l.complete=yd);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),c}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function vS(r,t){if(typeof r!="object"||r===null)return!1;for(const n of t)if(n in r&&typeof r[n]=="function")return!0;return!1}function yd(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _n(r){return r&&r._delegate?r._delegate:r}class ws{constructor(t,n,s){this.name=t,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const As="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ES{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const s=new tS;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:n});l&&s.resolve(l)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){var n;const s=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),l=(n=t==null?void 0:t.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(c){if(l)return null;throw c}else{if(l)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(AS(t))try{this.getOrInitializeService({instanceIdentifier:As})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(n);try{const c=this.getOrInitializeService({instanceIdentifier:l});s.resolve(c)}catch{}}}}clearInstance(t=As){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=As){return this.instances.has(t)}getOptions(t=As){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,s=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[c,d]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(c);s===g&&d.resolve(l)}return l}onInit(t,n){var s;const l=this.normalizeInstanceIdentifier(n),c=(s=this.onInitCallbacks.get(l))!==null&&s!==void 0?s:new Set;c.add(t),this.onInitCallbacks.set(l,c);const d=this.instances.get(l);return d&&t(d,l),()=>{c.delete(t)}}invokeOnInitCallbacks(t,n){const s=this.onInitCallbacks.get(n);if(s)for(const l of s)try{l(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let s=this.instances.get(t);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:TS(t),options:n}),this.instances.set(t,s),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(s,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,s)}catch{}return s||null}normalizeInstanceIdentifier(t=As){return this.component?this.component.multipleInstances?t:As:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function TS(r){return r===As?void 0:r}function AS(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SS{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new ES(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Mt;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Mt||(Mt={}));const bS={debug:Mt.DEBUG,verbose:Mt.VERBOSE,info:Mt.INFO,warn:Mt.WARN,error:Mt.ERROR,silent:Mt.SILENT},wS=Mt.INFO,RS={[Mt.DEBUG]:"log",[Mt.VERBOSE]:"log",[Mt.INFO]:"info",[Mt.WARN]:"warn",[Mt.ERROR]:"error"},IS=(r,t,...n)=>{if(t<r.logLevel)return;const s=new Date().toISOString(),l=RS[t];if(l)console[l](`[${s}]  ${r.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class em{constructor(t){this.name=t,this._logLevel=wS,this._logHandler=IS,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Mt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?bS[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Mt.DEBUG,...t),this._logHandler(this,Mt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Mt.VERBOSE,...t),this._logHandler(this,Mt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Mt.INFO,...t),this._logHandler(this,Mt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Mt.WARN,...t),this._logHandler(this,Mt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Mt.ERROR,...t),this._logHandler(this,Mt.ERROR,...t)}}const CS=(r,t)=>t.some(n=>r instanceof n);let g_,p_;function DS(){return g_||(g_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function OS(){return p_||(p_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Kv=new WeakMap,Dd=new WeakMap,Xv=new WeakMap,_d=new WeakMap,nm=new WeakMap;function NS(r){const t=new Promise((n,s)=>{const l=()=>{r.removeEventListener("success",c),r.removeEventListener("error",d)},c=()=>{n(Cr(r.result)),l()},d=()=>{s(r.error),l()};r.addEventListener("success",c),r.addEventListener("error",d)});return t.then(n=>{n instanceof IDBCursor&&Kv.set(n,r)}).catch(()=>{}),nm.set(t,r),t}function MS(r){if(Dd.has(r))return;const t=new Promise((n,s)=>{const l=()=>{r.removeEventListener("complete",c),r.removeEventListener("error",d),r.removeEventListener("abort",d)},c=()=>{n(),l()},d=()=>{s(r.error||new DOMException("AbortError","AbortError")),l()};r.addEventListener("complete",c),r.addEventListener("error",d),r.addEventListener("abort",d)});Dd.set(r,t)}let Od={get(r,t,n){if(r instanceof IDBTransaction){if(t==="done")return Dd.get(r);if(t==="objectStoreNames")return r.objectStoreNames||Xv.get(r);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Cr(r[t])},set(r,t,n){return r[t]=n,!0},has(r,t){return r instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in r}};function xS(r){Od=r(Od)}function VS(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const s=r.call(vd(this),t,...n);return Xv.set(s,t.sort?t.sort():[t]),Cr(s)}:OS().includes(r)?function(...t){return r.apply(vd(this),t),Cr(Kv.get(this))}:function(...t){return Cr(r.apply(vd(this),t))}}function PS(r){return typeof r=="function"?VS(r):(r instanceof IDBTransaction&&MS(r),CS(r,DS())?new Proxy(r,Od):r)}function Cr(r){if(r instanceof IDBRequest)return NS(r);if(_d.has(r))return _d.get(r);const t=PS(r);return t!==r&&(_d.set(r,t),nm.set(t,r)),t}const vd=r=>nm.get(r);function kS(r,t,{blocked:n,upgrade:s,blocking:l,terminated:c}={}){const d=indexedDB.open(r,t),g=Cr(d);return s&&d.addEventListener("upgradeneeded",p=>{s(Cr(d.result),p.oldVersion,p.newVersion,Cr(d.transaction),p)}),n&&d.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),g.then(p=>{c&&p.addEventListener("close",()=>c()),l&&p.addEventListener("versionchange",_=>l(_.oldVersion,_.newVersion,_))}).catch(()=>{}),g}const US=["get","getKey","getAll","getAllKeys","count"],LS=["put","add","delete","clear"],Ed=new Map;function y_(r,t){if(!(r instanceof IDBDatabase&&!(t in r)&&typeof t=="string"))return;if(Ed.get(t))return Ed.get(t);const n=t.replace(/FromIndex$/,""),s=t!==n,l=LS.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(l||US.includes(n)))return;const c=async function(d,...g){const p=this.transaction(d,l?"readwrite":"readonly");let _=p.store;return s&&(_=_.index(g.shift())),(await Promise.all([_[n](...g),l&&p.done]))[0]};return Ed.set(t,c),c}xS(r=>({...r,get:(t,n,s)=>y_(t,n)||r.get(t,n,s),has:(t,n)=>!!y_(t,n)||r.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zS{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(BS(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function BS(r){const t=r.getComponent();return(t==null?void 0:t.type)==="VERSION"}const Nd="@firebase/app",__="0.13.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hi=new em("@firebase/app"),jS="@firebase/app-compat",qS="@firebase/analytics-compat",HS="@firebase/analytics",GS="@firebase/app-check-compat",FS="@firebase/app-check",YS="@firebase/auth",QS="@firebase/auth-compat",KS="@firebase/database",XS="@firebase/data-connect",$S="@firebase/database-compat",ZS="@firebase/functions",JS="@firebase/functions-compat",WS="@firebase/installations",t1="@firebase/installations-compat",e1="@firebase/messaging",n1="@firebase/messaging-compat",i1="@firebase/performance",r1="@firebase/performance-compat",s1="@firebase/remote-config",a1="@firebase/remote-config-compat",o1="@firebase/storage",l1="@firebase/storage-compat",u1="@firebase/firestore",c1="@firebase/ai",h1="@firebase/firestore-compat",f1="firebase",d1="11.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Md="[DEFAULT]",m1={[Nd]:"fire-core",[jS]:"fire-core-compat",[HS]:"fire-analytics",[qS]:"fire-analytics-compat",[FS]:"fire-app-check",[GS]:"fire-app-check-compat",[YS]:"fire-auth",[QS]:"fire-auth-compat",[KS]:"fire-rtdb",[XS]:"fire-data-connect",[$S]:"fire-rtdb-compat",[ZS]:"fire-fn",[JS]:"fire-fn-compat",[WS]:"fire-iid",[t1]:"fire-iid-compat",[e1]:"fire-fcm",[n1]:"fire-fcm-compat",[i1]:"fire-perf",[r1]:"fire-perf-compat",[s1]:"fire-rc",[a1]:"fire-rc-compat",[o1]:"fire-gcs",[l1]:"fire-gcs-compat",[u1]:"fire-fst",[h1]:"fire-fst-compat",[c1]:"fire-vertex","fire-js":"fire-js",[f1]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ic=new Map,g1=new Map,xd=new Map;function v_(r,t){try{r.container.addComponent(t)}catch(n){Hi.debug(`Component ${t.name} failed to register with FirebaseApp ${r.name}`,n)}}function Pa(r){const t=r.name;if(xd.has(t))return Hi.debug(`There were multiple attempts to register component ${t}.`),!1;xd.set(t,r);for(const n of Ic.values())v_(n,r);for(const n of g1.values())v_(n,r);return!0}function im(r,t){const n=r.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),r.container.getProvider(t)}function jn(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p1={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Dr=new Nl("app","Firebase",p1);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y1{constructor(t,n,s){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new ws("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Dr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fa=d1;function $v(r,t={}){let n=r;typeof t!="object"&&(t={name:t});const s=Object.assign({name:Md,automaticDataCollectionEnabled:!0},t),l=s.name;if(typeof l!="string"||!l)throw Dr.create("bad-app-name",{appName:String(l)});if(n||(n=Gv()),!n)throw Dr.create("no-options");const c=Ic.get(l);if(c){if(bs(n,c.options)&&bs(s,c.config))return c;throw Dr.create("duplicate-app",{appName:l})}const d=new SS(l);for(const p of xd.values())d.addComponent(p);const g=new y1(n,s,d);return Ic.set(l,g),g}function Zv(r=Md){const t=Ic.get(r);if(!t&&r===Md&&Gv())return $v();if(!t)throw Dr.create("no-app",{appName:r});return t}function Or(r,t,n){var s;let l=(s=m1[r])!==null&&s!==void 0?s:r;n&&(l+=`-${n}`);const c=l.match(/\s|\//),d=t.match(/\s|\//);if(c||d){const g=[`Unable to register library "${l}" with version "${t}":`];c&&g.push(`library name "${l}" contains illegal characters (whitespace or "/")`),c&&d&&g.push("and"),d&&g.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Hi.warn(g.join(" "));return}Pa(new ws(`${l}-version`,()=>({library:l,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _1="firebase-heartbeat-database",v1=1,El="firebase-heartbeat-store";let Td=null;function Jv(){return Td||(Td=kS(_1,v1,{upgrade:(r,t)=>{switch(t){case 0:try{r.createObjectStore(El)}catch(n){console.warn(n)}}}}).catch(r=>{throw Dr.create("idb-open",{originalErrorMessage:r.message})})),Td}async function E1(r){try{const n=(await Jv()).transaction(El),s=await n.objectStore(El).get(Wv(r));return await n.done,s}catch(t){if(t instanceof Qi)Hi.warn(t.message);else{const n=Dr.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});Hi.warn(n.message)}}}async function E_(r,t){try{const s=(await Jv()).transaction(El,"readwrite");await s.objectStore(El).put(t,Wv(r)),await s.done}catch(n){if(n instanceof Qi)Hi.warn(n.message);else{const s=Dr.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Hi.warn(s.message)}}}function Wv(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T1=1024,A1=30;class S1{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new w1(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var t,n;try{const l=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),c=T_();if(((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===c||this._heartbeatsCache.heartbeats.some(d=>d.date===c))return;if(this._heartbeatsCache.heartbeats.push({date:c,agent:l}),this._heartbeatsCache.heartbeats.length>A1){const d=R1(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(d,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){Hi.warn(s)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=T_(),{heartbeatsToSend:s,unsentEntries:l}=b1(this._heartbeatsCache.heartbeats),c=Rc(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=n,l.length>0?(this._heartbeatsCache.heartbeats=l,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),c}catch(n){return Hi.warn(n),""}}}function T_(){return new Date().toISOString().substring(0,10)}function b1(r,t=T1){const n=[];let s=r.slice();for(const l of r){const c=n.find(d=>d.agent===l.agent);if(c){if(c.dates.push(l.date),A_(n)>t){c.dates.pop();break}}else if(n.push({agent:l.agent,dates:[l.date]}),A_(n)>t){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class w1{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return hS()?fS().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await E1(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var n;if(await this._canUseIndexedDBPromise){const l=await this.read();return E_(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:l.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var n;if(await this._canUseIndexedDBPromise){const l=await this.read();return E_(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:l.lastSentHeartbeatDate,heartbeats:[...l.heartbeats,...t.heartbeats]})}else return}}function A_(r){return Rc(JSON.stringify({version:2,heartbeats:r})).length}function R1(r){if(r.length===0)return-1;let t=0,n=r[0].date;for(let s=1;s<r.length;s++)r[s].date<n&&(n=r[s].date,t=s);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I1(r){Pa(new ws("platform-logger",t=>new zS(t),"PRIVATE")),Pa(new ws("heartbeat",t=>new S1(t),"PRIVATE")),Or(Nd,__,r),Or(Nd,__,"esm2017"),Or("fire-js","")}I1("");var C1="firebase",D1="11.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Or(C1,D1,"app");var S_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Nr,tE;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(M,S){function w(){}w.prototype=S.prototype,M.D=S.prototype,M.prototype=new w,M.prototype.constructor=M,M.C=function(N,x,P){for(var R=Array(arguments.length-2),me=2;me<arguments.length;me++)R[me-2]=arguments[me];return S.prototype[x].apply(N,R)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(s,n),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(M,S,w){w||(w=0);var N=Array(16);if(typeof S=="string")for(var x=0;16>x;++x)N[x]=S.charCodeAt(w++)|S.charCodeAt(w++)<<8|S.charCodeAt(w++)<<16|S.charCodeAt(w++)<<24;else for(x=0;16>x;++x)N[x]=S[w++]|S[w++]<<8|S[w++]<<16|S[w++]<<24;S=M.g[0],w=M.g[1],x=M.g[2];var P=M.g[3],R=S+(P^w&(x^P))+N[0]+3614090360&4294967295;S=w+(R<<7&4294967295|R>>>25),R=P+(x^S&(w^x))+N[1]+3905402710&4294967295,P=S+(R<<12&4294967295|R>>>20),R=x+(w^P&(S^w))+N[2]+606105819&4294967295,x=P+(R<<17&4294967295|R>>>15),R=w+(S^x&(P^S))+N[3]+3250441966&4294967295,w=x+(R<<22&4294967295|R>>>10),R=S+(P^w&(x^P))+N[4]+4118548399&4294967295,S=w+(R<<7&4294967295|R>>>25),R=P+(x^S&(w^x))+N[5]+1200080426&4294967295,P=S+(R<<12&4294967295|R>>>20),R=x+(w^P&(S^w))+N[6]+2821735955&4294967295,x=P+(R<<17&4294967295|R>>>15),R=w+(S^x&(P^S))+N[7]+4249261313&4294967295,w=x+(R<<22&4294967295|R>>>10),R=S+(P^w&(x^P))+N[8]+1770035416&4294967295,S=w+(R<<7&4294967295|R>>>25),R=P+(x^S&(w^x))+N[9]+2336552879&4294967295,P=S+(R<<12&4294967295|R>>>20),R=x+(w^P&(S^w))+N[10]+4294925233&4294967295,x=P+(R<<17&4294967295|R>>>15),R=w+(S^x&(P^S))+N[11]+2304563134&4294967295,w=x+(R<<22&4294967295|R>>>10),R=S+(P^w&(x^P))+N[12]+1804603682&4294967295,S=w+(R<<7&4294967295|R>>>25),R=P+(x^S&(w^x))+N[13]+4254626195&4294967295,P=S+(R<<12&4294967295|R>>>20),R=x+(w^P&(S^w))+N[14]+2792965006&4294967295,x=P+(R<<17&4294967295|R>>>15),R=w+(S^x&(P^S))+N[15]+1236535329&4294967295,w=x+(R<<22&4294967295|R>>>10),R=S+(x^P&(w^x))+N[1]+4129170786&4294967295,S=w+(R<<5&4294967295|R>>>27),R=P+(w^x&(S^w))+N[6]+3225465664&4294967295,P=S+(R<<9&4294967295|R>>>23),R=x+(S^w&(P^S))+N[11]+643717713&4294967295,x=P+(R<<14&4294967295|R>>>18),R=w+(P^S&(x^P))+N[0]+3921069994&4294967295,w=x+(R<<20&4294967295|R>>>12),R=S+(x^P&(w^x))+N[5]+3593408605&4294967295,S=w+(R<<5&4294967295|R>>>27),R=P+(w^x&(S^w))+N[10]+38016083&4294967295,P=S+(R<<9&4294967295|R>>>23),R=x+(S^w&(P^S))+N[15]+3634488961&4294967295,x=P+(R<<14&4294967295|R>>>18),R=w+(P^S&(x^P))+N[4]+3889429448&4294967295,w=x+(R<<20&4294967295|R>>>12),R=S+(x^P&(w^x))+N[9]+568446438&4294967295,S=w+(R<<5&4294967295|R>>>27),R=P+(w^x&(S^w))+N[14]+3275163606&4294967295,P=S+(R<<9&4294967295|R>>>23),R=x+(S^w&(P^S))+N[3]+4107603335&4294967295,x=P+(R<<14&4294967295|R>>>18),R=w+(P^S&(x^P))+N[8]+1163531501&4294967295,w=x+(R<<20&4294967295|R>>>12),R=S+(x^P&(w^x))+N[13]+2850285829&4294967295,S=w+(R<<5&4294967295|R>>>27),R=P+(w^x&(S^w))+N[2]+4243563512&4294967295,P=S+(R<<9&4294967295|R>>>23),R=x+(S^w&(P^S))+N[7]+1735328473&4294967295,x=P+(R<<14&4294967295|R>>>18),R=w+(P^S&(x^P))+N[12]+2368359562&4294967295,w=x+(R<<20&4294967295|R>>>12),R=S+(w^x^P)+N[5]+4294588738&4294967295,S=w+(R<<4&4294967295|R>>>28),R=P+(S^w^x)+N[8]+2272392833&4294967295,P=S+(R<<11&4294967295|R>>>21),R=x+(P^S^w)+N[11]+1839030562&4294967295,x=P+(R<<16&4294967295|R>>>16),R=w+(x^P^S)+N[14]+4259657740&4294967295,w=x+(R<<23&4294967295|R>>>9),R=S+(w^x^P)+N[1]+2763975236&4294967295,S=w+(R<<4&4294967295|R>>>28),R=P+(S^w^x)+N[4]+1272893353&4294967295,P=S+(R<<11&4294967295|R>>>21),R=x+(P^S^w)+N[7]+4139469664&4294967295,x=P+(R<<16&4294967295|R>>>16),R=w+(x^P^S)+N[10]+3200236656&4294967295,w=x+(R<<23&4294967295|R>>>9),R=S+(w^x^P)+N[13]+681279174&4294967295,S=w+(R<<4&4294967295|R>>>28),R=P+(S^w^x)+N[0]+3936430074&4294967295,P=S+(R<<11&4294967295|R>>>21),R=x+(P^S^w)+N[3]+3572445317&4294967295,x=P+(R<<16&4294967295|R>>>16),R=w+(x^P^S)+N[6]+76029189&4294967295,w=x+(R<<23&4294967295|R>>>9),R=S+(w^x^P)+N[9]+3654602809&4294967295,S=w+(R<<4&4294967295|R>>>28),R=P+(S^w^x)+N[12]+3873151461&4294967295,P=S+(R<<11&4294967295|R>>>21),R=x+(P^S^w)+N[15]+530742520&4294967295,x=P+(R<<16&4294967295|R>>>16),R=w+(x^P^S)+N[2]+3299628645&4294967295,w=x+(R<<23&4294967295|R>>>9),R=S+(x^(w|~P))+N[0]+4096336452&4294967295,S=w+(R<<6&4294967295|R>>>26),R=P+(w^(S|~x))+N[7]+1126891415&4294967295,P=S+(R<<10&4294967295|R>>>22),R=x+(S^(P|~w))+N[14]+2878612391&4294967295,x=P+(R<<15&4294967295|R>>>17),R=w+(P^(x|~S))+N[5]+4237533241&4294967295,w=x+(R<<21&4294967295|R>>>11),R=S+(x^(w|~P))+N[12]+1700485571&4294967295,S=w+(R<<6&4294967295|R>>>26),R=P+(w^(S|~x))+N[3]+2399980690&4294967295,P=S+(R<<10&4294967295|R>>>22),R=x+(S^(P|~w))+N[10]+4293915773&4294967295,x=P+(R<<15&4294967295|R>>>17),R=w+(P^(x|~S))+N[1]+2240044497&4294967295,w=x+(R<<21&4294967295|R>>>11),R=S+(x^(w|~P))+N[8]+1873313359&4294967295,S=w+(R<<6&4294967295|R>>>26),R=P+(w^(S|~x))+N[15]+4264355552&4294967295,P=S+(R<<10&4294967295|R>>>22),R=x+(S^(P|~w))+N[6]+2734768916&4294967295,x=P+(R<<15&4294967295|R>>>17),R=w+(P^(x|~S))+N[13]+1309151649&4294967295,w=x+(R<<21&4294967295|R>>>11),R=S+(x^(w|~P))+N[4]+4149444226&4294967295,S=w+(R<<6&4294967295|R>>>26),R=P+(w^(S|~x))+N[11]+3174756917&4294967295,P=S+(R<<10&4294967295|R>>>22),R=x+(S^(P|~w))+N[2]+718787259&4294967295,x=P+(R<<15&4294967295|R>>>17),R=w+(P^(x|~S))+N[9]+3951481745&4294967295,M.g[0]=M.g[0]+S&4294967295,M.g[1]=M.g[1]+(x+(R<<21&4294967295|R>>>11))&4294967295,M.g[2]=M.g[2]+x&4294967295,M.g[3]=M.g[3]+P&4294967295}s.prototype.u=function(M,S){S===void 0&&(S=M.length);for(var w=S-this.blockSize,N=this.B,x=this.h,P=0;P<S;){if(x==0)for(;P<=w;)l(this,M,P),P+=this.blockSize;if(typeof M=="string"){for(;P<S;)if(N[x++]=M.charCodeAt(P++),x==this.blockSize){l(this,N),x=0;break}}else for(;P<S;)if(N[x++]=M[P++],x==this.blockSize){l(this,N),x=0;break}}this.h=x,this.o+=S},s.prototype.v=function(){var M=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);M[0]=128;for(var S=1;S<M.length-8;++S)M[S]=0;var w=8*this.o;for(S=M.length-8;S<M.length;++S)M[S]=w&255,w/=256;for(this.u(M),M=Array(16),S=w=0;4>S;++S)for(var N=0;32>N;N+=8)M[w++]=this.g[S]>>>N&255;return M};function c(M,S){var w=g;return Object.prototype.hasOwnProperty.call(w,M)?w[M]:w[M]=S(M)}function d(M,S){this.h=S;for(var w=[],N=!0,x=M.length-1;0<=x;x--){var P=M[x]|0;N&&P==S||(w[x]=P,N=!1)}this.g=w}var g={};function p(M){return-128<=M&&128>M?c(M,function(S){return new d([S|0],0>S?-1:0)}):new d([M|0],0>M?-1:0)}function _(M){if(isNaN(M)||!isFinite(M))return I;if(0>M)return Z(_(-M));for(var S=[],w=1,N=0;M>=w;N++)S[N]=M/w|0,w*=4294967296;return new d(S,0)}function A(M,S){if(M.length==0)throw Error("number format error: empty string");if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(M.charAt(0)=="-")return Z(A(M.substring(1),S));if(0<=M.indexOf("-"))throw Error('number format error: interior "-" character');for(var w=_(Math.pow(S,8)),N=I,x=0;x<M.length;x+=8){var P=Math.min(8,M.length-x),R=parseInt(M.substring(x,x+P),S);8>P?(P=_(Math.pow(S,P)),N=N.j(P).add(_(R))):(N=N.j(w),N=N.add(_(R)))}return N}var I=p(0),O=p(1),H=p(16777216);r=d.prototype,r.m=function(){if(nt(this))return-Z(this).m();for(var M=0,S=1,w=0;w<this.g.length;w++){var N=this.i(w);M+=(0<=N?N:4294967296+N)*S,S*=4294967296}return M},r.toString=function(M){if(M=M||10,2>M||36<M)throw Error("radix out of range: "+M);if(X(this))return"0";if(nt(this))return"-"+Z(this).toString(M);for(var S=_(Math.pow(M,6)),w=this,N="";;){var x=St(w,S).g;w=Tt(w,x.j(S));var P=((0<w.g.length?w.g[0]:w.h)>>>0).toString(M);if(w=x,X(w))return P+N;for(;6>P.length;)P="0"+P;N=P+N}},r.i=function(M){return 0>M?0:M<this.g.length?this.g[M]:this.h};function X(M){if(M.h!=0)return!1;for(var S=0;S<M.g.length;S++)if(M.g[S]!=0)return!1;return!0}function nt(M){return M.h==-1}r.l=function(M){return M=Tt(this,M),nt(M)?-1:X(M)?0:1};function Z(M){for(var S=M.g.length,w=[],N=0;N<S;N++)w[N]=~M.g[N];return new d(w,~M.h).add(O)}r.abs=function(){return nt(this)?Z(this):this},r.add=function(M){for(var S=Math.max(this.g.length,M.g.length),w=[],N=0,x=0;x<=S;x++){var P=N+(this.i(x)&65535)+(M.i(x)&65535),R=(P>>>16)+(this.i(x)>>>16)+(M.i(x)>>>16);N=R>>>16,P&=65535,R&=65535,w[x]=R<<16|P}return new d(w,w[w.length-1]&-2147483648?-1:0)};function Tt(M,S){return M.add(Z(S))}r.j=function(M){if(X(this)||X(M))return I;if(nt(this))return nt(M)?Z(this).j(Z(M)):Z(Z(this).j(M));if(nt(M))return Z(this.j(Z(M)));if(0>this.l(H)&&0>M.l(H))return _(this.m()*M.m());for(var S=this.g.length+M.g.length,w=[],N=0;N<2*S;N++)w[N]=0;for(N=0;N<this.g.length;N++)for(var x=0;x<M.g.length;x++){var P=this.i(N)>>>16,R=this.i(N)&65535,me=M.i(x)>>>16,te=M.i(x)&65535;w[2*N+2*x]+=R*te,ct(w,2*N+2*x),w[2*N+2*x+1]+=P*te,ct(w,2*N+2*x+1),w[2*N+2*x+1]+=R*me,ct(w,2*N+2*x+1),w[2*N+2*x+2]+=P*me,ct(w,2*N+2*x+2)}for(N=0;N<S;N++)w[N]=w[2*N+1]<<16|w[2*N];for(N=S;N<2*S;N++)w[N]=0;return new d(w,0)};function ct(M,S){for(;(M[S]&65535)!=M[S];)M[S+1]+=M[S]>>>16,M[S]&=65535,S++}function lt(M,S){this.g=M,this.h=S}function St(M,S){if(X(S))throw Error("division by zero");if(X(M))return new lt(I,I);if(nt(M))return S=St(Z(M),S),new lt(Z(S.g),Z(S.h));if(nt(S))return S=St(M,Z(S)),new lt(Z(S.g),S.h);if(30<M.g.length){if(nt(M)||nt(S))throw Error("slowDivide_ only works with positive integers.");for(var w=O,N=S;0>=N.l(M);)w=vt(w),N=vt(N);var x=Dt(w,1),P=Dt(N,1);for(N=Dt(N,2),w=Dt(w,2);!X(N);){var R=P.add(N);0>=R.l(M)&&(x=x.add(w),P=R),N=Dt(N,1),w=Dt(w,1)}return S=Tt(M,x.j(S)),new lt(x,S)}for(x=I;0<=M.l(S);){for(w=Math.max(1,Math.floor(M.m()/S.m())),N=Math.ceil(Math.log(w)/Math.LN2),N=48>=N?1:Math.pow(2,N-48),P=_(w),R=P.j(S);nt(R)||0<R.l(M);)w-=N,P=_(w),R=P.j(S);X(P)&&(P=O),x=x.add(P),M=Tt(M,R)}return new lt(x,M)}r.A=function(M){return St(this,M).h},r.and=function(M){for(var S=Math.max(this.g.length,M.g.length),w=[],N=0;N<S;N++)w[N]=this.i(N)&M.i(N);return new d(w,this.h&M.h)},r.or=function(M){for(var S=Math.max(this.g.length,M.g.length),w=[],N=0;N<S;N++)w[N]=this.i(N)|M.i(N);return new d(w,this.h|M.h)},r.xor=function(M){for(var S=Math.max(this.g.length,M.g.length),w=[],N=0;N<S;N++)w[N]=this.i(N)^M.i(N);return new d(w,this.h^M.h)};function vt(M){for(var S=M.g.length+1,w=[],N=0;N<S;N++)w[N]=M.i(N)<<1|M.i(N-1)>>>31;return new d(w,M.h)}function Dt(M,S){var w=S>>5;S%=32;for(var N=M.g.length-w,x=[],P=0;P<N;P++)x[P]=0<S?M.i(P+w)>>>S|M.i(P+w+1)<<32-S:M.i(P+w);return new d(x,M.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,tE=s,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.A,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=_,d.fromString=A,Nr=d}).apply(typeof S_<"u"?S_:typeof self<"u"?self:typeof window<"u"?window:{});var cc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var eE,cl,nE,yc,Vd,iE,rE,sE;(function(){var r,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,m,y){return u==Array.prototype||u==Object.prototype||(u[m]=y.value),u};function n(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof cc=="object"&&cc];for(var m=0;m<u.length;++m){var y=u[m];if(y&&y.Math==Math)return y}throw Error("Cannot find global object")}var s=n(this);function l(u,m){if(m)t:{var y=s;u=u.split(".");for(var T=0;T<u.length-1;T++){var k=u[T];if(!(k in y))break t;y=y[k]}u=u[u.length-1],T=y[u],m=m(T),m!=T&&m!=null&&t(y,u,{configurable:!0,writable:!0,value:m})}}function c(u,m){u instanceof String&&(u+="");var y=0,T=!1,k={next:function(){if(!T&&y<u.length){var j=y++;return{value:m(j,u[j]),done:!1}}return T=!0,{done:!0,value:void 0}}};return k[Symbol.iterator]=function(){return k},k}l("Array.prototype.values",function(u){return u||function(){return c(this,function(m,y){return y})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var d=d||{},g=this||self;function p(u){var m=typeof u;return m=m!="object"?m:u?Array.isArray(u)?"array":m:"null",m=="array"||m=="object"&&typeof u.length=="number"}function _(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function A(u,m,y){return u.call.apply(u.bind,arguments)}function I(u,m,y){if(!u)throw Error();if(2<arguments.length){var T=Array.prototype.slice.call(arguments,2);return function(){var k=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(k,T),u.apply(m,k)}}return function(){return u.apply(m,arguments)}}function O(u,m,y){return O=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?A:I,O.apply(null,arguments)}function H(u,m){var y=Array.prototype.slice.call(arguments,1);return function(){var T=y.slice();return T.push.apply(T,arguments),u.apply(this,T)}}function X(u,m){function y(){}y.prototype=m.prototype,u.aa=m.prototype,u.prototype=new y,u.prototype.constructor=u,u.Qb=function(T,k,j){for(var W=Array(arguments.length-2),Vt=2;Vt<arguments.length;Vt++)W[Vt-2]=arguments[Vt];return m.prototype[k].apply(T,W)}}function nt(u){const m=u.length;if(0<m){const y=Array(m);for(let T=0;T<m;T++)y[T]=u[T];return y}return[]}function Z(u,m){for(let y=1;y<arguments.length;y++){const T=arguments[y];if(p(T)){const k=u.length||0,j=T.length||0;u.length=k+j;for(let W=0;W<j;W++)u[k+W]=T[W]}else u.push(T)}}class Tt{constructor(m,y){this.i=m,this.j=y,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function ct(u){return/^[\s\xa0]*$/.test(u)}function lt(){var u=g.navigator;return u&&(u=u.userAgent)?u:""}function St(u){return St[" "](u),u}St[" "]=function(){};var vt=lt().indexOf("Gecko")!=-1&&!(lt().toLowerCase().indexOf("webkit")!=-1&&lt().indexOf("Edge")==-1)&&!(lt().indexOf("Trident")!=-1||lt().indexOf("MSIE")!=-1)&&lt().indexOf("Edge")==-1;function Dt(u,m,y){for(const T in u)m.call(y,u[T],T,u)}function M(u,m){for(const y in u)m.call(void 0,u[y],y,u)}function S(u){const m={};for(const y in u)m[y]=u[y];return m}const w="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function N(u,m){let y,T;for(let k=1;k<arguments.length;k++){T=arguments[k];for(y in T)u[y]=T[y];for(let j=0;j<w.length;j++)y=w[j],Object.prototype.hasOwnProperty.call(T,y)&&(u[y]=T[y])}}function x(u){var m=1;u=u.split(":");const y=[];for(;0<m&&u.length;)y.push(u.shift()),m--;return u.length&&y.push(u.join(":")),y}function P(u){g.setTimeout(()=>{throw u},0)}function R(){var u=Lt;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class me{constructor(){this.h=this.g=null}add(m,y){const T=te.get();T.set(m,y),this.h?this.h.next=T:this.g=T,this.h=T}}var te=new Tt(()=>new q,u=>u.reset());class q{constructor(){this.next=this.g=this.h=null}set(m,y){this.h=m,this.g=y,this.next=null}reset(){this.next=this.g=this.h=null}}let tt,at=!1,Lt=new me,C=()=>{const u=g.Promise.resolve(void 0);tt=()=>{u.then(K)}};var K=()=>{for(var u;u=R();){try{u.h.call(u.g)}catch(y){P(y)}var m=te;m.j(u),100>m.h&&(m.h++,u.next=m.g,m.g=u)}at=!1};function et(){this.s=this.s,this.C=this.C}et.prototype.s=!1,et.prototype.ma=function(){this.s||(this.s=!0,this.N())},et.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function J(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}J.prototype.h=function(){this.defaultPrevented=!0};var ut=function(){if(!g.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const y=()=>{};g.addEventListener("test",y,m),g.removeEventListener("test",y,m)}catch{}return u}();function wt(u,m){if(J.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var y=this.type=u.type,T=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget){if(vt){t:{try{St(m.nodeName);var k=!0;break t}catch{}k=!1}k||(m=null)}}else y=="mouseover"?m=u.fromElement:y=="mouseout"&&(m=u.toElement);this.relatedTarget=m,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:pt[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&wt.aa.h.call(this)}}X(wt,J);var pt={2:"touch",3:"pen",4:"mouse"};wt.prototype.h=function(){wt.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var ge="closure_listenable_"+(1e6*Math.random()|0),Yt=0;function on(u,m,y,T,k){this.listener=u,this.proxy=null,this.src=m,this.type=y,this.capture=!!T,this.ha=k,this.key=++Yt,this.da=this.fa=!1}function Vn(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Zt(u){this.src=u,this.g={},this.h=0}Zt.prototype.add=function(u,m,y,T,k){var j=u.toString();u=this.g[j],u||(u=this.g[j]=[],this.h++);var W=Ge(u,m,T,k);return-1<W?(m=u[W],y||(m.fa=!1)):(m=new on(m,this.src,j,!!T,k),m.fa=y,u.push(m)),m};function He(u,m){var y=m.type;if(y in u.g){var T=u.g[y],k=Array.prototype.indexOf.call(T,m,void 0),j;(j=0<=k)&&Array.prototype.splice.call(T,k,1),j&&(Vn(m),u.g[y].length==0&&(delete u.g[y],u.h--))}}function Ge(u,m,y,T){for(var k=0;k<u.length;++k){var j=u[k];if(!j.da&&j.listener==m&&j.capture==!!y&&j.ha==T)return k}return-1}var ln="closure_lm_"+(1e6*Math.random()|0),jr={};function Bl(u,m,y,T,k){if(Array.isArray(m)){for(var j=0;j<m.length;j++)Bl(u,m[j],y,T,k);return null}return y=jl(y),u&&u[ge]?u.K(m,y,_(T)?!!T.capture:!1,k):vn(u,m,y,!1,T,k)}function vn(u,m,y,T,k,j){if(!m)throw Error("Invalid event type");var W=_(k)?!!k.capture:!!k,Vt=Ps(u);if(Vt||(u[ln]=Vt=new Zt(u)),y=Vt.add(m,y,T,W,j),y.proxy)return y;if(T=ch(),y.proxy=T,T.src=u,T.listener=y,u.addEventListener)ut||(k=W),k===void 0&&(k=!1),u.addEventListener(m.toString(),T,k);else if(u.attachEvent)u.attachEvent(qr(m.toString()),T);else if(u.addListener&&u.removeListener)u.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return y}function ch(){function u(y){return m.call(u.src,u.listener,y)}const m=hh;return u}function Ja(u,m,y,T,k){if(Array.isArray(m))for(var j=0;j<m.length;j++)Ja(u,m[j],y,T,k);else T=_(T)?!!T.capture:!!T,y=jl(y),u&&u[ge]?(u=u.i,m=String(m).toString(),m in u.g&&(j=u.g[m],y=Ge(j,y,T,k),-1<y&&(Vn(j[y]),Array.prototype.splice.call(j,y,1),j.length==0&&(delete u.g[m],u.h--)))):u&&(u=Ps(u))&&(m=u.g[m.toString()],u=-1,m&&(u=Ge(m,y,T,k)),(y=-1<u?m[u]:null)&&Vs(y))}function Vs(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[ge])He(m.i,u);else{var y=u.type,T=u.proxy;m.removeEventListener?m.removeEventListener(y,T,u.capture):m.detachEvent?m.detachEvent(qr(y),T):m.addListener&&m.removeListener&&m.removeListener(T),(y=Ps(m))?(He(y,u),y.h==0&&(y.src=null,m[ln]=null)):Vn(u)}}}function qr(u){return u in jr?jr[u]:jr[u]="on"+u}function hh(u,m){if(u.da)u=!0;else{m=new wt(m,this);var y=u.listener,T=u.ha||u.src;u.fa&&Vs(u),u=y.call(T,m)}return u}function Ps(u){return u=u[ln],u instanceof Zt?u:null}var Wa="__closure_events_fn_"+(1e9*Math.random()>>>0);function jl(u){return typeof u=="function"?u:(u[Wa]||(u[Wa]=function(m){return u.handleEvent(m)}),u[Wa])}function ae(){et.call(this),this.i=new Zt(this),this.M=this,this.F=null}X(ae,et),ae.prototype[ge]=!0,ae.prototype.removeEventListener=function(u,m,y,T){Ja(this,u,m,y,T)};function Ht(u,m){var y,T=u.F;if(T)for(y=[];T;T=T.F)y.push(T);if(u=u.M,T=m.type||m,typeof m=="string")m=new J(m,u);else if(m instanceof J)m.target=m.target||u;else{var k=m;m=new J(T,u),N(m,k)}if(k=!0,y)for(var j=y.length-1;0<=j;j--){var W=m.g=y[j];k=un(W,T,!0,m)&&k}if(W=m.g=u,k=un(W,T,!0,m)&&k,k=un(W,T,!1,m)&&k,y)for(j=0;j<y.length;j++)W=m.g=y[j],k=un(W,T,!1,m)&&k}ae.prototype.N=function(){if(ae.aa.N.call(this),this.i){var u=this.i,m;for(m in u.g){for(var y=u.g[m],T=0;T<y.length;T++)Vn(y[T]);delete u.g[m],u.h--}}this.F=null},ae.prototype.K=function(u,m,y,T){return this.i.add(String(u),m,!1,y,T)},ae.prototype.L=function(u,m,y,T){return this.i.add(String(u),m,!0,y,T)};function un(u,m,y,T){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();for(var k=!0,j=0;j<m.length;++j){var W=m[j];if(W&&!W.da&&W.capture==y){var Vt=W.listener,Ae=W.ha||W.src;W.fa&&He(u.i,W),k=Vt.call(Ae,T)!==!1&&k}}return k&&!T.defaultPrevented}function Fe(u,m,y){if(typeof u=="function")y&&(u=O(u,y));else if(u&&typeof u.handleEvent=="function")u=O(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:g.setTimeout(u,m||0)}function ql(u){u.g=Fe(()=>{u.g=null,u.i&&(u.i=!1,ql(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class fh extends et{constructor(m,y){super(),this.m=m,this.l=y,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:ql(this)}N(){super.N(),this.g&&(g.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Hr(u){et.call(this),this.h=u,this.g={}}X(Hr,et);var Gr=[];function Fr(u){Dt(u.g,function(m,y){this.g.hasOwnProperty(y)&&Vs(m)},u),u.g={}}Hr.prototype.N=function(){Hr.aa.N.call(this),Fr(this)},Hr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Pn=g.JSON.stringify,ks=g.JSON.parse,Yr=class{stringify(u){return g.JSON.stringify(u,void 0)}parse(u){return g.JSON.parse(u,void 0)}};function to(){}to.prototype.h=null;function eo(u){return u.h||(u.h=u.i())}function no(){}var gi={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function pi(){J.call(this,"d")}X(pi,J);function io(){J.call(this,"c")}X(io,J);var Fn={},ro=null;function Ki(){return ro=ro||new ae}Fn.La="serverreachability";function Us(u){J.call(this,Fn.La,u)}X(Us,J);function Xi(u){const m=Ki();Ht(m,new Us(m))}Fn.STAT_EVENT="statevent";function Hl(u,m){J.call(this,Fn.STAT_EVENT,u),this.stat=m}X(Hl,J);function ee(u){const m=Ki();Ht(m,new Hl(m,u))}Fn.Ma="timingevent";function Te(u,m){J.call(this,Fn.Ma,u),this.size=m}X(Te,J);function pe(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return g.setTimeout(function(){u()},m)}function En(){this.g=!0}En.prototype.xa=function(){this.g=!1};function so(u,m,y,T,k,j){u.info(function(){if(u.g)if(j)for(var W="",Vt=j.split("&"),Ae=0;Ae<Vt.length;Ae++){var Pt=Vt[Ae].split("=");if(1<Pt.length){var Oe=Pt[0];Pt=Pt[1];var Se=Oe.split("_");W=2<=Se.length&&Se[1]=="type"?W+(Oe+"="+Pt+"&"):W+(Oe+"=redacted&")}}else W=null;else W=j;return"XMLHTTP REQ ("+T+") [attempt "+k+"]: "+m+`
`+y+`
`+W})}function dh(u,m,y,T,k,j,W){u.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+k+"]: "+m+`
`+y+`
`+j+" "+W})}function $i(u,m,y,T){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Qr(u,y)+(T?" "+T:"")})}function Gl(u,m){u.info(function(){return"TIMEOUT: "+m})}En.prototype.info=function(){};function Qr(u,m){if(!u.g)return m;if(!m)return null;try{var y=JSON.parse(m);if(y){for(u=0;u<y.length;u++)if(Array.isArray(y[u])){var T=y[u];if(!(2>T.length)){var k=T[1];if(Array.isArray(k)&&!(1>k.length)){var j=k[0];if(j!="noop"&&j!="stop"&&j!="close")for(var W=1;W<k.length;W++)k[W]=""}}}}return Pn(y)}catch{return m}}var Zi={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},yi={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Yn;function Qn(){}X(Qn,to),Qn.prototype.g=function(){return new XMLHttpRequest},Qn.prototype.i=function(){return{}},Yn=new Qn;function Je(u,m,y,T){this.j=u,this.i=m,this.l=y,this.R=T||1,this.U=new Hr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new ce}function ce(){this.i=null,this.g="",this.h=!1}var ao={},Ls={};function kn(u,m,y){u.L=1,u.v=Jr(cn(m)),u.m=y,u.P=!0,_i(u,null)}function _i(u,m){u.F=Date.now(),Kr(u),u.A=cn(u.v);var y=u.A,T=u.R;Array.isArray(T)||(T=[String(T)]),fo(y.i,"t",T),u.C=0,y=u.j.J,u.h=new ce,u.g=au(u.j,y?m:null,!u.m),0<u.O&&(u.M=new fh(O(u.Y,u,u.g),u.O)),m=u.U,y=u.g,T=u.ca;var k="readystatechange";Array.isArray(k)||(k&&(Gr[0]=k.toString()),k=Gr);for(var j=0;j<k.length;j++){var W=Bl(y,k[j],T||m.handleEvent,!1,m.h||m);if(!W)break;m.g[W.key]=W}m=u.H?S(u.H):{},u.m?(u.u||(u.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,m)):(u.u="GET",u.g.ea(u.A,u.u,null,m)),Xi(),so(u.i,u.u,u.A,u.l,u.R,u.m)}Je.prototype.ca=function(u){u=u.target;const m=this.M;m&&bn(u)==3?m.j():this.Y(u)},Je.prototype.Y=function(u){try{if(u==this.g)t:{const Se=bn(this.g);var m=this.g.Ba();const Ri=this.g.Z();if(!(3>Se)&&(Se!=3||this.g&&(this.h.h||this.g.oa()||Jl(this.g)))){this.J||Se!=4||m==7||(m==8||0>=Ri?Xi(3):Xi(2)),Ji(this);var y=this.g.Z();this.X=y;e:if(Fl(this)){var T=Jl(this.g);u="";var k=T.length,j=bn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Pe(this),Kn(this);var W="";break e}this.h.i=new g.TextDecoder}for(m=0;m<k;m++)this.h.h=!0,u+=this.h.i.decode(T[m],{stream:!(j&&m==k-1)});T.length=0,this.h.g+=u,this.C=0,W=this.h.g}else W=this.g.oa();if(this.o=y==200,dh(this.i,this.u,this.A,this.l,this.R,Se,y),this.o){if(this.T&&!this.K){e:{if(this.g){var Vt,Ae=this.g;if((Vt=Ae.g?Ae.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ct(Vt)){var Pt=Vt;break e}}Pt=null}if(y=Pt)$i(this.i,this.l,y,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Xr(this,y);else{this.o=!1,this.s=3,ee(12),Pe(this),Kn(this);break t}}if(this.P){y=!0;let ke;for(;!this.J&&this.C<W.length;)if(ke=Yl(this,W),ke==Ls){Se==4&&(this.s=4,ee(14),y=!1),$i(this.i,this.l,null,"[Incomplete Response]");break}else if(ke==ao){this.s=4,ee(15),$i(this.i,this.l,W,"[Invalid Chunk]"),y=!1;break}else $i(this.i,this.l,ke,null),Xr(this,ke);if(Fl(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Se!=4||W.length!=0||this.h.h||(this.s=1,ee(16),y=!1),this.o=this.o&&y,!y)$i(this.i,this.l,W,"[Invalid Chunked Response]"),Pe(this),Kn(this);else if(0<W.length&&!this.W){this.W=!0;var Oe=this.j;Oe.g==this&&Oe.ba&&!Oe.M&&(Oe.j.info("Great, no buffering proxy detected. Bytes received: "+W.length),as(Oe),Oe.M=!0,ee(11))}}else $i(this.i,this.l,W,null),Xr(this,W);Se==4&&Pe(this),this.o&&!this.J&&(Se==4?iu(this.j,this):(this.o=!1,Kr(this)))}else _h(this.g),y==400&&0<W.indexOf("Unknown SID")?(this.s=3,ee(12)):(this.s=0,ee(13)),Pe(this),Kn(this)}}}catch{}finally{}};function Fl(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function Yl(u,m){var y=u.C,T=m.indexOf(`
`,y);return T==-1?Ls:(y=Number(m.substring(y,T)),isNaN(y)?ao:(T+=1,T+y>m.length?Ls:(m=m.slice(T,T+y),u.C=T+y,m)))}Je.prototype.cancel=function(){this.J=!0,Pe(this)};function Kr(u){u.S=Date.now()+u.I,Ql(u,u.I)}function Ql(u,m){if(u.B!=null)throw Error("WatchDog timer not null");u.B=pe(O(u.ba,u),m)}function Ji(u){u.B&&(g.clearTimeout(u.B),u.B=null)}Je.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(Gl(this.i,this.A),this.L!=2&&(Xi(),ee(17)),Pe(this),this.s=2,Kn(this)):Ql(this,this.S-u)};function Kn(u){u.j.G==0||u.J||iu(u.j,u)}function Pe(u){Ji(u);var m=u.M;m&&typeof m.ma=="function"&&m.ma(),u.M=null,Fr(u.U),u.g&&(m=u.g,u.g=null,m.abort(),m.ma())}function Xr(u,m){try{var y=u.j;if(y.G!=0&&(y.g==u||oo(y.h,u))){if(!u.K&&oo(y.h,u)&&y.G==3){try{var T=y.Da.g.parse(m)}catch{T=null}if(Array.isArray(T)&&T.length==3){var k=T;if(k[0]==0){t:if(!y.u){if(y.g)if(y.g.F+3e3<u.F)$s(y),Ks(y);else break t;_o(y),ee(18)}}else y.za=k[1],0<y.za-y.T&&37500>k[2]&&y.F&&y.v==0&&!y.C&&(y.C=pe(O(y.Za,y),6e3));if(1>=Bs(y.h)&&y.ca){try{y.ca()}catch{}y.ca=void 0}}else wi(y,11)}else if((u.K||y.g==u)&&$s(y),!ct(m))for(k=y.Da.g.parse(m),m=0;m<k.length;m++){let Pt=k[m];if(y.T=Pt[0],Pt=Pt[1],y.G==2)if(Pt[0]=="c"){y.K=Pt[1],y.ia=Pt[2];const Oe=Pt[3];Oe!=null&&(y.la=Oe,y.j.info("VER="+y.la));const Se=Pt[4];Se!=null&&(y.Aa=Se,y.j.info("SVER="+y.Aa));const Ri=Pt[5];Ri!=null&&typeof Ri=="number"&&0<Ri&&(T=1.5*Ri,y.L=T,y.j.info("backChannelRequestTimeoutMs_="+T)),T=y;const ke=u.g;if(ke){const ei=ke.g?ke.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ei){var j=T.h;j.g||ei.indexOf("spdy")==-1&&ei.indexOf("quic")==-1&&ei.indexOf("h2")==-1||(j.j=j.l,j.g=new Set,j.h&&(js(j,j.h),j.h=null))}if(T.D){const Eo=ke.g?ke.g.getResponseHeader("X-HTTP-Session-Id"):null;Eo&&(T.ya=Eo,Qt(T.I,T.D,Eo))}}y.G=3,y.l&&y.l.ua(),y.ba&&(y.R=Date.now()-u.F,y.j.info("Handshake RTT: "+y.R+"ms")),T=y;var W=u;if(T.qa=su(T,T.J?T.ia:null,T.W),W.K){We(T.h,W);var Vt=W,Ae=T.L;Ae&&(Vt.I=Ae),Vt.B&&(Ji(Vt),Kr(Vt)),T.g=W}else eu(T);0<y.i.length&&Xs(y)}else Pt[0]!="stop"&&Pt[0]!="close"||wi(y,7);else y.G==3&&(Pt[0]=="stop"||Pt[0]=="close"?Pt[0]=="stop"?wi(y,7):po(y):Pt[0]!="noop"&&y.l&&y.l.ta(Pt),y.v=0)}}Xi(4)}catch{}}var Kl=class{constructor(u,m){this.g=u,this.map=m}};function vi(u){this.l=u||10,g.PerformanceNavigationTiming?(u=g.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(g.chrome&&g.chrome.loadTimes&&g.chrome.loadTimes()&&g.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function zs(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Bs(u){return u.h?1:u.g?u.g.size:0}function oo(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function js(u,m){u.g?u.g.add(m):u.h=m}function We(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}vi.prototype.cancel=function(){if(this.i=lo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function lo(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const y of u.g.values())m=m.concat(y.D);return m}return nt(u.i)}function mh(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(p(u)){for(var m=[],y=u.length,T=0;T<y;T++)m.push(u[T]);return m}m=[],y=0;for(T in u)m[y++]=u[T];return m}function qs(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(p(u)||typeof u=="string"){var m=[];u=u.length;for(var y=0;y<u;y++)m.push(y);return m}m=[],y=0;for(const T in u)m[y++]=T;return m}}}function uo(u,m){if(u.forEach&&typeof u.forEach=="function")u.forEach(m,void 0);else if(p(u)||typeof u=="string")Array.prototype.forEach.call(u,m,void 0);else for(var y=qs(u),T=mh(u),k=T.length,j=0;j<k;j++)m.call(void 0,T[j],y&&y[j],u)}var $r=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function gh(u,m){if(u){u=u.split("&");for(var y=0;y<u.length;y++){var T=u[y].indexOf("="),k=null;if(0<=T){var j=u[y].substring(0,T);k=u[y].substring(T+1)}else j=u[y];m(j,k?decodeURIComponent(k.replace(/\+/g," ")):"")}}}function ye(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof ye){this.h=u.h,Zr(this,u.j),this.o=u.o,this.g=u.g,Wi(this,u.s),this.l=u.l;var m=u.i,y=new Ti;y.i=m.i,m.g&&(y.g=new Map(m.g),y.h=m.h),Ei(this,y),this.m=u.m}else u&&(m=String(u).match($r))?(this.h=!1,Zr(this,m[1]||"",!0),this.o=Tn(m[2]||""),this.g=Tn(m[3]||"",!0),Wi(this,m[4]),this.l=Tn(m[5]||"",!0),Ei(this,m[6]||"",!0),this.m=Tn(m[7]||"")):(this.h=!1,this.i=new Ti(null,this.h))}ye.prototype.toString=function(){var u=[],m=this.j;m&&u.push(Wr(m,co,!0),":");var y=this.g;return(y||m=="file")&&(u.push("//"),(m=this.o)&&u.push(Wr(m,co,!0),"@"),u.push(encodeURIComponent(String(y)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),y=this.s,y!=null&&u.push(":",String(y))),(y=this.l)&&(this.g&&y.charAt(0)!="/"&&u.push("/"),u.push(Wr(y,y.charAt(0)=="/"?ph:ho,!0))),(y=this.i.toString())&&u.push("?",y),(y=this.m)&&u.push("#",Wr(y,Hs)),u.join("")};function cn(u){return new ye(u)}function Zr(u,m,y){u.j=y?Tn(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function Wi(u,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);u.s=m}else u.s=null}function Ei(u,m,y){m instanceof Ti?(u.i=m,$l(u.i,u.h)):(y||(m=Wr(m,yh)),u.i=new Ti(m,u.h))}function Qt(u,m,y){u.i.set(m,y)}function Jr(u){return Qt(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function Tn(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Wr(u,m,y){return typeof u=="string"?(u=encodeURI(u).replace(m,Xl),y&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function Xl(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var co=/[#\/\?@]/g,ho=/[#\?:]/g,ph=/[#\?]/g,yh=/[#\?@]/g,Hs=/#/g;function Ti(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function An(u){u.g||(u.g=new Map,u.h=0,u.i&&gh(u.i,function(m,y){u.add(decodeURIComponent(m.replace(/\+/g," ")),y)}))}r=Ti.prototype,r.add=function(u,m){An(this),this.i=null,u=Xn(this,u);var y=this.g.get(u);return y||this.g.set(u,y=[]),y.push(m),this.h+=1,this};function Ai(u,m){An(u),m=Xn(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function Si(u,m){return An(u),m=Xn(u,m),u.g.has(m)}r.forEach=function(u,m){An(this),this.g.forEach(function(y,T){y.forEach(function(k){u.call(m,k,T,this)},this)},this)},r.na=function(){An(this);const u=Array.from(this.g.values()),m=Array.from(this.g.keys()),y=[];for(let T=0;T<m.length;T++){const k=u[T];for(let j=0;j<k.length;j++)y.push(m[T])}return y},r.V=function(u){An(this);let m=[];if(typeof u=="string")Si(this,u)&&(m=m.concat(this.g.get(Xn(this,u))));else{u=Array.from(this.g.values());for(let y=0;y<u.length;y++)m=m.concat(u[y])}return m},r.set=function(u,m){return An(this),this.i=null,u=Xn(this,u),Si(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},r.get=function(u,m){return u?(u=this.V(u),0<u.length?String(u[0]):m):m};function fo(u,m,y){Ai(u,m),0<y.length&&(u.i=null,u.g.set(Xn(u,m),nt(y)),u.h+=y.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(var y=0;y<m.length;y++){var T=m[y];const j=encodeURIComponent(String(T)),W=this.V(T);for(T=0;T<W.length;T++){var k=j;W[T]!==""&&(k+="="+encodeURIComponent(String(W[T]))),u.push(k)}}return this.i=u.join("&")};function Xn(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function $l(u,m){m&&!u.j&&(An(u),u.i=null,u.g.forEach(function(y,T){var k=T.toLowerCase();T!=k&&(Ai(this,T),fo(this,k,y))},u)),u.j=m}function ts(u,m){const y=new En;if(g.Image){const T=new Image;T.onload=H(Sn,y,"TestLoadImage: loaded",!0,m,T),T.onerror=H(Sn,y,"TestLoadImage: error",!1,m,T),T.onabort=H(Sn,y,"TestLoadImage: abort",!1,m,T),T.ontimeout=H(Sn,y,"TestLoadImage: timeout",!1,m,T),g.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=u}else m(!1)}function Un(u,m){const y=new En,T=new AbortController,k=setTimeout(()=>{T.abort(),Sn(y,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:T.signal}).then(j=>{clearTimeout(k),j.ok?Sn(y,"TestPingServer: ok",!0,m):Sn(y,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(k),Sn(y,"TestPingServer: error",!1,m)})}function Sn(u,m,y,T,k){try{k&&(k.onload=null,k.onerror=null,k.onabort=null,k.ontimeout=null),T(y)}catch{}}function es(){this.g=new Yr}function $n(u,m,y){const T=y||"";try{uo(u,function(k,j){let W=k;_(k)&&(W=Pn(k)),m.push(T+j+"="+encodeURIComponent(W))})}catch(k){throw m.push(T+"type="+encodeURIComponent("_badmap")),k}}function tr(u){this.l=u.Ub||null,this.j=u.eb||!1}X(tr,to),tr.prototype.g=function(){return new bi(this.l,this.j)},tr.prototype.i=function(u){return function(){return u}}({});function bi(u,m){ae.call(this),this.D=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}X(bi,ae),r=bi.prototype,r.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=m,this.readyState=1,Jn(this)},r.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(m.body=u),(this.D||g).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Zn(this)),this.readyState=0},r.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Jn(this)),this.g&&(this.readyState=3,Jn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof g.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;mo(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function mo(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}r.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?Zn(this):Jn(this),this.readyState==3&&mo(this)}},r.Ra=function(u){this.g&&(this.response=this.responseText=u,Zn(this))},r.Qa=function(u){this.g&&(this.response=u,Zn(this))},r.ga=function(){this.g&&Zn(this)};function Zn(u){u.readyState=4,u.l=null,u.j=null,u.v=null,Jn(u)}r.setRequestHeader=function(u,m){this.u.append(u,m)},r.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var y=m.next();!y.done;)y=y.value,u.push(y[0]+": "+y[1]),y=m.next();return u.join(`\r
`)};function Jn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(bi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function go(u){let m="";return Dt(u,function(y,T){m+=T,m+=":",m+=y,m+=`\r
`}),m}function De(u,m,y){t:{for(T in y){var T=!1;break t}T=!0}T||(y=go(y),typeof u=="string"?y!=null&&encodeURIComponent(String(y)):Qt(u,m,y))}function jt(u){ae.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}X(jt,ae);var Gs=/^https?$/i,ns=["POST","PUT"];r=jt.prototype,r.Ha=function(u){this.J=u},r.ea=function(u,m,y,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Yn.g(),this.v=this.o?eo(this.o):eo(Yn),this.g.onreadystatechange=O(this.Ea,this);try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(j){Zl(this,j);return}if(u=y||"",y=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var k in T)y.set(k,T[k]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const j of T.keys())y.set(j,T.get(j));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(y.keys()).find(j=>j.toLowerCase()=="content-type"),k=g.FormData&&u instanceof g.FormData,!(0<=Array.prototype.indexOf.call(ns,m,void 0))||T||k||y.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[j,W]of y)this.g.setRequestHeader(j,W);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{is(this),this.u=!0,this.g.send(u),this.u=!1}catch(j){Zl(this,j)}};function Zl(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.m=5,Fs(u),Wn(u)}function Fs(u){u.A||(u.A=!0,Ht(u,"complete"),Ht(u,"error"))}r.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,Ht(this,"complete"),Ht(this,"abort"),Wn(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Wn(this,!0)),jt.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?Ys(this):this.bb())},r.bb=function(){Ys(this)};function Ys(u){if(u.h&&typeof d<"u"&&(!u.v[1]||bn(u)!=4||u.Z()!=2)){if(u.u&&bn(u)==4)Fe(u.Ea,0,u);else if(Ht(u,"readystatechange"),bn(u)==4){u.h=!1;try{const W=u.Z();t:switch(W){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var y;if(!(y=m)){var T;if(T=W===0){var k=String(u.D).match($r)[1]||null;!k&&g.self&&g.self.location&&(k=g.self.location.protocol.slice(0,-1)),T=!Gs.test(k?k.toLowerCase():"")}y=T}if(y)Ht(u,"complete"),Ht(u,"success");else{u.m=6;try{var j=2<bn(u)?u.g.statusText:""}catch{j=""}u.l=j+" ["+u.Z()+"]",Fs(u)}}finally{Wn(u)}}}}function Wn(u,m){if(u.g){is(u);const y=u.g,T=u.v[0]?()=>{}:null;u.g=null,u.v=null,m||Ht(u,"ready");try{y.onreadystatechange=T}catch{}}}function is(u){u.I&&(g.clearTimeout(u.I),u.I=null)}r.isActive=function(){return!!this.g};function bn(u){return u.g?u.g.readyState:0}r.Z=function(){try{return 2<bn(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),ks(m)}};function Jl(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function _h(u){const m={};u=(u.g&&2<=bn(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<u.length;T++){if(ct(u[T]))continue;var y=x(u[T]);const k=y[0];if(y=y[1],typeof y!="string")continue;y=y.trim();const j=m[k]||[];m[k]=j,j.push(y)}M(m,function(T){return T.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function rs(u,m,y){return y&&y.internalChannelParams&&y.internalChannelParams[u]||m}function Qs(u){this.Aa=0,this.i=[],this.j=new En,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=rs("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=rs("baseRetryDelayMs",5e3,u),this.cb=rs("retryDelaySeedMs",1e4,u),this.Wa=rs("forwardChannelMaxRetries",2,u),this.wa=rs("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new vi(u&&u.concurrentRequestLimit),this.Da=new es,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=Qs.prototype,r.la=8,r.G=1,r.connect=function(u,m,y,T){ee(0),this.W=u,this.H=m||{},y&&T!==void 0&&(this.H.OSID=y,this.H.OAID=T),this.F=this.X,this.I=su(this,null,this.W),Xs(this)};function po(u){if(Wl(u),u.G==3){var m=u.U++,y=cn(u.I);if(Qt(y,"SID",u.K),Qt(y,"RID",m),Qt(y,"TYPE","terminate"),ss(u,y),m=new Je(u,u.j,m),m.L=2,m.v=Jr(cn(y)),y=!1,g.navigator&&g.navigator.sendBeacon)try{y=g.navigator.sendBeacon(m.v.toString(),"")}catch{}!y&&g.Image&&(new Image().src=m.v,y=!0),y||(m.g=au(m.j,null),m.g.ea(m.v)),m.F=Date.now(),Kr(m)}ru(u)}function Ks(u){u.g&&(as(u),u.g.cancel(),u.g=null)}function Wl(u){Ks(u),u.u&&(g.clearTimeout(u.u),u.u=null),$s(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&g.clearTimeout(u.s),u.s=null)}function Xs(u){if(!zs(u.h)&&!u.s){u.s=!0;var m=u.Ga;tt||C(),at||(tt(),at=!0),Lt.add(m,u),u.B=0}}function vh(u,m){return Bs(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=m.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=pe(O(u.Ga,u,m),vo(u,u.B)),u.B++,!0)}r.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const k=new Je(this,this.j,u);let j=this.o;if(this.S&&(j?(j=S(j),N(j,this.S)):j=this.S),this.m!==null||this.O||(k.H=j,j=null),this.P)t:{for(var m=0,y=0;y<this.i.length;y++){e:{var T=this.i[y];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break e}T=void 0}if(T===void 0)break;if(m+=T,4096<m){m=y;break t}if(m===4096||y===this.i.length-1){m=y+1;break t}}m=1e3}else m=1e3;m=tu(this,k,m),y=cn(this.I),Qt(y,"RID",u),Qt(y,"CVER",22),this.D&&Qt(y,"X-HTTP-Session-Id",this.D),ss(this,y),j&&(this.O?m="headers="+encodeURIComponent(String(go(j)))+"&"+m:this.m&&De(y,this.m,j)),js(this.h,k),this.Ua&&Qt(y,"TYPE","init"),this.P?(Qt(y,"$req",m),Qt(y,"SID","null"),k.T=!0,kn(k,y,null)):kn(k,y,m),this.G=2}}else this.G==3&&(u?yo(this,u):this.i.length==0||zs(this.h)||yo(this))};function yo(u,m){var y;m?y=m.l:y=u.U++;const T=cn(u.I);Qt(T,"SID",u.K),Qt(T,"RID",y),Qt(T,"AID",u.T),ss(u,T),u.m&&u.o&&De(T,u.m,u.o),y=new Je(u,u.j,y,u.B+1),u.m===null&&(y.H=u.o),m&&(u.i=m.D.concat(u.i)),m=tu(u,y,1e3),y.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),js(u.h,y),kn(y,T,m)}function ss(u,m){u.H&&Dt(u.H,function(y,T){Qt(m,T,y)}),u.l&&uo({},function(y,T){Qt(m,T,y)})}function tu(u,m,y){y=Math.min(u.i.length,y);var T=u.l?O(u.l.Na,u.l,u):null;t:{var k=u.i;let j=-1;for(;;){const W=["count="+y];j==-1?0<y?(j=k[0].g,W.push("ofs="+j)):j=0:W.push("ofs="+j);let Vt=!0;for(let Ae=0;Ae<y;Ae++){let Pt=k[Ae].g;const Oe=k[Ae].map;if(Pt-=j,0>Pt)j=Math.max(0,k[Ae].g-100),Vt=!1;else try{$n(Oe,W,"req"+Pt+"_")}catch{T&&T(Oe)}}if(Vt){T=W.join("&");break t}}}return u=u.i.splice(0,y),m.D=u,T}function eu(u){if(!u.g&&!u.u){u.Y=1;var m=u.Fa;tt||C(),at||(tt(),at=!0),Lt.add(m,u),u.v=0}}function _o(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=pe(O(u.Fa,u),vo(u,u.v)),u.v++,!0)}r.Fa=function(){if(this.u=null,nu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=pe(O(this.ab,this),u)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ee(10),Ks(this),nu(this))};function as(u){u.A!=null&&(g.clearTimeout(u.A),u.A=null)}function nu(u){u.g=new Je(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var m=cn(u.qa);Qt(m,"RID","rpc"),Qt(m,"SID",u.K),Qt(m,"AID",u.T),Qt(m,"CI",u.F?"0":"1"),!u.F&&u.ja&&Qt(m,"TO",u.ja),Qt(m,"TYPE","xmlhttp"),ss(u,m),u.m&&u.o&&De(m,u.m,u.o),u.L&&(u.g.I=u.L);var y=u.g;u=u.ia,y.L=1,y.v=Jr(cn(m)),y.m=null,y.P=!0,_i(y,u)}r.Za=function(){this.C!=null&&(this.C=null,Ks(this),_o(this),ee(19))};function $s(u){u.C!=null&&(g.clearTimeout(u.C),u.C=null)}function iu(u,m){var y=null;if(u.g==m){$s(u),as(u),u.g=null;var T=2}else if(oo(u.h,m))y=m.D,We(u.h,m),T=1;else return;if(u.G!=0){if(m.o)if(T==1){y=m.m?m.m.length:0,m=Date.now()-m.F;var k=u.B;T=Ki(),Ht(T,new Te(T,y)),Xs(u)}else eu(u);else if(k=m.s,k==3||k==0&&0<m.X||!(T==1&&vh(u,m)||T==2&&_o(u)))switch(y&&0<y.length&&(m=u.h,m.i=m.i.concat(y)),k){case 1:wi(u,5);break;case 4:wi(u,10);break;case 3:wi(u,6);break;default:wi(u,2)}}}function vo(u,m){let y=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(y*=2),y*m}function wi(u,m){if(u.j.info("Error code "+m),m==2){var y=O(u.fb,u),T=u.Xa;const k=!T;T=new ye(T||"//www.google.com/images/cleardot.gif"),g.location&&g.location.protocol=="http"||Zr(T,"https"),Jr(T),k?ts(T.toString(),y):Un(T.toString(),y)}else ee(2);u.G=0,u.l&&u.l.sa(m),ru(u),Wl(u)}r.fb=function(u){u?(this.j.info("Successfully pinged google.com"),ee(2)):(this.j.info("Failed to ping google.com"),ee(1))};function ru(u){if(u.G=0,u.ka=[],u.l){const m=lo(u.h);(m.length!=0||u.i.length!=0)&&(Z(u.ka,m),Z(u.ka,u.i),u.h.i.length=0,nt(u.i),u.i.length=0),u.l.ra()}}function su(u,m,y){var T=y instanceof ye?cn(y):new ye(y);if(T.g!="")m&&(T.g=m+"."+T.g),Wi(T,T.s);else{var k=g.location;T=k.protocol,m=m?m+"."+k.hostname:k.hostname,k=+k.port;var j=new ye(null);T&&Zr(j,T),m&&(j.g=m),k&&Wi(j,k),y&&(j.l=y),T=j}return y=u.D,m=u.ya,y&&m&&Qt(T,y,m),Qt(T,"VER",u.la),ss(u,T),T}function au(u,m,y){if(m&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Ca&&!u.pa?new jt(new tr({eb:y})):new jt(u.pa),m.Ha(u.J),m}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function ou(){}r=ou.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function Zs(){}Zs.prototype.g=function(u,m){return new tn(u,m)};function tn(u,m){ae.call(this),this.g=new Qs(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(u?u["X-WebChannel-Client-Profile"]=m.va:u={"X-WebChannel-Client-Profile":m.va}),this.g.S=u,(u=m&&m.Sb)&&!ct(u)&&(this.g.m=u),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!ct(m)&&(this.g.D=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new ti(this)}X(tn,ae),tn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},tn.prototype.close=function(){po(this.g)},tn.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var y={};y.__data__=u,u=y}else this.u&&(y={},y.__data__=Pn(u),u=y);m.i.push(new Kl(m.Ya++,u)),m.G==3&&Xs(m)},tn.prototype.N=function(){this.g.l=null,delete this.j,po(this.g),delete this.g,tn.aa.N.call(this)};function lu(u){pi.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const y in m){u=y;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}X(lu,pi);function uu(){io.call(this),this.status=1}X(uu,io);function ti(u){this.g=u}X(ti,ou),ti.prototype.ua=function(){Ht(this.g,"a")},ti.prototype.ta=function(u){Ht(this.g,new lu(u))},ti.prototype.sa=function(u){Ht(this.g,new uu)},ti.prototype.ra=function(){Ht(this.g,"b")},Zs.prototype.createWebChannel=Zs.prototype.g,tn.prototype.send=tn.prototype.o,tn.prototype.open=tn.prototype.m,tn.prototype.close=tn.prototype.close,sE=function(){return new Zs},rE=function(){return Ki()},iE=Fn,Vd={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Zi.NO_ERROR=0,Zi.TIMEOUT=8,Zi.HTTP_ERROR=6,yc=Zi,yi.COMPLETE="complete",nE=yi,no.EventType=gi,gi.OPEN="a",gi.CLOSE="b",gi.ERROR="c",gi.MESSAGE="d",ae.prototype.listen=ae.prototype.K,cl=no,jt.prototype.listenOnce=jt.prototype.L,jt.prototype.getLastError=jt.prototype.Ka,jt.prototype.getLastErrorCode=jt.prototype.Ba,jt.prototype.getStatus=jt.prototype.Z,jt.prototype.getResponseJson=jt.prototype.Oa,jt.prototype.getResponseText=jt.prototype.oa,jt.prototype.send=jt.prototype.ea,jt.prototype.setWithCredentials=jt.prototype.Ha,eE=jt}).apply(typeof cc<"u"?cc:typeof self<"u"?self:typeof window<"u"?window:{});const b_="@firebase/firestore",w_="4.7.17";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xe{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Xe.UNAUTHENTICATED=new Xe(null),Xe.GOOGLE_CREDENTIALS=new Xe("google-credentials-uid"),Xe.FIRST_PARTY=new Xe("first-party-uid"),Xe.MOCK_USER=new Xe("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ya="11.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rs=new em("@firebase/firestore");function Ra(){return Rs.logLevel}function rt(r,...t){if(Rs.logLevel<=Mt.DEBUG){const n=t.map(rm);Rs.debug(`Firestore (${Ya}): ${r}`,...n)}}function Gi(r,...t){if(Rs.logLevel<=Mt.ERROR){const n=t.map(rm);Rs.error(`Firestore (${Ya}): ${r}`,...n)}}function ka(r,...t){if(Rs.logLevel<=Mt.WARN){const n=t.map(rm);Rs.warn(`Firestore (${Ya}): ${r}`,...n)}}function rm(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _t(r,t,n){let s="Unexpected state";typeof t=="string"?s=t:n=t,aE(r,s,n)}function aE(r,t,n){let s=`FIRESTORE (${Ya}) INTERNAL ASSERTION FAILED: ${t} (ID: ${r.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw Gi(s),new Error(s)}function qt(r,t,n,s){let l="Unexpected state";typeof n=="string"?l=n:s=n,r||aE(t,l,s)}function At(r,t){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ft extends Qi{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mr{constructor(){this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oE{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class O1{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable(()=>n(Xe.UNAUTHENTICATED))}shutdown(){}}class N1{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class M1{constructor(t){this.t=t,this.currentUser=Xe.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){qt(this.o===void 0,42304);let s=this.i;const l=p=>this.i!==s?(s=this.i,n(p)):Promise.resolve();let c=new Mr;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new Mr,t.enqueueRetryable(()=>l(this.currentUser))};const d=()=>{const p=c;t.enqueueRetryable(async()=>{await p.promise,await l(this.currentUser)})},g=p=>{rt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit(p=>g(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?g(p):(rt("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new Mr)}},0),d()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(s=>this.i!==t?(rt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(qt(typeof s.accessToken=="string",31837,{l:s}),new oE(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return qt(t===null||typeof t=="string",2055,{h:t}),new Xe(t)}}class x1{constructor(t,n,s){this.P=t,this.T=n,this.I=s,this.type="FirstParty",this.user=Xe.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class V1{constructor(t,n,s){this.P=t,this.T=n,this.I=s}getToken(){return Promise.resolve(new x1(this.P,this.T,this.I))}start(t,n){t.enqueueRetryable(()=>n(Xe.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class R_{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class P1{constructor(t,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,jn(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,n){qt(this.o===void 0,3512);const s=c=>{c.error!=null&&rt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,rt("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?n(c.token):Promise.resolve()};this.o=c=>{t.enqueueRetryable(()=>s(c))};const l=c=>{rt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(c=>l(c)),setTimeout(()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?l(c):rt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new R_(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(n=>n?(qt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new R_(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k1(r){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(r);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let s=0;s<r;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lE(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uE{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const l=k1(40);for(let c=0;c<l.length;++c)s.length<20&&l[c]<n&&(s+=t.charAt(l[c]%62))}return s}}function It(r,t){return r<t?-1:r>t?1:0}function Pd(r,t){let n=0;for(;n<r.length&&n<t.length;){const s=r.codePointAt(n),l=t.codePointAt(n);if(s!==l){if(s<128&&l<128)return It(s,l);{const c=lE(),d=U1(c.encode(I_(r,n)),c.encode(I_(t,n)));return d!==0?d:It(s,l)}}n+=s>65535?2:1}return It(r.length,t.length)}function I_(r,t){return r.codePointAt(t)>65535?r.substring(t,t+2):r.substring(t,t+1)}function U1(r,t){for(let n=0;n<r.length&&n<t.length;++n)if(r[n]!==t[n])return It(r[n],t[n]);return It(r.length,t.length)}function Ua(r,t,n){return r.length===t.length&&r.every((s,l)=>n(s,t[l]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C_=-62135596800,D_=1e6;class Ie{static now(){return Ie.fromMillis(Date.now())}static fromDate(t){return Ie.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),s=Math.floor((t-1e3*n)*D_);return new Ie(n,s)}constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new ft($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ft($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<C_)throw new ft($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new ft($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/D_}_compareTo(t){return this.seconds===t.seconds?It(this.nanoseconds,t.nanoseconds):It(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds-C_;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Et{static fromTimestamp(t){return new Et(t)}static min(){return new Et(new Ie(0,0))}static max(){return new Et(new Ie(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O_="__name__";class oi{constructor(t,n,s){n===void 0?n=0:n>t.length&&_t(637,{offset:n,range:t.length}),s===void 0?s=t.length-n:s>t.length-n&&_t(1746,{length:s,range:t.length-n}),this.segments=t,this.offset=n,this.len=s}get length(){return this.len}isEqual(t){return oi.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof oi?t.forEach(s=>{n.push(s)}):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,s=this.limit();n<s;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const s=Math.min(t.length,n.length);for(let l=0;l<s;l++){const c=oi.compareSegments(t.get(l),n.get(l));if(c!==0)return c}return It(t.length,n.length)}static compareSegments(t,n){const s=oi.isNumericId(t),l=oi.isNumericId(n);return s&&!l?-1:!s&&l?1:s&&l?oi.extractNumericId(t).compare(oi.extractNumericId(n)):Pd(t,n)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Nr.fromString(t.substring(4,t.length-2))}}class ue extends oi{construct(t,n,s){return new ue(t,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const n=[];for(const s of t){if(s.indexOf("//")>=0)throw new ft($.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter(l=>l.length>0))}return new ue(n)}static emptyPath(){return new ue([])}}const L1=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class je extends oi{construct(t,n,s){return new je(t,n,s)}static isValidIdentifier(t){return L1.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),je.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===O_}static keyField(){return new je([O_])}static fromServerFormat(t){const n=[];let s="",l=0;const c=()=>{if(s.length===0)throw new ft($.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let d=!1;for(;l<t.length;){const g=t[l];if(g==="\\"){if(l+1===t.length)throw new ft($.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const p=t[l+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new ft($.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);s+=p,l+=2}else g==="`"?(d=!d,l++):g!=="."||d?(s+=g,l++):(c(),l++)}if(c(),d)throw new ft($.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new je(n)}static emptyPath(){return new je([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dt{constructor(t){this.path=t}static fromPath(t){return new dt(ue.fromString(t))}static fromName(t){return new dt(ue.fromString(t).popFirst(5))}static empty(){return new dt(ue.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&ue.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return ue.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new dt(new ue(t.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tl=-1;function z1(r,t){const n=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,l=Et.fromTimestamp(s===1e9?new Ie(n+1,0):new Ie(n,s));return new Vr(l,dt.empty(),t)}function B1(r){return new Vr(r.readTime,r.key,Tl)}class Vr{constructor(t,n,s){this.readTime=t,this.documentKey=n,this.largestBatchId=s}static min(){return new Vr(Et.min(),dt.empty(),Tl)}static max(){return new Vr(Et.max(),dt.empty(),Tl)}}function j1(r,t){let n=r.readTime.compareTo(t.readTime);return n!==0?n:(n=dt.comparator(r.documentKey,t.documentKey),n!==0?n:It(r.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q1="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class H1{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qa(r){if(r.code!==$.FAILED_PRECONDITION||r.message!==q1)throw r;rt("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&_t(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new Q((s,l)=>{this.nextCallback=c=>{this.wrapSuccess(t,c).next(s,l)},this.catchCallback=c=>{this.wrapFailure(n,c).next(s,l)}})}toPromise(){return new Promise((t,n)=>{this.next(t,n)})}wrapUserFunction(t){try{const n=t();return n instanceof Q?n:Q.resolve(n)}catch(n){return Q.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction(()=>t(n)):Q.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction(()=>t(n)):Q.reject(n)}static resolve(t){return new Q((n,s)=>{n(t)})}static reject(t){return new Q((n,s)=>{s(t)})}static waitFor(t){return new Q((n,s)=>{let l=0,c=0,d=!1;t.forEach(g=>{++l,g.next(()=>{++c,d&&c===l&&n()},p=>s(p))}),d=!0,c===l&&n()})}static or(t){let n=Q.resolve(!1);for(const s of t)n=n.next(l=>l?Q.resolve(l):s());return n}static forEach(t,n){const s=[];return t.forEach((l,c)=>{s.push(n.call(this,l,c))}),this.waitFor(s)}static mapArray(t,n){return new Q((s,l)=>{const c=t.length,d=new Array(c);let g=0;for(let p=0;p<c;p++){const _=p;n(t[_]).next(A=>{d[_]=A,++g,g===c&&s(d)},A=>l(A))}})}static doWhile(t,n){return new Q((s,l)=>{const c=()=>{t()===!0?n().next(()=>{c()},l):s()};c()})}}function G1(r){const t=r.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Ka(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qc{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=s=>this.ue(s),this.ce=s=>n.writeSequenceNumber(s))}ue(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ce&&this.ce(t),t}}Qc.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sm=-1;function Kc(r){return r==null}function Cc(r){return r===0&&1/r==-1/0}function F1(r){return typeof r=="number"&&Number.isInteger(r)&&!Cc(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cE="";function Y1(r){let t="";for(let n=0;n<r.length;n++)t.length>0&&(t=N_(t)),t=Q1(r.get(n),t);return N_(t)}function Q1(r,t){let n=t;const s=r.length;for(let l=0;l<s;l++){const c=r.charAt(l);switch(c){case"\0":n+="";break;case cE:n+="";break;default:n+=c}}return n}function N_(r){return r+cE+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M_(r){let t=0;for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&t++;return t}function Ds(r,t){for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&t(n,r[n])}function hE(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class se{constructor(t,n){this.comparator=t,this.root=n||Be.EMPTY}insert(t,n){return new se(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,Be.BLACK,null,null))}remove(t){return new se(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Be.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(t,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(t){let n=0,s=this.root;for(;!s.isEmpty();){const l=this.comparator(t,s.key);if(l===0)return n+s.left.size;l<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((n,s)=>(t(n,s),!1))}toString(){const t=[];return this.inorderTraversal((n,s)=>(t.push(`${n}:${s}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new hc(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new hc(this.root,t,this.comparator,!1)}getReverseIterator(){return new hc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new hc(this.root,t,this.comparator,!0)}}class hc{constructor(t,n,s,l){this.isReverse=l,this.nodeStack=[];let c=1;for(;!t.isEmpty();)if(c=n?s(t.key,n):1,n&&l&&(c*=-1),c<0)t=this.isReverse?t.left:t.right;else{if(c===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Be{constructor(t,n,s,l,c){this.key=t,this.value=n,this.color=s??Be.RED,this.left=l??Be.EMPTY,this.right=c??Be.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,s,l,c){return new Be(t??this.key,n??this.value,s??this.color,l??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,s){let l=this;const c=s(t,l.key);return l=c<0?l.copy(null,null,null,l.left.insert(t,n,s),null):c===0?l.copy(null,n,null,null,null):l.copy(null,null,null,null,l.right.insert(t,n,s)),l.fixUp()}removeMin(){if(this.left.isEmpty())return Be.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let s,l=this;if(n(t,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(t,n),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),n(t,l.key)===0){if(l.right.isEmpty())return Be.EMPTY;s=l.right.min(),l=l.copy(s.key,s.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(t,n))}return l.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Be.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Be.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw _t(43730,{key:this.key,value:this.value});if(this.right.isRed())throw _t(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw _t(27949);return t+(this.isRed()?0:1)}}Be.EMPTY=null,Be.RED=!0,Be.BLACK=!1;Be.EMPTY=new class{constructor(){this.size=0}get key(){throw _t(57766)}get value(){throw _t(16141)}get color(){throw _t(16727)}get left(){throw _t(29726)}get right(){throw _t(36894)}copy(t,n,s,l,c){return this}insert(t,n,s){return new Be(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ce{constructor(t){this.comparator=t,this.data=new se(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((n,s)=>(t(n),!1))}forEachInRange(t,n){const s=this.data.getIteratorFrom(t[0]);for(;s.hasNext();){const l=s.getNext();if(this.comparator(l.key,t[1])>=0)return;n(l.key)}}forEachWhile(t,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!t(s.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new x_(this.data.getIterator())}getIteratorFrom(t){return new x_(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach(s=>{n=n.add(s)}),n}isEqual(t){if(!(t instanceof Ce)||this.size!==t.size)return!1;const n=this.data.getIterator(),s=t.data.getIterator();for(;n.hasNext();){const l=n.getNext().key,c=s.getNext().key;if(this.comparator(l,c)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(n=>{t.push(n)}),t}toString(){const t=[];return this.forEach(n=>t.push(n)),"SortedSet("+t.toString()+")"}copy(t){const n=new Ce(this.comparator);return n.data=t,n}}class x_{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qn{constructor(t){this.fields=t,t.sort(je.comparator)}static empty(){return new qn([])}unionWith(t){let n=new Ce(je.comparator);for(const s of this.fields)n=n.add(s);for(const s of t)n=n.add(s);return new qn(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return Ua(this.fields,t.fields,(n,s)=>n.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qe{constructor(t){this.binaryString=t}static fromBase64String(t){const n=function(l){try{return atob(l)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new fE("Invalid base64 string: "+c):c}}(t);return new qe(n)}static fromUint8Array(t){const n=function(l){let c="";for(let d=0;d<l.length;++d)c+=String.fromCharCode(l[d]);return c}(t);return new qe(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const s=new Uint8Array(n.length);for(let l=0;l<n.length;l++)s[l]=n.charCodeAt(l);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return It(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}qe.EMPTY_BYTE_STRING=new qe("");const K1=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Pr(r){if(qt(!!r,39018),typeof r=="string"){let t=0;const n=K1.exec(r);if(qt(!!n,46558,{timestamp:r}),n[1]){let l=n[1];l=(l+"000000000").substr(0,9),t=Number(l)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:t}}return{seconds:de(r.seconds),nanos:de(r.nanos)}}function de(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function kr(r){return typeof r=="string"?qe.fromBase64String(r):qe.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dE="server_timestamp",mE="__type__",gE="__previous_value__",pE="__local_write_time__";function am(r){var t,n;return((n=(((t=r==null?void 0:r.mapValue)===null||t===void 0?void 0:t.fields)||{})[mE])===null||n===void 0?void 0:n.stringValue)===dE}function Xc(r){const t=r.mapValue.fields[gE];return am(t)?Xc(t):t}function Al(r){const t=Pr(r.mapValue.fields[pE].timestampValue);return new Ie(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X1{constructor(t,n,s,l,c,d,g,p,_,A){this.databaseId=t,this.appId=n,this.persistenceKey=s,this.host=l,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=g,this.longPollingOptions=p,this.useFetchStreams=_,this.isUsingEmulator=A}}const Dc="(default)";class Sl{constructor(t,n){this.projectId=t,this.database=n||Dc}static empty(){return new Sl("","")}get isDefaultDatabase(){return this.database===Dc}isEqual(t){return t instanceof Sl&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yE="__type__",$1="__max__",fc={mapValue:{}},_E="__vector__",Oc="value";function Ur(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?am(r)?4:J1(r)?9007199254740991:Z1(r)?10:11:_t(28295,{value:r})}function di(r,t){if(r===t)return!0;const n=Ur(r);if(n!==Ur(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===t.booleanValue;case 4:return Al(r).isEqual(Al(t));case 3:return function(l,c){if(typeof l.timestampValue=="string"&&typeof c.timestampValue=="string"&&l.timestampValue.length===c.timestampValue.length)return l.timestampValue===c.timestampValue;const d=Pr(l.timestampValue),g=Pr(c.timestampValue);return d.seconds===g.seconds&&d.nanos===g.nanos}(r,t);case 5:return r.stringValue===t.stringValue;case 6:return function(l,c){return kr(l.bytesValue).isEqual(kr(c.bytesValue))}(r,t);case 7:return r.referenceValue===t.referenceValue;case 8:return function(l,c){return de(l.geoPointValue.latitude)===de(c.geoPointValue.latitude)&&de(l.geoPointValue.longitude)===de(c.geoPointValue.longitude)}(r,t);case 2:return function(l,c){if("integerValue"in l&&"integerValue"in c)return de(l.integerValue)===de(c.integerValue);if("doubleValue"in l&&"doubleValue"in c){const d=de(l.doubleValue),g=de(c.doubleValue);return d===g?Cc(d)===Cc(g):isNaN(d)&&isNaN(g)}return!1}(r,t);case 9:return Ua(r.arrayValue.values||[],t.arrayValue.values||[],di);case 10:case 11:return function(l,c){const d=l.mapValue.fields||{},g=c.mapValue.fields||{};if(M_(d)!==M_(g))return!1;for(const p in d)if(d.hasOwnProperty(p)&&(g[p]===void 0||!di(d[p],g[p])))return!1;return!0}(r,t);default:return _t(52216,{left:r})}}function bl(r,t){return(r.values||[]).find(n=>di(n,t))!==void 0}function La(r,t){if(r===t)return 0;const n=Ur(r),s=Ur(t);if(n!==s)return It(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return It(r.booleanValue,t.booleanValue);case 2:return function(c,d){const g=de(c.integerValue||c.doubleValue),p=de(d.integerValue||d.doubleValue);return g<p?-1:g>p?1:g===p?0:isNaN(g)?isNaN(p)?0:-1:1}(r,t);case 3:return V_(r.timestampValue,t.timestampValue);case 4:return V_(Al(r),Al(t));case 5:return Pd(r.stringValue,t.stringValue);case 6:return function(c,d){const g=kr(c),p=kr(d);return g.compareTo(p)}(r.bytesValue,t.bytesValue);case 7:return function(c,d){const g=c.split("/"),p=d.split("/");for(let _=0;_<g.length&&_<p.length;_++){const A=It(g[_],p[_]);if(A!==0)return A}return It(g.length,p.length)}(r.referenceValue,t.referenceValue);case 8:return function(c,d){const g=It(de(c.latitude),de(d.latitude));return g!==0?g:It(de(c.longitude),de(d.longitude))}(r.geoPointValue,t.geoPointValue);case 9:return P_(r.arrayValue,t.arrayValue);case 10:return function(c,d){var g,p,_,A;const I=c.fields||{},O=d.fields||{},H=(g=I[Oc])===null||g===void 0?void 0:g.arrayValue,X=(p=O[Oc])===null||p===void 0?void 0:p.arrayValue,nt=It(((_=H==null?void 0:H.values)===null||_===void 0?void 0:_.length)||0,((A=X==null?void 0:X.values)===null||A===void 0?void 0:A.length)||0);return nt!==0?nt:P_(H,X)}(r.mapValue,t.mapValue);case 11:return function(c,d){if(c===fc.mapValue&&d===fc.mapValue)return 0;if(c===fc.mapValue)return 1;if(d===fc.mapValue)return-1;const g=c.fields||{},p=Object.keys(g),_=d.fields||{},A=Object.keys(_);p.sort(),A.sort();for(let I=0;I<p.length&&I<A.length;++I){const O=Pd(p[I],A[I]);if(O!==0)return O;const H=La(g[p[I]],_[A[I]]);if(H!==0)return H}return It(p.length,A.length)}(r.mapValue,t.mapValue);default:throw _t(23264,{Pe:n})}}function V_(r,t){if(typeof r=="string"&&typeof t=="string"&&r.length===t.length)return It(r,t);const n=Pr(r),s=Pr(t),l=It(n.seconds,s.seconds);return l!==0?l:It(n.nanos,s.nanos)}function P_(r,t){const n=r.values||[],s=t.values||[];for(let l=0;l<n.length&&l<s.length;++l){const c=La(n[l],s[l]);if(c)return c}return It(n.length,s.length)}function za(r){return kd(r)}function kd(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(n){const s=Pr(n);return`time(${s.seconds},${s.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?function(n){return kr(n).toBase64()}(r.bytesValue):"referenceValue"in r?function(n){return dt.fromName(n).toString()}(r.referenceValue):"geoPointValue"in r?function(n){return`geo(${n.latitude},${n.longitude})`}(r.geoPointValue):"arrayValue"in r?function(n){let s="[",l=!0;for(const c of n.values||[])l?l=!1:s+=",",s+=kd(c);return s+"]"}(r.arrayValue):"mapValue"in r?function(n){const s=Object.keys(n.fields||{}).sort();let l="{",c=!0;for(const d of s)c?c=!1:l+=",",l+=`${d}:${kd(n.fields[d])}`;return l+"}"}(r.mapValue):_t(61005,{value:r})}function _c(r){switch(Ur(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=Xc(r);return t?16+_c(t):16;case 5:return 2*r.stringValue.length;case 6:return kr(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((l,c)=>l+_c(c),0)}(r.arrayValue);case 10:case 11:return function(s){let l=0;return Ds(s.fields,(c,d)=>{l+=c.length+_c(d)}),l}(r.mapValue);default:throw _t(13486,{value:r})}}function Ud(r){return!!r&&"integerValue"in r}function om(r){return!!r&&"arrayValue"in r}function k_(r){return!!r&&"nullValue"in r}function U_(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function vc(r){return!!r&&"mapValue"in r}function Z1(r){var t,n;return((n=(((t=r==null?void 0:r.mapValue)===null||t===void 0?void 0:t.fields)||{})[yE])===null||n===void 0?void 0:n.stringValue)===_E}function ml(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const t={mapValue:{fields:{}}};return Ds(r.mapValue.fields,(n,s)=>t.mapValue.fields[n]=ml(s)),t}if(r.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(r.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=ml(r.arrayValue.values[n]);return t}return Object.assign({},r)}function J1(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===$1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mn{constructor(t){this.value=t}static empty(){return new Mn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let s=0;s<t.length-1;++s)if(n=(n.mapValue.fields||{})[t.get(s)],!vc(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=ml(n)}setAll(t){let n=je.emptyPath(),s={},l=[];t.forEach((d,g)=>{if(!n.isImmediateParentOf(g)){const p=this.getFieldsMap(n);this.applyChanges(p,s,l),s={},l=[],n=g.popLast()}d?s[g.lastSegment()]=ml(d):l.push(g.lastSegment())});const c=this.getFieldsMap(n);this.applyChanges(c,s,l)}delete(t){const n=this.field(t.popLast());vc(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return di(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<t.length;++s){let l=n.mapValue.fields[t.get(s)];vc(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},n.mapValue.fields[t.get(s)]=l),n=l}return n.mapValue.fields}applyChanges(t,n,s){Ds(n,(l,c)=>t[l]=c);for(const l of s)delete t[l]}clone(){return new Mn(ml(this.value))}}function vE(r){const t=[];return Ds(r.fields,(n,s)=>{const l=new je([n]);if(vc(s)){const c=vE(s.mapValue).fields;if(c.length===0)t.push(l);else for(const d of c)t.push(l.child(d))}else t.push(l)}),new qn(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $e{constructor(t,n,s,l,c,d,g){this.key=t,this.documentType=n,this.version=s,this.readTime=l,this.createTime=c,this.data=d,this.documentState=g}static newInvalidDocument(t){return new $e(t,0,Et.min(),Et.min(),Et.min(),Mn.empty(),0)}static newFoundDocument(t,n,s,l){return new $e(t,1,n,Et.min(),s,l,0)}static newNoDocument(t,n){return new $e(t,2,n,Et.min(),Et.min(),Mn.empty(),0)}static newUnknownDocument(t,n){return new $e(t,3,n,Et.min(),Et.min(),Mn.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(Et.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Mn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Mn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Et.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof $e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new $e(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nc{constructor(t,n){this.position=t,this.inclusive=n}}function L_(r,t,n){let s=0;for(let l=0;l<r.position.length;l++){const c=t[l],d=r.position[l];if(c.field.isKeyField()?s=dt.comparator(dt.fromName(d.referenceValue),n.key):s=La(d,n.data.field(c.field)),c.dir==="desc"&&(s*=-1),s!==0)break}return s}function z_(r,t){if(r===null)return t===null;if(t===null||r.inclusive!==t.inclusive||r.position.length!==t.position.length)return!1;for(let n=0;n<r.position.length;n++)if(!di(r.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mc{constructor(t,n="asc"){this.field=t,this.dir=n}}function W1(r,t){return r.dir===t.dir&&r.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EE{}class Re extends EE{constructor(t,n,s){super(),this.field=t,this.op=n,this.value=s}static create(t,n,s){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,s):new eb(t,n,s):n==="array-contains"?new rb(t,s):n==="in"?new sb(t,s):n==="not-in"?new ab(t,s):n==="array-contains-any"?new ob(t,s):new Re(t,n,s)}static createKeyFieldInFilter(t,n,s){return n==="in"?new nb(t,s):new ib(t,s)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(La(n,this.value)):n!==null&&Ur(this.value)===Ur(n)&&this.matchesComparison(La(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return _t(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class mi extends EE{constructor(t,n){super(),this.filters=t,this.op=n,this.Te=null}static create(t,n){return new mi(t,n)}matches(t){return TE(this)?this.filters.find(n=>!n.matches(t))===void 0:this.filters.find(n=>n.matches(t))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((t,n)=>t.concat(n.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function TE(r){return r.op==="and"}function AE(r){return tb(r)&&TE(r)}function tb(r){for(const t of r.filters)if(t instanceof mi)return!1;return!0}function Ld(r){if(r instanceof Re)return r.field.canonicalString()+r.op.toString()+za(r.value);if(AE(r))return r.filters.map(t=>Ld(t)).join(",");{const t=r.filters.map(n=>Ld(n)).join(",");return`${r.op}(${t})`}}function SE(r,t){return r instanceof Re?function(s,l){return l instanceof Re&&s.op===l.op&&s.field.isEqual(l.field)&&di(s.value,l.value)}(r,t):r instanceof mi?function(s,l){return l instanceof mi&&s.op===l.op&&s.filters.length===l.filters.length?s.filters.reduce((c,d,g)=>c&&SE(d,l.filters[g]),!0):!1}(r,t):void _t(19439)}function bE(r){return r instanceof Re?function(n){return`${n.field.canonicalString()} ${n.op} ${za(n.value)}`}(r):r instanceof mi?function(n){return n.op.toString()+" {"+n.getFilters().map(bE).join(" ,")+"}"}(r):"Filter"}class eb extends Re{constructor(t,n,s){super(t,n,s),this.key=dt.fromName(s.referenceValue)}matches(t){const n=dt.comparator(t.key,this.key);return this.matchesComparison(n)}}class nb extends Re{constructor(t,n){super(t,"in",n),this.keys=wE("in",n)}matches(t){return this.keys.some(n=>n.isEqual(t.key))}}class ib extends Re{constructor(t,n){super(t,"not-in",n),this.keys=wE("not-in",n)}matches(t){return!this.keys.some(n=>n.isEqual(t.key))}}function wE(r,t){var n;return(((n=t.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(s=>dt.fromName(s.referenceValue))}class rb extends Re{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return om(n)&&bl(n.arrayValue,this.value)}}class sb extends Re{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&bl(this.value.arrayValue,n)}}class ab extends Re{constructor(t,n){super(t,"not-in",n)}matches(t){if(bl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&n.nullValue===void 0&&!bl(this.value.arrayValue,n)}}class ob extends Re{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!om(n)||!n.arrayValue.values)&&n.arrayValue.values.some(s=>bl(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lb{constructor(t,n=null,s=[],l=[],c=null,d=null,g=null){this.path=t,this.collectionGroup=n,this.orderBy=s,this.filters=l,this.limit=c,this.startAt=d,this.endAt=g,this.Ie=null}}function B_(r,t=null,n=[],s=[],l=null,c=null,d=null){return new lb(r,t,n,s,l,c,d)}function lm(r){const t=At(r);if(t.Ie===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map(s=>Ld(s)).join(","),n+="|ob:",n+=t.orderBy.map(s=>function(c){return c.field.canonicalString()+c.dir}(s)).join(","),Kc(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map(s=>za(s)).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map(s=>za(s)).join(",")),t.Ie=n}return t.Ie}function um(r,t){if(r.limit!==t.limit||r.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<r.orderBy.length;n++)if(!W1(r.orderBy[n],t.orderBy[n]))return!1;if(r.filters.length!==t.filters.length)return!1;for(let n=0;n<r.filters.length;n++)if(!SE(r.filters[n],t.filters[n]))return!1;return r.collectionGroup===t.collectionGroup&&!!r.path.isEqual(t.path)&&!!z_(r.startAt,t.startAt)&&z_(r.endAt,t.endAt)}function zd(r){return dt.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $c{constructor(t,n=null,s=[],l=[],c=null,d="F",g=null,p=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=l,this.limit=c,this.limitType=d,this.startAt=g,this.endAt=p,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function ub(r,t,n,s,l,c,d,g){return new $c(r,t,n,s,l,c,d,g)}function cm(r){return new $c(r)}function j_(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function cb(r){return r.collectionGroup!==null}function gl(r){const t=At(r);if(t.Ee===null){t.Ee=[];const n=new Set;for(const c of t.explicitOrderBy)t.Ee.push(c),n.add(c.field.canonicalString());const s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(d){let g=new Ce(je.comparator);return d.filters.forEach(p=>{p.getFlattenedFilters().forEach(_=>{_.isInequality()&&(g=g.add(_.field))})}),g})(t).forEach(c=>{n.has(c.canonicalString())||c.isKeyField()||t.Ee.push(new Mc(c,s))}),n.has(je.keyField().canonicalString())||t.Ee.push(new Mc(je.keyField(),s))}return t.Ee}function ui(r){const t=At(r);return t.de||(t.de=hb(t,gl(r))),t.de}function hb(r,t){if(r.limitType==="F")return B_(r.path,r.collectionGroup,t,r.filters,r.limit,r.startAt,r.endAt);{t=t.map(l=>{const c=l.dir==="desc"?"asc":"desc";return new Mc(l.field,c)});const n=r.endAt?new Nc(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new Nc(r.startAt.position,r.startAt.inclusive):null;return B_(r.path,r.collectionGroup,t,r.filters,r.limit,n,s)}}function Bd(r,t,n){return new $c(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),t,n,r.startAt,r.endAt)}function Zc(r,t){return um(ui(r),ui(t))&&r.limitType===t.limitType}function RE(r){return`${lm(ui(r))}|lt:${r.limitType}`}function Ia(r){return`Query(target=${function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map(l=>bE(l)).join(", ")}]`),Kc(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map(l=>function(d){return`${d.field.canonicalString()} (${d.dir})`}(l)).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map(l=>za(l)).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map(l=>za(l)).join(",")),`Target(${s})`}(ui(r))}; limitType=${r.limitType})`}function Jc(r,t){return t.isFoundDocument()&&function(s,l){const c=l.key.path;return s.collectionGroup!==null?l.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(c):dt.isDocumentKey(s.path)?s.path.isEqual(c):s.path.isImmediateParentOf(c)}(r,t)&&function(s,l){for(const c of gl(s))if(!c.field.isKeyField()&&l.data.field(c.field)===null)return!1;return!0}(r,t)&&function(s,l){for(const c of s.filters)if(!c.matches(l))return!1;return!0}(r,t)&&function(s,l){return!(s.startAt&&!function(d,g,p){const _=L_(d,g,p);return d.inclusive?_<=0:_<0}(s.startAt,gl(s),l)||s.endAt&&!function(d,g,p){const _=L_(d,g,p);return d.inclusive?_>=0:_>0}(s.endAt,gl(s),l))}(r,t)}function fb(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function IE(r){return(t,n)=>{let s=!1;for(const l of gl(r)){const c=db(l,t,n);if(c!==0)return c;s=s||l.field.isKeyField()}return 0}}function db(r,t,n){const s=r.field.isKeyField()?dt.comparator(t.key,n.key):function(c,d,g){const p=d.data.field(c),_=g.data.field(c);return p!==null&&_!==null?La(p,_):_t(42886)}(r.field,t,n);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return _t(19790,{direction:r.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Os{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),s=this.inner[n];if(s!==void 0){for(const[l,c]of s)if(this.equalsFn(l,t))return c}}has(t){return this.get(t)!==void 0}set(t,n){const s=this.mapKeyFn(t),l=this.inner[s];if(l===void 0)return this.inner[s]=[[t,n]],void this.innerSize++;for(let c=0;c<l.length;c++)if(this.equalsFn(l[c][0],t))return void(l[c]=[t,n]);l.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),s=this.inner[n];if(s===void 0)return!1;for(let l=0;l<s.length;l++)if(this.equalsFn(s[l][0],t))return s.length===1?delete this.inner[n]:s.splice(l,1),this.innerSize--,!0;return!1}forEach(t){Ds(this.inner,(n,s)=>{for(const[l,c]of s)t(l,c)})}isEmpty(){return hE(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mb=new se(dt.comparator);function Fi(){return mb}const CE=new se(dt.comparator);function hl(...r){let t=CE;for(const n of r)t=t.insert(n.key,n);return t}function DE(r){let t=CE;return r.forEach((n,s)=>t=t.insert(n,s.overlayedDocument)),t}function Ss(){return pl()}function OE(){return pl()}function pl(){return new Os(r=>r.toString(),(r,t)=>r.isEqual(t))}const gb=new se(dt.comparator),pb=new Ce(dt.comparator);function xt(...r){let t=pb;for(const n of r)t=t.add(n);return t}const yb=new Ce(It);function _b(){return yb}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hm(r,t){if(r.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Cc(t)?"-0":t}}function NE(r){return{integerValue:""+r}}function vb(r,t){return F1(t)?NE(t):hm(r,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wc{constructor(){this._=void 0}}function Eb(r,t,n){return r instanceof xc?function(l,c){const d={fields:{[mE]:{stringValue:dE},[pE]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return c&&am(c)&&(c=Xc(c)),c&&(d.fields[gE]=c),{mapValue:d}}(n,t):r instanceof wl?xE(r,t):r instanceof Rl?VE(r,t):function(l,c){const d=ME(l,c),g=q_(d)+q_(l.Re);return Ud(d)&&Ud(l.Re)?NE(g):hm(l.serializer,g)}(r,t)}function Tb(r,t,n){return r instanceof wl?xE(r,t):r instanceof Rl?VE(r,t):n}function ME(r,t){return r instanceof Vc?function(s){return Ud(s)||function(c){return!!c&&"doubleValue"in c}(s)}(t)?t:{integerValue:0}:null}class xc extends Wc{}class wl extends Wc{constructor(t){super(),this.elements=t}}function xE(r,t){const n=PE(t);for(const s of r.elements)n.some(l=>di(l,s))||n.push(s);return{arrayValue:{values:n}}}class Rl extends Wc{constructor(t){super(),this.elements=t}}function VE(r,t){let n=PE(t);for(const s of r.elements)n=n.filter(l=>!di(l,s));return{arrayValue:{values:n}}}class Vc extends Wc{constructor(t,n){super(),this.serializer=t,this.Re=n}}function q_(r){return de(r.integerValue||r.doubleValue)}function PE(r){return om(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function Ab(r,t){return r.field.isEqual(t.field)&&function(s,l){return s instanceof wl&&l instanceof wl||s instanceof Rl&&l instanceof Rl?Ua(s.elements,l.elements,di):s instanceof Vc&&l instanceof Vc?di(s.Re,l.Re):s instanceof xc&&l instanceof xc}(r.transform,t.transform)}class Sb{constructor(t,n){this.version=t,this.transformResults=n}}class qi{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new qi}static exists(t){return new qi(void 0,t)}static updateTime(t){return new qi(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Ec(r,t){return r.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(r.updateTime):r.exists===void 0||r.exists===t.isFoundDocument()}class th{}function kE(r,t){if(!r.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return r.isNoDocument()?new LE(r.key,qi.none()):new xl(r.key,r.data,qi.none());{const n=r.data,s=Mn.empty();let l=new Ce(je.comparator);for(let c of t.fields)if(!l.has(c)){let d=n.field(c);d===null&&c.length>1&&(c=c.popLast(),d=n.field(c)),d===null?s.delete(c):s.set(c,d),l=l.add(c)}return new Ns(r.key,s,new qn(l.toArray()),qi.none())}}function bb(r,t,n){r instanceof xl?function(l,c,d){const g=l.value.clone(),p=G_(l.fieldTransforms,c,d.transformResults);g.setAll(p),c.convertToFoundDocument(d.version,g).setHasCommittedMutations()}(r,t,n):r instanceof Ns?function(l,c,d){if(!Ec(l.precondition,c))return void c.convertToUnknownDocument(d.version);const g=G_(l.fieldTransforms,c,d.transformResults),p=c.data;p.setAll(UE(l)),p.setAll(g),c.convertToFoundDocument(d.version,p).setHasCommittedMutations()}(r,t,n):function(l,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()}(0,t,n)}function yl(r,t,n,s){return r instanceof xl?function(c,d,g,p){if(!Ec(c.precondition,d))return g;const _=c.value.clone(),A=F_(c.fieldTransforms,p,d);return _.setAll(A),d.convertToFoundDocument(d.version,_).setHasLocalMutations(),null}(r,t,n,s):r instanceof Ns?function(c,d,g,p){if(!Ec(c.precondition,d))return g;const _=F_(c.fieldTransforms,p,d),A=d.data;return A.setAll(UE(c)),A.setAll(_),d.convertToFoundDocument(d.version,A).setHasLocalMutations(),g===null?null:g.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map(I=>I.field))}(r,t,n,s):function(c,d,g){return Ec(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):g}(r,t,n)}function wb(r,t){let n=null;for(const s of r.fieldTransforms){const l=t.data.field(s.field),c=ME(s.transform,l||null);c!=null&&(n===null&&(n=Mn.empty()),n.set(s.field,c))}return n||null}function H_(r,t){return r.type===t.type&&!!r.key.isEqual(t.key)&&!!r.precondition.isEqual(t.precondition)&&!!function(s,l){return s===void 0&&l===void 0||!(!s||!l)&&Ua(s,l,(c,d)=>Ab(c,d))}(r.fieldTransforms,t.fieldTransforms)&&(r.type===0?r.value.isEqual(t.value):r.type!==1||r.data.isEqual(t.data)&&r.fieldMask.isEqual(t.fieldMask))}class xl extends th{constructor(t,n,s,l=[]){super(),this.key=t,this.value=n,this.precondition=s,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class Ns extends th{constructor(t,n,s,l,c=[]){super(),this.key=t,this.data=n,this.fieldMask=s,this.precondition=l,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function UE(r){const t=new Map;return r.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const s=r.data.field(n);t.set(n,s)}}),t}function G_(r,t,n){const s=new Map;qt(r.length===n.length,32656,{Ve:n.length,me:r.length});for(let l=0;l<n.length;l++){const c=r[l],d=c.transform,g=t.data.field(c.field);s.set(c.field,Tb(d,g,n[l]))}return s}function F_(r,t,n){const s=new Map;for(const l of r){const c=l.transform,d=n.data.field(l.field);s.set(l.field,Eb(c,d,t))}return s}class LE extends th{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Rb extends th{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ib{constructor(t,n,s,l){this.batchId=t,this.localWriteTime=n,this.baseMutations=s,this.mutations=l}applyToRemoteDocument(t,n){const s=n.mutationResults;for(let l=0;l<this.mutations.length;l++){const c=this.mutations[l];c.key.isEqual(t.key)&&bb(c,t,s[l])}}applyToLocalView(t,n){for(const s of this.baseMutations)s.key.isEqual(t.key)&&(n=yl(s,t,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(t.key)&&(n=yl(s,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const s=OE();return this.mutations.forEach(l=>{const c=t.get(l.key),d=c.overlayedDocument;let g=this.applyToLocalView(d,c.mutatedFields);g=n.has(l.key)?null:g;const p=kE(d,g);p!==null&&s.set(l.key,p),d.isValidDocument()||d.convertToNoDocument(Et.min())}),s}keys(){return this.mutations.reduce((t,n)=>t.add(n.key),xt())}isEqual(t){return this.batchId===t.batchId&&Ua(this.mutations,t.mutations,(n,s)=>H_(n,s))&&Ua(this.baseMutations,t.baseMutations,(n,s)=>H_(n,s))}}class fm{constructor(t,n,s,l){this.batch=t,this.commitVersion=n,this.mutationResults=s,this.docVersions=l}static from(t,n,s){qt(t.mutations.length===s.length,58842,{fe:t.mutations.length,ge:s.length});let l=function(){return gb}();const c=t.mutations;for(let d=0;d<c.length;d++)l=l.insert(c[d].key,s[d].version);return new fm(t,n,s,l)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cb{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Db{constructor(t,n){this.count=t,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ee,Ut;function Ob(r){switch(r){case $.OK:return _t(64938);case $.CANCELLED:case $.UNKNOWN:case $.DEADLINE_EXCEEDED:case $.RESOURCE_EXHAUSTED:case $.INTERNAL:case $.UNAVAILABLE:case $.UNAUTHENTICATED:return!1;case $.INVALID_ARGUMENT:case $.NOT_FOUND:case $.ALREADY_EXISTS:case $.PERMISSION_DENIED:case $.FAILED_PRECONDITION:case $.ABORTED:case $.OUT_OF_RANGE:case $.UNIMPLEMENTED:case $.DATA_LOSS:return!0;default:return _t(15467,{code:r})}}function zE(r){if(r===void 0)return Gi("GRPC error has no .code"),$.UNKNOWN;switch(r){case Ee.OK:return $.OK;case Ee.CANCELLED:return $.CANCELLED;case Ee.UNKNOWN:return $.UNKNOWN;case Ee.DEADLINE_EXCEEDED:return $.DEADLINE_EXCEEDED;case Ee.RESOURCE_EXHAUSTED:return $.RESOURCE_EXHAUSTED;case Ee.INTERNAL:return $.INTERNAL;case Ee.UNAVAILABLE:return $.UNAVAILABLE;case Ee.UNAUTHENTICATED:return $.UNAUTHENTICATED;case Ee.INVALID_ARGUMENT:return $.INVALID_ARGUMENT;case Ee.NOT_FOUND:return $.NOT_FOUND;case Ee.ALREADY_EXISTS:return $.ALREADY_EXISTS;case Ee.PERMISSION_DENIED:return $.PERMISSION_DENIED;case Ee.FAILED_PRECONDITION:return $.FAILED_PRECONDITION;case Ee.ABORTED:return $.ABORTED;case Ee.OUT_OF_RANGE:return $.OUT_OF_RANGE;case Ee.UNIMPLEMENTED:return $.UNIMPLEMENTED;case Ee.DATA_LOSS:return $.DATA_LOSS;default:return _t(39323,{code:r})}}(Ut=Ee||(Ee={}))[Ut.OK=0]="OK",Ut[Ut.CANCELLED=1]="CANCELLED",Ut[Ut.UNKNOWN=2]="UNKNOWN",Ut[Ut.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ut[Ut.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ut[Ut.NOT_FOUND=5]="NOT_FOUND",Ut[Ut.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ut[Ut.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ut[Ut.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ut[Ut.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ut[Ut.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ut[Ut.ABORTED=10]="ABORTED",Ut[Ut.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ut[Ut.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ut[Ut.INTERNAL=13]="INTERNAL",Ut[Ut.UNAVAILABLE=14]="UNAVAILABLE",Ut[Ut.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nb=new Nr([4294967295,4294967295],0);function Y_(r){const t=lE().encode(r),n=new tE;return n.update(t),new Uint8Array(n.digest())}function Q_(r){const t=new DataView(r.buffer),n=t.getUint32(0,!0),s=t.getUint32(4,!0),l=t.getUint32(8,!0),c=t.getUint32(12,!0);return[new Nr([n,s],0),new Nr([l,c],0)]}class dm{constructor(t,n,s){if(this.bitmap=t,this.padding=n,this.hashCount=s,n<0||n>=8)throw new fl(`Invalid padding: ${n}`);if(s<0)throw new fl(`Invalid hash count: ${s}`);if(t.length>0&&this.hashCount===0)throw new fl(`Invalid hash count: ${s}`);if(t.length===0&&n!==0)throw new fl(`Invalid padding when bitmap length is 0: ${n}`);this.pe=8*t.length-n,this.ye=Nr.fromNumber(this.pe)}we(t,n,s){let l=t.add(n.multiply(Nr.fromNumber(s)));return l.compare(Nb)===1&&(l=new Nr([l.getBits(0),l.getBits(1)],0)),l.modulo(this.ye).toNumber()}be(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.pe===0)return!1;const n=Y_(t),[s,l]=Q_(n);for(let c=0;c<this.hashCount;c++){const d=this.we(s,l,c);if(!this.be(d))return!1}return!0}static create(t,n,s){const l=t%8==0?0:8-t%8,c=new Uint8Array(Math.ceil(t/8)),d=new dm(c,l,n);return s.forEach(g=>d.insert(g)),d}insert(t){if(this.pe===0)return;const n=Y_(t),[s,l]=Q_(n);for(let c=0;c<this.hashCount;c++){const d=this.we(s,l,c);this.Se(d)}}Se(t){const n=Math.floor(t/8),s=t%8;this.bitmap[n]|=1<<s}}class fl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eh{constructor(t,n,s,l,c){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=l,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(t,n,s){const l=new Map;return l.set(t,Vl.createSynthesizedTargetChangeForCurrentChange(t,n,s)),new eh(Et.min(),l,new se(It),Fi(),xt())}}class Vl{constructor(t,n,s,l,c){this.resumeToken=t,this.current=n,this.addedDocuments=s,this.modifiedDocuments=l,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(t,n,s){return new Vl(s,n,xt(),xt(),xt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tc{constructor(t,n,s,l){this.De=t,this.removedTargetIds=n,this.key=s,this.ve=l}}class BE{constructor(t,n){this.targetId=t,this.Ce=n}}class jE{constructor(t,n,s=qe.EMPTY_BYTE_STRING,l=null){this.state=t,this.targetIds=n,this.resumeToken=s,this.cause=l}}class K_{constructor(){this.Fe=0,this.Me=X_(),this.xe=qe.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(t){t.approximateByteSize()>0&&(this.Ne=!0,this.xe=t)}qe(){let t=xt(),n=xt(),s=xt();return this.Me.forEach((l,c)=>{switch(c){case 0:t=t.add(l);break;case 2:n=n.add(l);break;case 1:s=s.add(l);break;default:_t(38017,{changeType:c})}}),new Vl(this.xe,this.Oe,t,n,s)}Qe(){this.Ne=!1,this.Me=X_()}$e(t,n){this.Ne=!0,this.Me=this.Me.insert(t,n)}Ue(t){this.Ne=!0,this.Me=this.Me.remove(t)}Ke(){this.Fe+=1}We(){this.Fe-=1,qt(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class Mb{constructor(t){this.ze=t,this.je=new Map,this.He=Fi(),this.Je=dc(),this.Ye=dc(),this.Ze=new se(It)}Xe(t){for(const n of t.De)t.ve&&t.ve.isFoundDocument()?this.et(n,t.ve):this.tt(n,t.key,t.ve);for(const n of t.removedTargetIds)this.tt(n,t.key,t.ve)}nt(t){this.forEachTarget(t,n=>{const s=this.rt(n);switch(t.state){case 0:this.it(n)&&s.ke(t.resumeToken);break;case 1:s.We(),s.Be||s.Qe(),s.ke(t.resumeToken);break;case 2:s.We(),s.Be||this.removeTarget(n);break;case 3:this.it(n)&&(s.Ge(),s.ke(t.resumeToken));break;case 4:this.it(n)&&(this.st(n),s.ke(t.resumeToken));break;default:_t(56790,{state:t.state})}})}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.je.forEach((s,l)=>{this.it(l)&&n(l)})}ot(t){const n=t.targetId,s=t.Ce.count,l=this._t(n);if(l){const c=l.target;if(zd(c))if(s===0){const d=new dt(c.path);this.tt(n,d,$e.newNoDocument(d,Et.min()))}else qt(s===1,20013,{expectedCount:s});else{const d=this.ut(n);if(d!==s){const g=this.ct(t),p=g?this.lt(g,t,d):1;if(p!==0){this.st(n);const _=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,_)}}}}}ct(t){const n=t.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:l=0},hashCount:c=0}=n;let d,g;try{d=kr(s).toUint8Array()}catch(p){if(p instanceof fE)return ka("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{g=new dm(d,l,c)}catch(p){return ka(p instanceof fl?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return g.pe===0?null:g}lt(t,n,s){return n.Ce.count===s-this.Tt(t,n.targetId)?0:2}Tt(t,n){const s=this.ze.getRemoteKeysForTarget(n);let l=0;return s.forEach(c=>{const d=this.ze.Pt(),g=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;t.mightContain(g)||(this.tt(n,c,null),l++)}),l}It(t){const n=new Map;this.je.forEach((c,d)=>{const g=this._t(d);if(g){if(c.current&&zd(g.target)){const p=new dt(g.target.path);this.Et(p).has(d)||this.dt(d,p)||this.tt(d,p,$e.newNoDocument(p,t))}c.Le&&(n.set(d,c.qe()),c.Qe())}});let s=xt();this.Ye.forEach((c,d)=>{let g=!0;d.forEachWhile(p=>{const _=this._t(p);return!_||_.purpose==="TargetPurposeLimboResolution"||(g=!1,!1)}),g&&(s=s.add(c))}),this.He.forEach((c,d)=>d.setReadTime(t));const l=new eh(t,n,this.Ze,this.He,s);return this.He=Fi(),this.Je=dc(),this.Ye=dc(),this.Ze=new se(It),l}et(t,n){if(!this.it(t))return;const s=this.dt(t,n.key)?2:0;this.rt(t).$e(n.key,s),this.He=this.He.insert(n.key,n),this.Je=this.Je.insert(n.key,this.Et(n.key).add(t)),this.Ye=this.Ye.insert(n.key,this.At(n.key).add(t))}tt(t,n,s){if(!this.it(t))return;const l=this.rt(t);this.dt(t,n)?l.$e(n,1):l.Ue(n),this.Ye=this.Ye.insert(n,this.At(n).delete(t)),this.Ye=this.Ye.insert(n,this.At(n).add(t)),s&&(this.He=this.He.insert(n,s))}removeTarget(t){this.je.delete(t)}ut(t){const n=this.rt(t).qe();return this.ze.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}Ke(t){this.rt(t).Ke()}rt(t){let n=this.je.get(t);return n||(n=new K_,this.je.set(t,n)),n}At(t){let n=this.Ye.get(t);return n||(n=new Ce(It),this.Ye=this.Ye.insert(t,n)),n}Et(t){let n=this.Je.get(t);return n||(n=new Ce(It),this.Je=this.Je.insert(t,n)),n}it(t){const n=this._t(t)!==null;return n||rt("WatchChangeAggregator","Detected inactive target",t),n}_t(t){const n=this.je.get(t);return n&&n.Be?null:this.ze.Rt(t)}st(t){this.je.set(t,new K_),this.ze.getRemoteKeysForTarget(t).forEach(n=>{this.tt(t,n,null)})}dt(t,n){return this.ze.getRemoteKeysForTarget(t).has(n)}}function dc(){return new se(dt.comparator)}function X_(){return new se(dt.comparator)}const xb={asc:"ASCENDING",desc:"DESCENDING"},Vb={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Pb={and:"AND",or:"OR"};class kb{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function jd(r,t){return r.useProto3Json||Kc(t)?t:{value:t}}function Pc(r,t){return r.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function qE(r,t){return r.useProto3Json?t.toBase64():t.toUint8Array()}function Ub(r,t){return Pc(r,t.toTimestamp())}function ci(r){return qt(!!r,49232),Et.fromTimestamp(function(n){const s=Pr(n);return new Ie(s.seconds,s.nanos)}(r))}function mm(r,t){return qd(r,t).canonicalString()}function qd(r,t){const n=function(l){return new ue(["projects",l.projectId,"databases",l.database])}(r).child("documents");return t===void 0?n:n.child(t)}function HE(r){const t=ue.fromString(r);return qt(KE(t),10190,{key:t.toString()}),t}function Hd(r,t){return mm(r.databaseId,t.path)}function Ad(r,t){const n=HE(t);if(n.get(1)!==r.databaseId.projectId)throw new ft($.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+r.databaseId.projectId);if(n.get(3)!==r.databaseId.database)throw new ft($.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+r.databaseId.database);return new dt(FE(n))}function GE(r,t){return mm(r.databaseId,t)}function Lb(r){const t=HE(r);return t.length===4?ue.emptyPath():FE(t)}function Gd(r){return new ue(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function FE(r){return qt(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function $_(r,t,n){return{name:Hd(r,t),fields:n.value.mapValue.fields}}function zb(r,t){let n;if("targetChange"in t){t.targetChange;const s=function(_){return _==="NO_CHANGE"?0:_==="ADD"?1:_==="REMOVE"?2:_==="CURRENT"?3:_==="RESET"?4:_t(39313,{state:_})}(t.targetChange.targetChangeType||"NO_CHANGE"),l=t.targetChange.targetIds||[],c=function(_,A){return _.useProto3Json?(qt(A===void 0||typeof A=="string",58123),qe.fromBase64String(A||"")):(qt(A===void 0||A instanceof Buffer||A instanceof Uint8Array,16193),qe.fromUint8Array(A||new Uint8Array))}(r,t.targetChange.resumeToken),d=t.targetChange.cause,g=d&&function(_){const A=_.code===void 0?$.UNKNOWN:zE(_.code);return new ft(A,_.message||"")}(d);n=new jE(s,l,c,g||null)}else if("documentChange"in t){t.documentChange;const s=t.documentChange;s.document,s.document.name,s.document.updateTime;const l=Ad(r,s.document.name),c=ci(s.document.updateTime),d=s.document.createTime?ci(s.document.createTime):Et.min(),g=new Mn({mapValue:{fields:s.document.fields}}),p=$e.newFoundDocument(l,c,d,g),_=s.targetIds||[],A=s.removedTargetIds||[];n=new Tc(_,A,p.key,p)}else if("documentDelete"in t){t.documentDelete;const s=t.documentDelete;s.document;const l=Ad(r,s.document),c=s.readTime?ci(s.readTime):Et.min(),d=$e.newNoDocument(l,c),g=s.removedTargetIds||[];n=new Tc([],g,d.key,d)}else if("documentRemove"in t){t.documentRemove;const s=t.documentRemove;s.document;const l=Ad(r,s.document),c=s.removedTargetIds||[];n=new Tc([],c,l,null)}else{if(!("filter"in t))return _t(11601,{Vt:t});{t.filter;const s=t.filter;s.targetId;const{count:l=0,unchangedNames:c}=s,d=new Db(l,c),g=s.targetId;n=new BE(g,d)}}return n}function Bb(r,t){let n;if(t instanceof xl)n={update:$_(r,t.key,t.value)};else if(t instanceof LE)n={delete:Hd(r,t.key)};else if(t instanceof Ns)n={update:$_(r,t.key,t.data),updateMask:Xb(t.fieldMask)};else{if(!(t instanceof Rb))return _t(16599,{ft:t.type});n={verify:Hd(r,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(s=>function(c,d){const g=d.transform;if(g instanceof xc)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof wl)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof Rl)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof Vc)return{fieldPath:d.field.canonicalString(),increment:g.Re};throw _t(20930,{transform:d.transform})}(0,s))),t.precondition.isNone||(n.currentDocument=function(l,c){return c.updateTime!==void 0?{updateTime:Ub(l,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:_t(27497)}(r,t.precondition)),n}function jb(r,t){return r&&r.length>0?(qt(t!==void 0,14353),r.map(n=>function(l,c){let d=l.updateTime?ci(l.updateTime):ci(c);return d.isEqual(Et.min())&&(d=ci(c)),new Sb(d,l.transformResults||[])}(n,t))):[]}function qb(r,t){return{documents:[GE(r,t.path)]}}function Hb(r,t){const n={structuredQuery:{}},s=t.path;let l;t.collectionGroup!==null?(l=s,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(l=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=GE(r,l);const c=function(_){if(_.length!==0)return QE(mi.create(_,"and"))}(t.filters);c&&(n.structuredQuery.where=c);const d=function(_){if(_.length!==0)return _.map(A=>function(O){return{field:Ca(O.field),direction:Yb(O.dir)}}(A))}(t.orderBy);d&&(n.structuredQuery.orderBy=d);const g=jd(r,t.limit);return g!==null&&(n.structuredQuery.limit=g),t.startAt&&(n.structuredQuery.startAt=function(_){return{before:_.inclusive,values:_.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(_){return{before:!_.inclusive,values:_.position}}(t.endAt)),{gt:n,parent:l}}function Gb(r){let t=Lb(r.parent);const n=r.structuredQuery,s=n.from?n.from.length:0;let l=null;if(s>0){qt(s===1,65062);const A=n.from[0];A.allDescendants?l=A.collectionId:t=t.child(A.collectionId)}let c=[];n.where&&(c=function(I){const O=YE(I);return O instanceof mi&&AE(O)?O.getFilters():[O]}(n.where));let d=[];n.orderBy&&(d=function(I){return I.map(O=>function(X){return new Mc(Da(X.field),function(Z){switch(Z){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(X.direction))}(O))}(n.orderBy));let g=null;n.limit&&(g=function(I){let O;return O=typeof I=="object"?I.value:I,Kc(O)?null:O}(n.limit));let p=null;n.startAt&&(p=function(I){const O=!!I.before,H=I.values||[];return new Nc(H,O)}(n.startAt));let _=null;return n.endAt&&(_=function(I){const O=!I.before,H=I.values||[];return new Nc(H,O)}(n.endAt)),ub(t,l,d,c,g,"F",p,_)}function Fb(r,t){const n=function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return _t(28987,{purpose:l})}}(t.purpose);return n==null?null:{"goog-listen-tags":n}}function YE(r){return r.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=Da(n.unaryFilter.field);return Re.create(s,"==",{doubleValue:NaN});case"IS_NULL":const l=Da(n.unaryFilter.field);return Re.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=Da(n.unaryFilter.field);return Re.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=Da(n.unaryFilter.field);return Re.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return _t(61313);default:return _t(60726)}}(r):r.fieldFilter!==void 0?function(n){return Re.create(Da(n.fieldFilter.field),function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return _t(58110);default:return _t(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(r):r.compositeFilter!==void 0?function(n){return mi.create(n.compositeFilter.filters.map(s=>YE(s)),function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return _t(1026)}}(n.compositeFilter.op))}(r):_t(30097,{filter:r})}function Yb(r){return xb[r]}function Qb(r){return Vb[r]}function Kb(r){return Pb[r]}function Ca(r){return{fieldPath:r.canonicalString()}}function Da(r){return je.fromServerFormat(r.fieldPath)}function QE(r){return r instanceof Re?function(n){if(n.op==="=="){if(U_(n.value))return{unaryFilter:{field:Ca(n.field),op:"IS_NAN"}};if(k_(n.value))return{unaryFilter:{field:Ca(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(U_(n.value))return{unaryFilter:{field:Ca(n.field),op:"IS_NOT_NAN"}};if(k_(n.value))return{unaryFilter:{field:Ca(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ca(n.field),op:Qb(n.op),value:n.value}}}(r):r instanceof mi?function(n){const s=n.getFilters().map(l=>QE(l));return s.length===1?s[0]:{compositeFilter:{op:Kb(n.op),filters:s}}}(r):_t(54877,{filter:r})}function Xb(r){const t=[];return r.fields.forEach(n=>t.push(n.canonicalString())),{fieldPaths:t}}function KE(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ir{constructor(t,n,s,l,c=Et.min(),d=Et.min(),g=qe.EMPTY_BYTE_STRING,p=null){this.target=t,this.targetId=n,this.purpose=s,this.sequenceNumber=l,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=g,this.expectedCount=p}withSequenceNumber(t){return new Ir(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new Ir(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Ir(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Ir(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $b{constructor(t){this.wt=t}}function Zb(r){const t=Gb({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?Bd(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jb{constructor(){this.Cn=new Wb}addToCollectionParentIndex(t,n){return this.Cn.add(n),Q.resolve()}getCollectionParents(t,n){return Q.resolve(this.Cn.getEntries(n))}addFieldIndex(t,n){return Q.resolve()}deleteFieldIndex(t,n){return Q.resolve()}deleteAllFieldIndexes(t){return Q.resolve()}createTargetIndexes(t,n){return Q.resolve()}getDocumentsMatchingTarget(t,n){return Q.resolve(null)}getIndexType(t,n){return Q.resolve(0)}getFieldIndexes(t,n){return Q.resolve([])}getNextCollectionGroupToUpdate(t){return Q.resolve(null)}getMinOffset(t,n){return Q.resolve(Vr.min())}getMinOffsetFromCollectionGroup(t,n){return Q.resolve(Vr.min())}updateCollectionGroup(t,n,s){return Q.resolve()}updateIndexEntries(t,n){return Q.resolve()}}class Wb{constructor(){this.index={}}add(t){const n=t.lastSegment(),s=t.popLast(),l=this.index[n]||new Ce(ue.comparator),c=!l.has(s);return this.index[n]=l.add(s),c}has(t){const n=t.lastSegment(),s=t.popLast(),l=this.index[n];return l&&l.has(s)}getEntries(t){return(this.index[t]||new Ce(ue.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},XE=41943040;class an{static withCacheSize(t){return new an(t,an.DEFAULT_COLLECTION_PERCENTILE,an.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,n,s){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */an.DEFAULT_COLLECTION_PERCENTILE=10,an.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,an.DEFAULT=new an(XE,an.DEFAULT_COLLECTION_PERCENTILE,an.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),an.DISABLED=new an(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ba{constructor(t){this.ur=t}next(){return this.ur+=2,this.ur}static cr(){return new Ba(0)}static lr(){return new Ba(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J_="LruGarbageCollector",tw=1048576;function W_([r,t],[n,s]){const l=It(r,n);return l===0?It(t,s):l}class ew{constructor(t){this.Er=t,this.buffer=new Ce(W_),this.dr=0}Ar(){return++this.dr}Rr(t){const n=[t,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();W_(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class nw{constructor(t,n,s){this.garbageCollector=t,this.asyncQueue=n,this.localStore=s,this.Vr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return this.Vr!==null}mr(t){rt(J_,`Garbage collection scheduled in ${t}ms`),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,async()=>{this.Vr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Ka(n)?rt(J_,"Ignoring IndexedDB error during garbage collection: ",n):await Qa(n)}await this.mr(3e5)})}}class iw{constructor(t,n){this.gr=t,this.params=n}calculateTargetCount(t,n){return this.gr.pr(t).next(s=>Math.floor(n/100*s))}nthSequenceNumber(t,n){if(n===0)return Q.resolve(Qc.le);const s=new ew(n);return this.gr.forEachTarget(t,l=>s.Rr(l.sequenceNumber)).next(()=>this.gr.yr(t,l=>s.Rr(l))).next(()=>s.maxValue)}removeTargets(t,n,s){return this.gr.removeTargets(t,n,s)}removeOrphanedDocuments(t,n){return this.gr.removeOrphanedDocuments(t,n)}collect(t,n){return this.params.cacheSizeCollectionThreshold===-1?(rt("LruGarbageCollector","Garbage collection skipped; disabled"),Q.resolve(Z_)):this.getCacheSize(t).next(s=>s<this.params.cacheSizeCollectionThreshold?(rt("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Z_):this.wr(t,n))}getCacheSize(t){return this.gr.getCacheSize(t)}wr(t,n){let s,l,c,d,g,p,_;const A=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(I=>(I>this.params.maximumSequenceNumbersToCollect?(rt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${I}`),l=this.params.maximumSequenceNumbersToCollect):l=I,d=Date.now(),this.nthSequenceNumber(t,l))).next(I=>(s=I,g=Date.now(),this.removeTargets(t,s,n))).next(I=>(c=I,p=Date.now(),this.removeOrphanedDocuments(t,s))).next(I=>(_=Date.now(),Ra()<=Mt.DEBUG&&rt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-A}ms
	Determined least recently used ${l} in `+(g-d)+`ms
	Removed ${c} targets in `+(p-g)+`ms
	Removed ${I} documents in `+(_-p)+`ms
Total Duration: ${_-A}ms`),Q.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:c,documentsRemoved:I})))}}function rw(r,t){return new iw(r,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sw{constructor(){this.changes=new Os(t=>t.toString(),(t,n)=>t.isEqual(n)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,$e.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?Q.resolve(s):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aw{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ow{constructor(t,n,s,l){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=l}getDocument(t,n){let s=null;return this.documentOverlayCache.getOverlay(t,n).next(l=>(s=l,this.remoteDocumentCache.getEntry(t,n))).next(l=>(s!==null&&yl(s.mutation,l,qn.empty(),Ie.now()),l))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next(s=>this.getLocalViewOfDocuments(t,s,xt()).next(()=>s))}getLocalViewOfDocuments(t,n,s=xt()){const l=Ss();return this.populateOverlays(t,l,n).next(()=>this.computeViews(t,n,l,s).next(c=>{let d=hl();return c.forEach((g,p)=>{d=d.insert(g,p.overlayedDocument)}),d}))}getOverlayedDocuments(t,n){const s=Ss();return this.populateOverlays(t,s,n).next(()=>this.computeViews(t,n,s,xt()))}populateOverlays(t,n,s){const l=[];return s.forEach(c=>{n.has(c)||l.push(c)}),this.documentOverlayCache.getOverlays(t,l).next(c=>{c.forEach((d,g)=>{n.set(d,g)})})}computeViews(t,n,s,l){let c=Fi();const d=pl(),g=function(){return pl()}();return n.forEach((p,_)=>{const A=s.get(_.key);l.has(_.key)&&(A===void 0||A.mutation instanceof Ns)?c=c.insert(_.key,_):A!==void 0?(d.set(_.key,A.mutation.getFieldMask()),yl(A.mutation,_,A.mutation.getFieldMask(),Ie.now())):d.set(_.key,qn.empty())}),this.recalculateAndSaveOverlays(t,c).next(p=>(p.forEach((_,A)=>d.set(_,A)),n.forEach((_,A)=>{var I;return g.set(_,new aw(A,(I=d.get(_))!==null&&I!==void 0?I:null))}),g))}recalculateAndSaveOverlays(t,n){const s=pl();let l=new se((d,g)=>d-g),c=xt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next(d=>{for(const g of d)g.keys().forEach(p=>{const _=n.get(p);if(_===null)return;let A=s.get(p)||qn.empty();A=g.applyToLocalView(_,A),s.set(p,A);const I=(l.get(g.batchId)||xt()).add(p);l=l.insert(g.batchId,I)})}).next(()=>{const d=[],g=l.getReverseIterator();for(;g.hasNext();){const p=g.getNext(),_=p.key,A=p.value,I=OE();A.forEach(O=>{if(!c.has(O)){const H=kE(n.get(O),s.get(O));H!==null&&I.set(O,H),c=c.add(O)}}),d.push(this.documentOverlayCache.saveOverlays(t,_,I))}return Q.waitFor(d)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next(s=>this.recalculateAndSaveOverlays(t,s))}getDocumentsMatchingQuery(t,n,s,l){return function(d){return dt.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):cb(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,s,l):this.getDocumentsMatchingCollectionQuery(t,n,s,l)}getNextDocuments(t,n,s,l){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,s,l).next(c=>{const d=l-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,s.largestBatchId,l-c.size):Q.resolve(Ss());let g=Tl,p=c;return d.next(_=>Q.forEach(_,(A,I)=>(g<I.largestBatchId&&(g=I.largestBatchId),c.get(A)?Q.resolve():this.remoteDocumentCache.getEntry(t,A).next(O=>{p=p.insert(A,O)}))).next(()=>this.populateOverlays(t,_,c)).next(()=>this.computeViews(t,p,_,xt())).next(A=>({batchId:g,changes:DE(A)})))})}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new dt(n)).next(s=>{let l=hl();return s.isFoundDocument()&&(l=l.insert(s.key,s)),l})}getDocumentsMatchingCollectionGroupQuery(t,n,s,l){const c=n.collectionGroup;let d=hl();return this.indexManager.getCollectionParents(t,c).next(g=>Q.forEach(g,p=>{const _=function(I,O){return new $c(O,null,I.explicitOrderBy.slice(),I.filters.slice(),I.limit,I.limitType,I.startAt,I.endAt)}(n,p.child(c));return this.getDocumentsMatchingCollectionQuery(t,_,s,l).next(A=>{A.forEach((I,O)=>{d=d.insert(I,O)})})}).next(()=>d))}getDocumentsMatchingCollectionQuery(t,n,s,l){let c;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,s.largestBatchId).next(d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,s,c,l))).next(d=>{c.forEach((p,_)=>{const A=_.getKey();d.get(A)===null&&(d=d.insert(A,$e.newInvalidDocument(A)))});let g=hl();return d.forEach((p,_)=>{const A=c.get(p);A!==void 0&&yl(A.mutation,_,qn.empty(),Ie.now()),Jc(n,_)&&(g=g.insert(p,_))}),g})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lw{constructor(t){this.serializer=t,this.kr=new Map,this.qr=new Map}getBundleMetadata(t,n){return Q.resolve(this.kr.get(n))}saveBundleMetadata(t,n){return this.kr.set(n.id,function(l){return{id:l.id,version:l.version,createTime:ci(l.createTime)}}(n)),Q.resolve()}getNamedQuery(t,n){return Q.resolve(this.qr.get(n))}saveNamedQuery(t,n){return this.qr.set(n.name,function(l){return{name:l.name,query:Zb(l.bundledQuery),readTime:ci(l.readTime)}}(n)),Q.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uw{constructor(){this.overlays=new se(dt.comparator),this.Qr=new Map}getOverlay(t,n){return Q.resolve(this.overlays.get(n))}getOverlays(t,n){const s=Ss();return Q.forEach(n,l=>this.getOverlay(t,l).next(c=>{c!==null&&s.set(l,c)})).next(()=>s)}saveOverlays(t,n,s){return s.forEach((l,c)=>{this.St(t,n,c)}),Q.resolve()}removeOverlaysForBatchId(t,n,s){const l=this.Qr.get(s);return l!==void 0&&(l.forEach(c=>this.overlays=this.overlays.remove(c)),this.Qr.delete(s)),Q.resolve()}getOverlaysForCollection(t,n,s){const l=Ss(),c=n.length+1,d=new dt(n.child("")),g=this.overlays.getIteratorFrom(d);for(;g.hasNext();){const p=g.getNext().value,_=p.getKey();if(!n.isPrefixOf(_.path))break;_.path.length===c&&p.largestBatchId>s&&l.set(p.getKey(),p)}return Q.resolve(l)}getOverlaysForCollectionGroup(t,n,s,l){let c=new se((_,A)=>_-A);const d=this.overlays.getIterator();for(;d.hasNext();){const _=d.getNext().value;if(_.getKey().getCollectionGroup()===n&&_.largestBatchId>s){let A=c.get(_.largestBatchId);A===null&&(A=Ss(),c=c.insert(_.largestBatchId,A)),A.set(_.getKey(),_)}}const g=Ss(),p=c.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((_,A)=>g.set(_,A)),!(g.size()>=l)););return Q.resolve(g)}St(t,n,s){const l=this.overlays.get(s.key);if(l!==null){const d=this.Qr.get(l.largestBatchId).delete(s.key);this.Qr.set(l.largestBatchId,d)}this.overlays=this.overlays.insert(s.key,new Cb(n,s));let c=this.Qr.get(n);c===void 0&&(c=xt(),this.Qr.set(n,c)),this.Qr.set(n,c.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cw{constructor(){this.sessionToken=qe.EMPTY_BYTE_STRING}getSessionToken(t){return Q.resolve(this.sessionToken)}setSessionToken(t,n){return this.sessionToken=n,Q.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gm{constructor(){this.$r=new Ce(Ve.Ur),this.Kr=new Ce(Ve.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(t,n){const s=new Ve(t,n);this.$r=this.$r.add(s),this.Kr=this.Kr.add(s)}Gr(t,n){t.forEach(s=>this.addReference(s,n))}removeReference(t,n){this.zr(new Ve(t,n))}jr(t,n){t.forEach(s=>this.removeReference(s,n))}Hr(t){const n=new dt(new ue([])),s=new Ve(n,t),l=new Ve(n,t+1),c=[];return this.Kr.forEachInRange([s,l],d=>{this.zr(d),c.push(d.key)}),c}Jr(){this.$r.forEach(t=>this.zr(t))}zr(t){this.$r=this.$r.delete(t),this.Kr=this.Kr.delete(t)}Yr(t){const n=new dt(new ue([])),s=new Ve(n,t),l=new Ve(n,t+1);let c=xt();return this.Kr.forEachInRange([s,l],d=>{c=c.add(d.key)}),c}containsKey(t){const n=new Ve(t,0),s=this.$r.firstAfterOrEqual(n);return s!==null&&t.isEqual(s.key)}}class Ve{constructor(t,n){this.key=t,this.Zr=n}static Ur(t,n){return dt.comparator(t.key,n.key)||It(t.Zr,n.Zr)}static Wr(t,n){return It(t.Zr,n.Zr)||dt.comparator(t.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hw{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.nr=1,this.Xr=new Ce(Ve.Ur)}checkEmpty(t){return Q.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,s,l){const c=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new Ib(c,n,s,l);this.mutationQueue.push(d);for(const g of l)this.Xr=this.Xr.add(new Ve(g.key,c)),this.indexManager.addToCollectionParentIndex(t,g.key.path.popLast());return Q.resolve(d)}lookupMutationBatch(t,n){return Q.resolve(this.ei(n))}getNextMutationBatchAfterBatchId(t,n){const s=n+1,l=this.ti(s),c=l<0?0:l;return Q.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return Q.resolve(this.mutationQueue.length===0?sm:this.nr-1)}getAllMutationBatches(t){return Q.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const s=new Ve(n,0),l=new Ve(n,Number.POSITIVE_INFINITY),c=[];return this.Xr.forEachInRange([s,l],d=>{const g=this.ei(d.Zr);c.push(g)}),Q.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(t,n){let s=new Ce(It);return n.forEach(l=>{const c=new Ve(l,0),d=new Ve(l,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([c,d],g=>{s=s.add(g.Zr)})}),Q.resolve(this.ni(s))}getAllMutationBatchesAffectingQuery(t,n){const s=n.path,l=s.length+1;let c=s;dt.isDocumentKey(c)||(c=c.child(""));const d=new Ve(new dt(c),0);let g=new Ce(It);return this.Xr.forEachWhile(p=>{const _=p.key.path;return!!s.isPrefixOf(_)&&(_.length===l&&(g=g.add(p.Zr)),!0)},d),Q.resolve(this.ni(g))}ni(t){const n=[];return t.forEach(s=>{const l=this.ei(s);l!==null&&n.push(l)}),n}removeMutationBatch(t,n){qt(this.ri(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Xr;return Q.forEach(n.mutations,l=>{const c=new Ve(l.key,n.batchId);return s=s.delete(c),this.referenceDelegate.markPotentiallyOrphaned(t,l.key)}).next(()=>{this.Xr=s})}sr(t){}containsKey(t,n){const s=new Ve(n,0),l=this.Xr.firstAfterOrEqual(s);return Q.resolve(n.isEqual(l&&l.key))}performConsistencyCheck(t){return this.mutationQueue.length,Q.resolve()}ri(t,n){return this.ti(t)}ti(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}ei(t){const n=this.ti(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fw{constructor(t){this.ii=t,this.docs=function(){return new se(dt.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const s=n.key,l=this.docs.get(s),c=l?l.size:0,d=this.ii(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(t,s.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const s=this.docs.get(n);return Q.resolve(s?s.document.mutableCopy():$e.newInvalidDocument(n))}getEntries(t,n){let s=Fi();return n.forEach(l=>{const c=this.docs.get(l);s=s.insert(l,c?c.document.mutableCopy():$e.newInvalidDocument(l))}),Q.resolve(s)}getDocumentsMatchingQuery(t,n,s,l){let c=Fi();const d=n.path,g=new dt(d.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(g);for(;p.hasNext();){const{key:_,value:{document:A}}=p.getNext();if(!d.isPrefixOf(_.path))break;_.path.length>d.length+1||j1(B1(A),s)<=0||(l.has(A.key)||Jc(n,A))&&(c=c.insert(A.key,A.mutableCopy()))}return Q.resolve(c)}getAllFromCollectionGroup(t,n,s,l){_t(9500)}si(t,n){return Q.forEach(this.docs,s=>n(s))}newChangeBuffer(t){return new dw(this)}getSize(t){return Q.resolve(this.size)}}class dw extends sw{constructor(t){super(),this.Br=t}applyChanges(t){const n=[];return this.changes.forEach((s,l)=>{l.isValidDocument()?n.push(this.Br.addEntry(t,l)):this.Br.removeEntry(s)}),Q.waitFor(n)}getFromCache(t,n){return this.Br.getEntry(t,n)}getAllFromCache(t,n){return this.Br.getEntries(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mw{constructor(t){this.persistence=t,this.oi=new Os(n=>lm(n),um),this.lastRemoteSnapshotVersion=Et.min(),this.highestTargetId=0,this._i=0,this.ai=new gm,this.targetCount=0,this.ui=Ba.cr()}forEachTarget(t,n){return this.oi.forEach((s,l)=>n(l)),Q.resolve()}getLastRemoteSnapshotVersion(t){return Q.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return Q.resolve(this._i)}allocateTargetId(t){return this.highestTargetId=this.ui.next(),Q.resolve(this.highestTargetId)}setTargetsMetadata(t,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this._i&&(this._i=n),Q.resolve()}Tr(t){this.oi.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.ui=new Ba(n),this.highestTargetId=n),t.sequenceNumber>this._i&&(this._i=t.sequenceNumber)}addTargetData(t,n){return this.Tr(n),this.targetCount+=1,Q.resolve()}updateTargetData(t,n){return this.Tr(n),Q.resolve()}removeTargetData(t,n){return this.oi.delete(n.target),this.ai.Hr(n.targetId),this.targetCount-=1,Q.resolve()}removeTargets(t,n,s){let l=0;const c=[];return this.oi.forEach((d,g)=>{g.sequenceNumber<=n&&s.get(g.targetId)===null&&(this.oi.delete(d),c.push(this.removeMatchingKeysForTargetId(t,g.targetId)),l++)}),Q.waitFor(c).next(()=>l)}getTargetCount(t){return Q.resolve(this.targetCount)}getTargetData(t,n){const s=this.oi.get(n)||null;return Q.resolve(s)}addMatchingKeys(t,n,s){return this.ai.Gr(n,s),Q.resolve()}removeMatchingKeys(t,n,s){this.ai.jr(n,s);const l=this.persistence.referenceDelegate,c=[];return l&&n.forEach(d=>{c.push(l.markPotentiallyOrphaned(t,d))}),Q.waitFor(c)}removeMatchingKeysForTargetId(t,n){return this.ai.Hr(n),Q.resolve()}getMatchingKeysForTargetId(t,n){const s=this.ai.Yr(n);return Q.resolve(s)}containsKey(t,n){return Q.resolve(this.ai.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $E{constructor(t,n){this.ci={},this.overlays={},this.li=new Qc(0),this.hi=!1,this.hi=!0,this.Pi=new cw,this.referenceDelegate=t(this),this.Ti=new mw(this),this.indexManager=new Jb,this.remoteDocumentCache=function(l){return new fw(l)}(s=>this.referenceDelegate.Ii(s)),this.serializer=new $b(n),this.Ei=new lw(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new uw,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let s=this.ci[t.toKey()];return s||(s=new hw(n,this.referenceDelegate),this.ci[t.toKey()]=s),s}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(t,n,s){rt("MemoryPersistence","Starting transaction:",t);const l=new gw(this.li.next());return this.referenceDelegate.di(),s(l).next(c=>this.referenceDelegate.Ai(l).next(()=>c)).toPromise().then(c=>(l.raiseOnCommittedEvent(),c))}Ri(t,n){return Q.or(Object.values(this.ci).map(s=>()=>s.containsKey(t,n)))}}class gw extends H1{constructor(t){super(),this.currentSequenceNumber=t}}class pm{constructor(t){this.persistence=t,this.Vi=new gm,this.mi=null}static fi(t){return new pm(t)}get gi(){if(this.mi)return this.mi;throw _t(60996)}addReference(t,n,s){return this.Vi.addReference(s,n),this.gi.delete(s.toString()),Q.resolve()}removeReference(t,n,s){return this.Vi.removeReference(s,n),this.gi.add(s.toString()),Q.resolve()}markPotentiallyOrphaned(t,n){return this.gi.add(n.toString()),Q.resolve()}removeTarget(t,n){this.Vi.Hr(n.targetId).forEach(l=>this.gi.add(l.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(t,n.targetId).next(l=>{l.forEach(c=>this.gi.add(c.toString()))}).next(()=>s.removeTargetData(t,n))}di(){this.mi=new Set}Ai(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Q.forEach(this.gi,s=>{const l=dt.fromPath(s);return this.pi(t,l).next(c=>{c||n.removeEntry(l,Et.min())})}).next(()=>(this.mi=null,n.apply(t)))}updateLimboDocument(t,n){return this.pi(t,n).next(s=>{s?this.gi.delete(n.toString()):this.gi.add(n.toString())})}Ii(t){return 0}pi(t,n){return Q.or([()=>Q.resolve(this.Vi.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.Ri(t,n)])}}class kc{constructor(t,n){this.persistence=t,this.yi=new Os(s=>Y1(s.path),(s,l)=>s.isEqual(l)),this.garbageCollector=rw(this,n)}static fi(t,n){return new kc(t,n)}di(){}Ai(t){return Q.resolve()}forEachTarget(t,n){return this.persistence.getTargetCache().forEachTarget(t,n)}pr(t){const n=this.br(t);return this.persistence.getTargetCache().getTargetCount(t).next(s=>n.next(l=>s+l))}br(t){let n=0;return this.yr(t,s=>{n++}).next(()=>n)}yr(t,n){return Q.forEach(this.yi,(s,l)=>this.Dr(t,s,l).next(c=>c?Q.resolve():n(l)))}removeTargets(t,n,s){return this.persistence.getTargetCache().removeTargets(t,n,s)}removeOrphanedDocuments(t,n){let s=0;const l=this.persistence.getRemoteDocumentCache(),c=l.newChangeBuffer();return l.si(t,d=>this.Dr(t,d,n).next(g=>{g||(s++,c.removeEntry(d,Et.min()))})).next(()=>c.apply(t)).next(()=>s)}markPotentiallyOrphaned(t,n){return this.yi.set(n,t.currentSequenceNumber),Q.resolve()}removeTarget(t,n){const s=n.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,s)}addReference(t,n,s){return this.yi.set(s,t.currentSequenceNumber),Q.resolve()}removeReference(t,n,s){return this.yi.set(s,t.currentSequenceNumber),Q.resolve()}updateLimboDocument(t,n){return this.yi.set(n,t.currentSequenceNumber),Q.resolve()}Ii(t){let n=t.key.toString().length;return t.isFoundDocument()&&(n+=_c(t.data.value)),n}Dr(t,n,s){return Q.or([()=>this.persistence.Ri(t,n),()=>this.persistence.getTargetCache().containsKey(t,n),()=>{const l=this.yi.get(n);return Q.resolve(l!==void 0&&l>s)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ym{constructor(t,n,s,l){this.targetId=t,this.fromCache=n,this.ds=s,this.As=l}static Rs(t,n){let s=xt(),l=xt();for(const c of n.docChanges)switch(c.type){case 0:s=s.add(c.doc.key);break;case 1:l=l.add(c.doc.key)}return new ym(t,n.fromCache,s,l)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pw{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yw{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=function(){return cS()?8:G1(Ze())>0?6:4}()}initialize(t,n){this.ys=t,this.indexManager=n,this.Vs=!0}getDocumentsMatchingQuery(t,n,s,l){const c={result:null};return this.ws(t,n).next(d=>{c.result=d}).next(()=>{if(!c.result)return this.bs(t,n,l,s).next(d=>{c.result=d})}).next(()=>{if(c.result)return;const d=new pw;return this.Ss(t,n,d).next(g=>{if(c.result=g,this.fs)return this.Ds(t,n,d,g.size)})}).next(()=>c.result)}Ds(t,n,s,l){return s.documentReadCount<this.gs?(Ra()<=Mt.DEBUG&&rt("QueryEngine","SDK will not create cache indexes for query:",Ia(n),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),Q.resolve()):(Ra()<=Mt.DEBUG&&rt("QueryEngine","Query:",Ia(n),"scans",s.documentReadCount,"local documents and returns",l,"documents as results."),s.documentReadCount>this.ps*l?(Ra()<=Mt.DEBUG&&rt("QueryEngine","The SDK decides to create cache indexes for query:",Ia(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,ui(n))):Q.resolve())}ws(t,n){if(j_(n))return Q.resolve(null);let s=ui(n);return this.indexManager.getIndexType(t,s).next(l=>l===0?null:(n.limit!==null&&l===1&&(n=Bd(n,null,"F"),s=ui(n)),this.indexManager.getDocumentsMatchingTarget(t,s).next(c=>{const d=xt(...c);return this.ys.getDocuments(t,d).next(g=>this.indexManager.getMinOffset(t,s).next(p=>{const _=this.vs(n,g);return this.Cs(n,_,d,p.readTime)?this.ws(t,Bd(n,null,"F")):this.Fs(t,_,n,p)}))})))}bs(t,n,s,l){return j_(n)||l.isEqual(Et.min())?Q.resolve(null):this.ys.getDocuments(t,s).next(c=>{const d=this.vs(n,c);return this.Cs(n,d,s,l)?Q.resolve(null):(Ra()<=Mt.DEBUG&&rt("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),Ia(n)),this.Fs(t,d,n,z1(l,Tl)).next(g=>g))})}vs(t,n){let s=new Ce(IE(t));return n.forEach((l,c)=>{Jc(t,c)&&(s=s.add(c))}),s}Cs(t,n,s,l){if(t.limit===null)return!1;if(s.size!==n.size)return!0;const c=t.limitType==="F"?n.last():n.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(l)>0)}Ss(t,n,s){return Ra()<=Mt.DEBUG&&rt("QueryEngine","Using full collection scan to execute query:",Ia(n)),this.ys.getDocumentsMatchingQuery(t,n,Vr.min(),s)}Fs(t,n,s,l){return this.ys.getDocumentsMatchingQuery(t,s,l).next(c=>(n.forEach(d=>{c=c.insert(d.key,d)}),c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _m="LocalStore",_w=3e8;class vw{constructor(t,n,s,l){this.persistence=t,this.Ms=n,this.serializer=l,this.xs=new se(It),this.Os=new Os(c=>lm(c),um),this.Ns=new Map,this.Bs=t.getRemoteDocumentCache(),this.Ti=t.getTargetCache(),this.Ei=t.getBundleCache(),this.Ls(s)}Ls(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new ow(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>t.collect(n,this.xs))}}function Ew(r,t,n,s){return new vw(r,t,n,s)}async function ZE(r,t){const n=At(r);return await n.persistence.runTransaction("Handle user change","readonly",s=>{let l;return n.mutationQueue.getAllMutationBatches(s).next(c=>(l=c,n.Ls(t),n.mutationQueue.getAllMutationBatches(s))).next(c=>{const d=[],g=[];let p=xt();for(const _ of l){d.push(_.batchId);for(const A of _.mutations)p=p.add(A.key)}for(const _ of c){g.push(_.batchId);for(const A of _.mutations)p=p.add(A.key)}return n.localDocuments.getDocuments(s,p).next(_=>({ks:_,removedBatchIds:d,addedBatchIds:g}))})})}function Tw(r,t){const n=At(r);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const l=t.batch.keys(),c=n.Bs.newChangeBuffer({trackRemovals:!0});return function(g,p,_,A){const I=_.batch,O=I.keys();let H=Q.resolve();return O.forEach(X=>{H=H.next(()=>A.getEntry(p,X)).next(nt=>{const Z=_.docVersions.get(X);qt(Z!==null,48541),nt.version.compareTo(Z)<0&&(I.applyToRemoteDocument(nt,_),nt.isValidDocument()&&(nt.setReadTime(_.commitVersion),A.addEntry(nt)))})}),H.next(()=>g.mutationQueue.removeMutationBatch(p,I))}(n,s,t,c).next(()=>c.apply(s)).next(()=>n.mutationQueue.performConsistencyCheck(s)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(s,l,t.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(g){let p=xt();for(let _=0;_<g.mutationResults.length;++_)g.mutationResults[_].transformResults.length>0&&(p=p.add(g.batch.mutations[_].key));return p}(t))).next(()=>n.localDocuments.getDocuments(s,l))})}function JE(r){const t=At(r);return t.persistence.runTransaction("Get last remote snapshot version","readonly",n=>t.Ti.getLastRemoteSnapshotVersion(n))}function Aw(r,t){const n=At(r),s=t.snapshotVersion;let l=n.xs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",c=>{const d=n.Bs.newChangeBuffer({trackRemovals:!0});l=n.xs;const g=[];t.targetChanges.forEach((A,I)=>{const O=l.get(I);if(!O)return;g.push(n.Ti.removeMatchingKeys(c,A.removedDocuments,I).next(()=>n.Ti.addMatchingKeys(c,A.addedDocuments,I)));let H=O.withSequenceNumber(c.currentSequenceNumber);t.targetMismatches.get(I)!==null?H=H.withResumeToken(qe.EMPTY_BYTE_STRING,Et.min()).withLastLimboFreeSnapshotVersion(Et.min()):A.resumeToken.approximateByteSize()>0&&(H=H.withResumeToken(A.resumeToken,s)),l=l.insert(I,H),function(nt,Z,Tt){return nt.resumeToken.approximateByteSize()===0||Z.snapshotVersion.toMicroseconds()-nt.snapshotVersion.toMicroseconds()>=_w?!0:Tt.addedDocuments.size+Tt.modifiedDocuments.size+Tt.removedDocuments.size>0}(O,H,A)&&g.push(n.Ti.updateTargetData(c,H))});let p=Fi(),_=xt();if(t.documentUpdates.forEach(A=>{t.resolvedLimboDocuments.has(A)&&g.push(n.persistence.referenceDelegate.updateLimboDocument(c,A))}),g.push(Sw(c,d,t.documentUpdates).next(A=>{p=A.qs,_=A.Qs})),!s.isEqual(Et.min())){const A=n.Ti.getLastRemoteSnapshotVersion(c).next(I=>n.Ti.setTargetsMetadata(c,c.currentSequenceNumber,s));g.push(A)}return Q.waitFor(g).next(()=>d.apply(c)).next(()=>n.localDocuments.getLocalViewOfDocuments(c,p,_)).next(()=>p)}).then(c=>(n.xs=l,c))}function Sw(r,t,n){let s=xt(),l=xt();return n.forEach(c=>s=s.add(c)),t.getEntries(r,s).next(c=>{let d=Fi();return n.forEach((g,p)=>{const _=c.get(g);p.isFoundDocument()!==_.isFoundDocument()&&(l=l.add(g)),p.isNoDocument()&&p.version.isEqual(Et.min())?(t.removeEntry(g,p.readTime),d=d.insert(g,p)):!_.isValidDocument()||p.version.compareTo(_.version)>0||p.version.compareTo(_.version)===0&&_.hasPendingWrites?(t.addEntry(p),d=d.insert(g,p)):rt(_m,"Ignoring outdated watch update for ",g,". Current version:",_.version," Watch version:",p.version)}),{qs:d,Qs:l}})}function bw(r,t){const n=At(r);return n.persistence.runTransaction("Get next mutation batch","readonly",s=>(t===void 0&&(t=sm),n.mutationQueue.getNextMutationBatchAfterBatchId(s,t)))}function ww(r,t){const n=At(r);return n.persistence.runTransaction("Allocate target","readwrite",s=>{let l;return n.Ti.getTargetData(s,t).next(c=>c?(l=c,Q.resolve(l)):n.Ti.allocateTargetId(s).next(d=>(l=new Ir(t,d,"TargetPurposeListen",s.currentSequenceNumber),n.Ti.addTargetData(s,l).next(()=>l))))}).then(s=>{const l=n.xs.get(s.targetId);return(l===null||s.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(n.xs=n.xs.insert(s.targetId,s),n.Os.set(t,s.targetId)),s})}async function Fd(r,t,n){const s=At(r),l=s.xs.get(t),c=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",c,d=>s.persistence.referenceDelegate.removeTarget(d,l))}catch(d){if(!Ka(d))throw d;rt(_m,`Failed to update sequence numbers for target ${t}: ${d}`)}s.xs=s.xs.remove(t),s.Os.delete(l.target)}function tv(r,t,n){const s=At(r);let l=Et.min(),c=xt();return s.persistence.runTransaction("Execute query","readwrite",d=>function(p,_,A){const I=At(p),O=I.Os.get(A);return O!==void 0?Q.resolve(I.xs.get(O)):I.Ti.getTargetData(_,A)}(s,d,ui(t)).next(g=>{if(g)return l=g.lastLimboFreeSnapshotVersion,s.Ti.getMatchingKeysForTargetId(d,g.targetId).next(p=>{c=p})}).next(()=>s.Ms.getDocumentsMatchingQuery(d,t,n?l:Et.min(),n?c:xt())).next(g=>(Rw(s,fb(t),g),{documents:g,$s:c})))}function Rw(r,t,n){let s=r.Ns.get(t)||Et.min();n.forEach((l,c)=>{c.readTime.compareTo(s)>0&&(s=c.readTime)}),r.Ns.set(t,s)}class ev{constructor(){this.activeTargetIds=_b()}js(t){this.activeTargetIds=this.activeTargetIds.add(t)}Hs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}zs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class Iw{constructor(){this.xo=new ev,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,s){}addLocalQueryTarget(t,n=!0){return n&&this.xo.js(t),this.Oo[t]||"not-current"}updateQueryState(t,n,s){this.Oo[t]=n}removeLocalQueryTarget(t){this.xo.Hs(t)}isLocalQueryTarget(t){return this.xo.activeTargetIds.has(t)}clearQueryState(t){delete this.Oo[t]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(t){return this.xo.activeTargetIds.has(t)}start(){return this.xo=new ev,Promise.resolve()}handleUserChange(t,n,s){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cw{No(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nv="ConnectivityMonitor";class iv{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(t){this.Qo.push(t)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){rt(nv,"Network connectivity changed: AVAILABLE");for(const t of this.Qo)t(0)}qo(){rt(nv,"Network connectivity changed: UNAVAILABLE");for(const t of this.Qo)t(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let mc=null;function Yd(){return mc===null?mc=function(){return 268435456+Math.round(2147483648*Math.random())}():mc++,"0x"+mc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sd="RestConnection",Dw={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Ow{get Uo(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const n=t.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.Ko=n+"://"+t.host,this.Wo=`projects/${s}/databases/${l}`,this.Go=this.databaseId.database===Dc?`project_id=${s}`:`project_id=${s}&database_id=${l}`}zo(t,n,s,l,c){const d=Yd(),g=this.jo(t,n.toUriEncodedString());rt(Sd,`Sending RPC '${t}' ${d}:`,g,s);const p={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(p,l,c);const{host:_}=new URL(g),A=Ga(_);return this.Jo(t,g,p,s,A).then(I=>(rt(Sd,`Received RPC '${t}' ${d}: `,I),I),I=>{throw ka(Sd,`RPC '${t}' ${d} failed with error: `,I,"url: ",g,"request:",s),I})}Yo(t,n,s,l,c,d){return this.zo(t,n,s,l,c)}Ho(t,n,s){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Ya}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((l,c)=>t[c]=l),s&&s.headers.forEach((l,c)=>t[c]=l)}jo(t,n){const s=Dw[t];return`${this.Ko}/v1/${n}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nw{constructor(t){this.Zo=t.Zo,this.Xo=t.Xo}e_(t){this.t_=t}n_(t){this.r_=t}i_(t){this.s_=t}onMessage(t){this.o_=t}close(){this.Xo()}send(t){this.Zo(t)}__(){this.t_()}a_(){this.r_()}u_(t){this.s_(t)}c_(t){this.o_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ke="WebChannelConnection";class Mw extends Ow{constructor(t){super(t),this.l_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,n,s,l,c){const d=Yd();return new Promise((g,p)=>{const _=new eE;_.setWithCredentials(!0),_.listenOnce(nE.COMPLETE,()=>{try{switch(_.getLastErrorCode()){case yc.NO_ERROR:const I=_.getResponseJson();rt(Ke,`XHR for RPC '${t}' ${d} received:`,JSON.stringify(I)),g(I);break;case yc.TIMEOUT:rt(Ke,`RPC '${t}' ${d} timed out`),p(new ft($.DEADLINE_EXCEEDED,"Request time out"));break;case yc.HTTP_ERROR:const O=_.getStatus();if(rt(Ke,`RPC '${t}' ${d} failed with status:`,O,"response text:",_.getResponseText()),O>0){let H=_.getResponseJson();Array.isArray(H)&&(H=H[0]);const X=H==null?void 0:H.error;if(X&&X.status&&X.message){const nt=function(Tt){const ct=Tt.toLowerCase().replace(/_/g,"-");return Object.values($).indexOf(ct)>=0?ct:$.UNKNOWN}(X.status);p(new ft(nt,X.message))}else p(new ft($.UNKNOWN,"Server responded with status "+_.getStatus()))}else p(new ft($.UNAVAILABLE,"Connection failed."));break;default:_t(9055,{h_:t,streamId:d,P_:_.getLastErrorCode(),T_:_.getLastError()})}}finally{rt(Ke,`RPC '${t}' ${d} completed.`)}});const A=JSON.stringify(l);rt(Ke,`RPC '${t}' ${d} sending request:`,l),_.send(n,"POST",A,s,15)})}I_(t,n,s){const l=Yd(),c=[this.Ko,"/","google.firestore.v1.Firestore","/",t,"/channel"],d=sE(),g=rE(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;_!==void 0&&(p.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Ho(p.initMessageHeaders,n,s),p.encodeInitMessageHeaders=!0;const A=c.join("");rt(Ke,`Creating RPC '${t}' stream ${l}: ${A}`,p);const I=d.createWebChannel(A,p);this.E_(I);let O=!1,H=!1;const X=new Nw({Zo:Z=>{H?rt(Ke,`Not sending because RPC '${t}' stream ${l} is closed:`,Z):(O||(rt(Ke,`Opening RPC '${t}' stream ${l} transport.`),I.open(),O=!0),rt(Ke,`RPC '${t}' stream ${l} sending:`,Z),I.send(Z))},Xo:()=>I.close()}),nt=(Z,Tt,ct)=>{Z.listen(Tt,lt=>{try{ct(lt)}catch(St){setTimeout(()=>{throw St},0)}})};return nt(I,cl.EventType.OPEN,()=>{H||(rt(Ke,`RPC '${t}' stream ${l} transport opened.`),X.__())}),nt(I,cl.EventType.CLOSE,()=>{H||(H=!0,rt(Ke,`RPC '${t}' stream ${l} transport closed`),X.u_(),this.d_(I))}),nt(I,cl.EventType.ERROR,Z=>{H||(H=!0,ka(Ke,`RPC '${t}' stream ${l} transport errored. Name:`,Z.name,"Message:",Z.message),X.u_(new ft($.UNAVAILABLE,"The operation could not be completed")))}),nt(I,cl.EventType.MESSAGE,Z=>{var Tt;if(!H){const ct=Z.data[0];qt(!!ct,16349);const lt=ct,St=(lt==null?void 0:lt.error)||((Tt=lt[0])===null||Tt===void 0?void 0:Tt.error);if(St){rt(Ke,`RPC '${t}' stream ${l} received error:`,St);const vt=St.status;let Dt=function(w){const N=Ee[w];if(N!==void 0)return zE(N)}(vt),M=St.message;Dt===void 0&&(Dt=$.INTERNAL,M="Unknown error status: "+vt+" with message "+St.message),H=!0,X.u_(new ft(Dt,M)),I.close()}else rt(Ke,`RPC '${t}' stream ${l} received:`,ct),X.c_(ct)}}),nt(g,iE.STAT_EVENT,Z=>{Z.stat===Vd.PROXY?rt(Ke,`RPC '${t}' stream ${l} detected buffering proxy`):Z.stat===Vd.NOPROXY&&rt(Ke,`RPC '${t}' stream ${l} detected no buffering proxy`)}),setTimeout(()=>{X.a_()},0),X}terminate(){this.l_.forEach(t=>t.close()),this.l_=[]}E_(t){this.l_.push(t)}d_(t){this.l_=this.l_.filter(n=>n===t)}}function bd(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nh(r){return new kb(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WE{constructor(t,n,s=1e3,l=1.5,c=6e4){this.xi=t,this.timerId=n,this.A_=s,this.R_=l,this.V_=c,this.m_=0,this.f_=null,this.g_=Date.now(),this.reset()}reset(){this.m_=0}p_(){this.m_=this.V_}y_(t){this.cancel();const n=Math.floor(this.m_+this.w_()),s=Math.max(0,Date.now()-this.g_),l=Math.max(0,n-s);l>0&&rt("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.m_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.f_=this.xi.enqueueAfterDelay(this.timerId,l,()=>(this.g_=Date.now(),t())),this.m_*=this.R_,this.m_<this.A_&&(this.m_=this.A_),this.m_>this.V_&&(this.m_=this.V_)}b_(){this.f_!==null&&(this.f_.skipDelay(),this.f_=null)}cancel(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}w_(){return(Math.random()-.5)*this.m_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rv="PersistentStream";class t0{constructor(t,n,s,l,c,d,g,p){this.xi=t,this.S_=s,this.D_=l,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=g,this.listener=p,this.state=0,this.v_=0,this.C_=null,this.F_=null,this.stream=null,this.M_=0,this.x_=new WE(t,n)}O_(){return this.state===1||this.state===5||this.N_()}N_(){return this.state===2||this.state===3}start(){this.M_=0,this.state!==4?this.auth():this.B_()}async stop(){this.O_()&&await this.close(0)}L_(){this.state=0,this.x_.reset()}k_(){this.N_()&&this.C_===null&&(this.C_=this.xi.enqueueAfterDelay(this.S_,6e4,()=>this.q_()))}Q_(t){this.U_(),this.stream.send(t)}async q_(){if(this.N_())return this.close(0)}U_(){this.C_&&(this.C_.cancel(),this.C_=null)}K_(){this.F_&&(this.F_.cancel(),this.F_=null)}async close(t,n){this.U_(),this.K_(),this.x_.cancel(),this.v_++,t!==4?this.x_.reset():n&&n.code===$.RESOURCE_EXHAUSTED?(Gi(n.toString()),Gi("Using maximum backoff delay to prevent overloading the backend."),this.x_.p_()):n&&n.code===$.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.i_(n)}W_(){}auth(){this.state=1;const t=this.G_(this.v_),n=this.v_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,l])=>{this.v_===n&&this.z_(s,l)},s=>{t(()=>{const l=new ft($.UNKNOWN,"Fetching auth token failed: "+s.message);return this.j_(l)})})}z_(t,n){const s=this.G_(this.v_);this.stream=this.H_(t,n),this.stream.e_(()=>{s(()=>this.listener.e_())}),this.stream.n_(()=>{s(()=>(this.state=2,this.F_=this.xi.enqueueAfterDelay(this.D_,1e4,()=>(this.N_()&&(this.state=3),Promise.resolve())),this.listener.n_()))}),this.stream.i_(l=>{s(()=>this.j_(l))}),this.stream.onMessage(l=>{s(()=>++this.M_==1?this.J_(l):this.onNext(l))})}B_(){this.state=5,this.x_.y_(async()=>{this.state=0,this.start()})}j_(t){return rt(rv,`close with error: ${t}`),this.stream=null,this.close(4,t)}G_(t){return n=>{this.xi.enqueueAndForget(()=>this.v_===t?n():(rt(rv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class xw extends t0{constructor(t,n,s,l,c,d){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,l,d),this.serializer=c}H_(t,n){return this.connection.I_("Listen",t,n)}J_(t){return this.onNext(t)}onNext(t){this.x_.reset();const n=zb(this.serializer,t),s=function(c){if(!("targetChange"in c))return Et.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?Et.min():d.readTime?ci(d.readTime):Et.min()}(t);return this.listener.Y_(n,s)}Z_(t){const n={};n.database=Gd(this.serializer),n.addTarget=function(c,d){let g;const p=d.target;if(g=zd(p)?{documents:qb(c,p)}:{query:Hb(c,p).gt},g.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){g.resumeToken=qE(c,d.resumeToken);const _=jd(c,d.expectedCount);_!==null&&(g.expectedCount=_)}else if(d.snapshotVersion.compareTo(Et.min())>0){g.readTime=Pc(c,d.snapshotVersion.toTimestamp());const _=jd(c,d.expectedCount);_!==null&&(g.expectedCount=_)}return g}(this.serializer,t);const s=Fb(this.serializer,t);s&&(n.labels=s),this.Q_(n)}X_(t){const n={};n.database=Gd(this.serializer),n.removeTarget=t,this.Q_(n)}}class Vw extends t0{constructor(t,n,s,l,c,d){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,l,d),this.serializer=c}get ea(){return this.M_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.ea&&this.ta([])}H_(t,n){return this.connection.I_("Write",t,n)}J_(t){return qt(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,qt(!t.writeResults||t.writeResults.length===0,55816),this.listener.na()}onNext(t){qt(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.x_.reset();const n=jb(t.writeResults,t.commitTime),s=ci(t.commitTime);return this.listener.ra(s,n)}ia(){const t={};t.database=Gd(this.serializer),this.Q_(t)}ta(t){const n={streamToken:this.lastStreamToken,writes:t.map(s=>Bb(this.serializer,s))};this.Q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pw{}class kw extends Pw{constructor(t,n,s,l){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=s,this.serializer=l,this.sa=!1}oa(){if(this.sa)throw new ft($.FAILED_PRECONDITION,"The client has already been terminated.")}zo(t,n,s,l){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,d])=>this.connection.zo(t,qd(n,s),l,c,d)).catch(c=>{throw c.name==="FirebaseError"?(c.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ft($.UNKNOWN,c.toString())})}Yo(t,n,s,l,c){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([d,g])=>this.connection.Yo(t,qd(n,s),l,d,g,c)).catch(d=>{throw d.name==="FirebaseError"?(d.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new ft($.UNKNOWN,d.toString())})}terminate(){this.sa=!0,this.connection.terminate()}}class Uw{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this._a=0,this.aa=null,this.ua=!0}ca(){this._a===0&&(this.la("Unknown"),this.aa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.aa=null,this.ha("Backend didn't respond within 10 seconds."),this.la("Offline"),Promise.resolve())))}Pa(t){this.state==="Online"?this.la("Unknown"):(this._a++,this._a>=1&&(this.Ta(),this.ha(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.la("Offline")))}set(t){this.Ta(),this._a=0,t==="Online"&&(this.ua=!1),this.la(t)}la(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}ha(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ua?(Gi(n),this.ua=!1):rt("OnlineStateTracker",n)}Ta(){this.aa!==null&&(this.aa.cancel(),this.aa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Is="RemoteStore";class Lw{constructor(t,n,s,l,c){this.localStore=t,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ia=[],this.Ea=new Map,this.da=new Set,this.Aa=[],this.Ra=c,this.Ra.No(d=>{s.enqueueAndForget(async()=>{Ms(this)&&(rt(Is,"Restarting streams for network reachability change."),await async function(p){const _=At(p);_.da.add(4),await Pl(_),_.Va.set("Unknown"),_.da.delete(4),await ih(_)}(this))})}),this.Va=new Uw(s,l)}}async function ih(r){if(Ms(r))for(const t of r.Aa)await t(!0)}async function Pl(r){for(const t of r.Aa)await t(!1)}function e0(r,t){const n=At(r);n.Ea.has(t.targetId)||(n.Ea.set(t.targetId,t),Am(n)?Tm(n):Xa(n).N_()&&Em(n,t))}function vm(r,t){const n=At(r),s=Xa(n);n.Ea.delete(t),s.N_()&&n0(n,t),n.Ea.size===0&&(s.N_()?s.k_():Ms(n)&&n.Va.set("Unknown"))}function Em(r,t){if(r.ma.Ke(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Et.min())>0){const n=r.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}Xa(r).Z_(t)}function n0(r,t){r.ma.Ke(t),Xa(r).X_(t)}function Tm(r){r.ma=new Mb({getRemoteKeysForTarget:t=>r.remoteSyncer.getRemoteKeysForTarget(t),Rt:t=>r.Ea.get(t)||null,Pt:()=>r.datastore.serializer.databaseId}),Xa(r).start(),r.Va.ca()}function Am(r){return Ms(r)&&!Xa(r).O_()&&r.Ea.size>0}function Ms(r){return At(r).da.size===0}function i0(r){r.ma=void 0}async function zw(r){r.Va.set("Online")}async function Bw(r){r.Ea.forEach((t,n)=>{Em(r,t)})}async function jw(r,t){i0(r),Am(r)?(r.Va.Pa(t),Tm(r)):r.Va.set("Unknown")}async function qw(r,t,n){if(r.Va.set("Online"),t instanceof jE&&t.state===2&&t.cause)try{await async function(l,c){const d=c.cause;for(const g of c.targetIds)l.Ea.has(g)&&(await l.remoteSyncer.rejectListen(g,d),l.Ea.delete(g),l.ma.removeTarget(g))}(r,t)}catch(s){rt(Is,"Failed to remove targets %s: %s ",t.targetIds.join(","),s),await Uc(r,s)}else if(t instanceof Tc?r.ma.Xe(t):t instanceof BE?r.ma.ot(t):r.ma.nt(t),!n.isEqual(Et.min()))try{const s=await JE(r.localStore);n.compareTo(s)>=0&&await function(c,d){const g=c.ma.It(d);return g.targetChanges.forEach((p,_)=>{if(p.resumeToken.approximateByteSize()>0){const A=c.Ea.get(_);A&&c.Ea.set(_,A.withResumeToken(p.resumeToken,d))}}),g.targetMismatches.forEach((p,_)=>{const A=c.Ea.get(p);if(!A)return;c.Ea.set(p,A.withResumeToken(qe.EMPTY_BYTE_STRING,A.snapshotVersion)),n0(c,p);const I=new Ir(A.target,p,_,A.sequenceNumber);Em(c,I)}),c.remoteSyncer.applyRemoteEvent(g)}(r,n)}catch(s){rt(Is,"Failed to raise snapshot:",s),await Uc(r,s)}}async function Uc(r,t,n){if(!Ka(t))throw t;r.da.add(1),await Pl(r),r.Va.set("Offline"),n||(n=()=>JE(r.localStore)),r.asyncQueue.enqueueRetryable(async()=>{rt(Is,"Retrying IndexedDB access"),await n(),r.da.delete(1),await ih(r)})}function r0(r,t){return t().catch(n=>Uc(r,n,t))}async function rh(r){const t=At(r),n=Lr(t);let s=t.Ia.length>0?t.Ia[t.Ia.length-1].batchId:sm;for(;Hw(t);)try{const l=await bw(t.localStore,s);if(l===null){t.Ia.length===0&&n.k_();break}s=l.batchId,Gw(t,l)}catch(l){await Uc(t,l)}s0(t)&&a0(t)}function Hw(r){return Ms(r)&&r.Ia.length<10}function Gw(r,t){r.Ia.push(t);const n=Lr(r);n.N_()&&n.ea&&n.ta(t.mutations)}function s0(r){return Ms(r)&&!Lr(r).O_()&&r.Ia.length>0}function a0(r){Lr(r).start()}async function Fw(r){Lr(r).ia()}async function Yw(r){const t=Lr(r);for(const n of r.Ia)t.ta(n.mutations)}async function Qw(r,t,n){const s=r.Ia.shift(),l=fm.from(s,t,n);await r0(r,()=>r.remoteSyncer.applySuccessfulWrite(l)),await rh(r)}async function Kw(r,t){t&&Lr(r).ea&&await async function(s,l){if(function(d){return Ob(d)&&d!==$.ABORTED}(l.code)){const c=s.Ia.shift();Lr(s).L_(),await r0(s,()=>s.remoteSyncer.rejectFailedWrite(c.batchId,l)),await rh(s)}}(r,t),s0(r)&&a0(r)}async function sv(r,t){const n=At(r);n.asyncQueue.verifyOperationInProgress(),rt(Is,"RemoteStore received new credentials");const s=Ms(n);n.da.add(3),await Pl(n),s&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.da.delete(3),await ih(n)}async function Xw(r,t){const n=At(r);t?(n.da.delete(2),await ih(n)):t||(n.da.add(2),await Pl(n),n.Va.set("Unknown"))}function Xa(r){return r.fa||(r.fa=function(n,s,l){const c=At(n);return c.oa(),new xw(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)}(r.datastore,r.asyncQueue,{e_:zw.bind(null,r),n_:Bw.bind(null,r),i_:jw.bind(null,r),Y_:qw.bind(null,r)}),r.Aa.push(async t=>{t?(r.fa.L_(),Am(r)?Tm(r):r.Va.set("Unknown")):(await r.fa.stop(),i0(r))})),r.fa}function Lr(r){return r.ga||(r.ga=function(n,s,l){const c=At(n);return c.oa(),new Vw(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)}(r.datastore,r.asyncQueue,{e_:()=>Promise.resolve(),n_:Fw.bind(null,r),i_:Kw.bind(null,r),na:Yw.bind(null,r),ra:Qw.bind(null,r)}),r.Aa.push(async t=>{t?(r.ga.L_(),await rh(r)):(await r.ga.stop(),r.Ia.length>0&&(rt(Is,`Stopping write stream with ${r.Ia.length} pending writes`),r.Ia=[]))})),r.ga}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sm{constructor(t,n,s,l,c){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=s,this.op=l,this.removalCallback=c,this.deferred=new Mr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(d=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,n,s,l,c){const d=Date.now()+s,g=new Sm(t,n,d,l,c);return g.start(s),g}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ft($.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function bm(r,t){if(Gi("AsyncQueue",`${t}: ${r}`),Ka(r))return new ft($.UNAVAILABLE,`${t}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Na{static emptySet(t){return new Na(t.comparator)}constructor(t){this.comparator=t?(n,s)=>t(n,s)||dt.comparator(n.key,s.key):(n,s)=>dt.comparator(n.key,s.key),this.keyedMap=hl(),this.sortedSet=new se(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((n,s)=>(t(n),!1))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof Na)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),s=t.sortedSet.getIterator();for(;n.hasNext();){const l=n.getNext().key,c=s.getNext().key;if(!l.isEqual(c))return!1}return!0}toString(){const t=[];return this.forEach(n=>{t.push(n.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const s=new Na;return s.comparator=this.comparator,s.keyedMap=t,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class av{constructor(){this.pa=new se(dt.comparator)}track(t){const n=t.doc.key,s=this.pa.get(n);s?t.type!==0&&s.type===3?this.pa=this.pa.insert(n,t):t.type===3&&s.type!==1?this.pa=this.pa.insert(n,{type:s.type,doc:t.doc}):t.type===2&&s.type===2?this.pa=this.pa.insert(n,{type:2,doc:t.doc}):t.type===2&&s.type===0?this.pa=this.pa.insert(n,{type:0,doc:t.doc}):t.type===1&&s.type===0?this.pa=this.pa.remove(n):t.type===1&&s.type===2?this.pa=this.pa.insert(n,{type:1,doc:s.doc}):t.type===0&&s.type===1?this.pa=this.pa.insert(n,{type:2,doc:t.doc}):_t(63341,{Vt:t,ya:s}):this.pa=this.pa.insert(n,t)}wa(){const t=[];return this.pa.inorderTraversal((n,s)=>{t.push(s)}),t}}class ja{constructor(t,n,s,l,c,d,g,p,_){this.query=t,this.docs=n,this.oldDocs=s,this.docChanges=l,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=g,this.excludesMetadataChanges=p,this.hasCachedResults=_}static fromInitialDocuments(t,n,s,l,c){const d=[];return n.forEach(g=>{d.push({type:0,doc:g})}),new ja(t,n,Na.emptySet(n),d,s,l,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Zc(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,s=t.docChanges;if(n.length!==s.length)return!1;for(let l=0;l<n.length;l++)if(n[l].type!==s[l].type||!n[l].doc.isEqual(s[l].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $w{constructor(){this.ba=void 0,this.Sa=[]}Da(){return this.Sa.some(t=>t.va())}}class Zw{constructor(){this.queries=ov(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const l=At(n),c=l.queries;l.queries=ov(),c.forEach((d,g)=>{for(const p of g.Sa)p.onError(s)})})(this,new ft($.ABORTED,"Firestore shutting down"))}}function ov(){return new Os(r=>RE(r),Zc)}async function Jw(r,t){const n=At(r);let s=3;const l=t.query;let c=n.queries.get(l);c?!c.Da()&&t.va()&&(s=2):(c=new $w,s=t.va()?0:1);try{switch(s){case 0:c.ba=await n.onListen(l,!0);break;case 1:c.ba=await n.onListen(l,!1);break;case 2:await n.onFirstRemoteStoreListen(l)}}catch(d){const g=bm(d,`Initialization of query '${Ia(t.query)}' failed`);return void t.onError(g)}n.queries.set(l,c),c.Sa.push(t),t.Fa(n.onlineState),c.ba&&t.Ma(c.ba)&&wm(n)}async function Ww(r,t){const n=At(r),s=t.query;let l=3;const c=n.queries.get(s);if(c){const d=c.Sa.indexOf(t);d>=0&&(c.Sa.splice(d,1),c.Sa.length===0?l=t.va()?0:1:!c.Da()&&t.va()&&(l=2))}switch(l){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function tR(r,t){const n=At(r);let s=!1;for(const l of t){const c=l.query,d=n.queries.get(c);if(d){for(const g of d.Sa)g.Ma(l)&&(s=!0);d.ba=l}}s&&wm(n)}function eR(r,t,n){const s=At(r),l=s.queries.get(t);if(l)for(const c of l.Sa)c.onError(n);s.queries.delete(t)}function wm(r){r.Ca.forEach(t=>{t.next()})}var Qd,lv;(lv=Qd||(Qd={})).xa="default",lv.Cache="cache";class nR{constructor(t,n,s){this.query=t,this.Oa=n,this.Na=!1,this.Ba=null,this.onlineState="Unknown",this.options=s||{}}Ma(t){if(!this.options.includeMetadataChanges){const s=[];for(const l of t.docChanges)l.type!==3&&s.push(l);t=new ja(t.query,t.docs,t.oldDocs,s,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.Na?this.La(t)&&(this.Oa.next(t),n=!0):this.ka(t,this.onlineState)&&(this.qa(t),n=!0),this.Ba=t,n}onError(t){this.Oa.error(t)}Fa(t){this.onlineState=t;let n=!1;return this.Ba&&!this.Na&&this.ka(this.Ba,t)&&(this.qa(this.Ba),n=!0),n}ka(t,n){if(!t.fromCache||!this.va())return!0;const s=n!=="Offline";return(!this.options.Qa||!s)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}La(t){if(t.docChanges.length>0)return!0;const n=this.Ba&&this.Ba.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}qa(t){t=ja.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Na=!0,this.Oa.next(t)}va(){return this.options.source!==Qd.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o0{constructor(t){this.key=t}}class l0{constructor(t){this.key=t}}class iR{constructor(t,n){this.query=t,this.Ha=n,this.Ja=null,this.hasCachedResults=!1,this.current=!1,this.Ya=xt(),this.mutatedKeys=xt(),this.Za=IE(t),this.Xa=new Na(this.Za)}get eu(){return this.Ha}tu(t,n){const s=n?n.nu:new av,l=n?n.Xa:this.Xa;let c=n?n.mutatedKeys:this.mutatedKeys,d=l,g=!1;const p=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,_=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(t.inorderTraversal((A,I)=>{const O=l.get(A),H=Jc(this.query,I)?I:null,X=!!O&&this.mutatedKeys.has(O.key),nt=!!H&&(H.hasLocalMutations||this.mutatedKeys.has(H.key)&&H.hasCommittedMutations);let Z=!1;O&&H?O.data.isEqual(H.data)?X!==nt&&(s.track({type:3,doc:H}),Z=!0):this.ru(O,H)||(s.track({type:2,doc:H}),Z=!0,(p&&this.Za(H,p)>0||_&&this.Za(H,_)<0)&&(g=!0)):!O&&H?(s.track({type:0,doc:H}),Z=!0):O&&!H&&(s.track({type:1,doc:O}),Z=!0,(p||_)&&(g=!0)),Z&&(H?(d=d.add(H),c=nt?c.add(A):c.delete(A)):(d=d.delete(A),c=c.delete(A)))}),this.query.limit!==null)for(;d.size>this.query.limit;){const A=this.query.limitType==="F"?d.last():d.first();d=d.delete(A.key),c=c.delete(A.key),s.track({type:1,doc:A})}return{Xa:d,nu:s,Cs:g,mutatedKeys:c}}ru(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,s,l){const c=this.Xa;this.Xa=t.Xa,this.mutatedKeys=t.mutatedKeys;const d=t.nu.wa();d.sort((A,I)=>function(H,X){const nt=Z=>{switch(Z){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return _t(20277,{Vt:Z})}};return nt(H)-nt(X)}(A.type,I.type)||this.Za(A.doc,I.doc)),this.iu(s),l=l!=null&&l;const g=n&&!l?this.su():[],p=this.Ya.size===0&&this.current&&!l?1:0,_=p!==this.Ja;return this.Ja=p,d.length!==0||_?{snapshot:new ja(this.query,t.Xa,c,d,t.mutatedKeys,p===0,_,!1,!!s&&s.resumeToken.approximateByteSize()>0),ou:g}:{ou:g}}Fa(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({Xa:this.Xa,nu:new av,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{ou:[]}}_u(t){return!this.Ha.has(t)&&!!this.Xa.has(t)&&!this.Xa.get(t).hasLocalMutations}iu(t){t&&(t.addedDocuments.forEach(n=>this.Ha=this.Ha.add(n)),t.modifiedDocuments.forEach(n=>{}),t.removedDocuments.forEach(n=>this.Ha=this.Ha.delete(n)),this.current=t.current)}su(){if(!this.current)return[];const t=this.Ya;this.Ya=xt(),this.Xa.forEach(s=>{this._u(s.key)&&(this.Ya=this.Ya.add(s.key))});const n=[];return t.forEach(s=>{this.Ya.has(s)||n.push(new l0(s))}),this.Ya.forEach(s=>{t.has(s)||n.push(new o0(s))}),n}au(t){this.Ha=t.$s,this.Ya=xt();const n=this.tu(t.documents);return this.applyChanges(n,!0)}uu(){return ja.fromInitialDocuments(this.query,this.Xa,this.mutatedKeys,this.Ja===0,this.hasCachedResults)}}const Rm="SyncEngine";class rR{constructor(t,n,s){this.query=t,this.targetId=n,this.view=s}}class sR{constructor(t){this.key=t,this.cu=!1}}class aR{constructor(t,n,s,l,c,d){this.localStore=t,this.remoteStore=n,this.eventManager=s,this.sharedClientState=l,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.lu={},this.hu=new Os(g=>RE(g),Zc),this.Pu=new Map,this.Tu=new Set,this.Iu=new se(dt.comparator),this.Eu=new Map,this.du=new gm,this.Au={},this.Ru=new Map,this.Vu=Ba.lr(),this.onlineState="Unknown",this.mu=void 0}get isPrimaryClient(){return this.mu===!0}}async function oR(r,t,n=!0){const s=m0(r);let l;const c=s.hu.get(t);return c?(s.sharedClientState.addLocalQueryTarget(c.targetId),l=c.view.uu()):l=await u0(s,t,n,!0),l}async function lR(r,t){const n=m0(r);await u0(n,t,!0,!1)}async function u0(r,t,n,s){const l=await ww(r.localStore,ui(t)),c=l.targetId,d=r.sharedClientState.addLocalQueryTarget(c,n);let g;return s&&(g=await uR(r,t,c,d==="current",l.resumeToken)),r.isPrimaryClient&&n&&e0(r.remoteStore,l),g}async function uR(r,t,n,s,l){r.fu=(I,O,H)=>async function(nt,Z,Tt,ct){let lt=Z.view.tu(Tt);lt.Cs&&(lt=await tv(nt.localStore,Z.query,!1).then(({documents:M})=>Z.view.tu(M,lt)));const St=ct&&ct.targetChanges.get(Z.targetId),vt=ct&&ct.targetMismatches.get(Z.targetId)!=null,Dt=Z.view.applyChanges(lt,nt.isPrimaryClient,St,vt);return cv(nt,Z.targetId,Dt.ou),Dt.snapshot}(r,I,O,H);const c=await tv(r.localStore,t,!0),d=new iR(t,c.$s),g=d.tu(c.documents),p=Vl.createSynthesizedTargetChangeForCurrentChange(n,s&&r.onlineState!=="Offline",l),_=d.applyChanges(g,r.isPrimaryClient,p);cv(r,n,_.ou);const A=new rR(t,n,d);return r.hu.set(t,A),r.Pu.has(n)?r.Pu.get(n).push(t):r.Pu.set(n,[t]),_.snapshot}async function cR(r,t,n){const s=At(r),l=s.hu.get(t),c=s.Pu.get(l.targetId);if(c.length>1)return s.Pu.set(l.targetId,c.filter(d=>!Zc(d,t))),void s.hu.delete(t);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(l.targetId),s.sharedClientState.isActiveQueryTarget(l.targetId)||await Fd(s.localStore,l.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(l.targetId),n&&vm(s.remoteStore,l.targetId),Kd(s,l.targetId)}).catch(Qa)):(Kd(s,l.targetId),await Fd(s.localStore,l.targetId,!0))}async function hR(r,t){const n=At(r),s=n.hu.get(t),l=n.Pu.get(s.targetId);n.isPrimaryClient&&l.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),vm(n.remoteStore,s.targetId))}async function fR(r,t,n){const s=vR(r);try{const l=await function(d,g){const p=At(d),_=Ie.now(),A=g.reduce((H,X)=>H.add(X.key),xt());let I,O;return p.persistence.runTransaction("Locally write mutations","readwrite",H=>{let X=Fi(),nt=xt();return p.Bs.getEntries(H,A).next(Z=>{X=Z,X.forEach((Tt,ct)=>{ct.isValidDocument()||(nt=nt.add(Tt))})}).next(()=>p.localDocuments.getOverlayedDocuments(H,X)).next(Z=>{I=Z;const Tt=[];for(const ct of g){const lt=wb(ct,I.get(ct.key).overlayedDocument);lt!=null&&Tt.push(new Ns(ct.key,lt,vE(lt.value.mapValue),qi.exists(!0)))}return p.mutationQueue.addMutationBatch(H,_,Tt,g)}).next(Z=>{O=Z;const Tt=Z.applyToLocalDocumentSet(I,nt);return p.documentOverlayCache.saveOverlays(H,Z.batchId,Tt)})}).then(()=>({batchId:O.batchId,changes:DE(I)}))}(s.localStore,t);s.sharedClientState.addPendingMutation(l.batchId),function(d,g,p){let _=d.Au[d.currentUser.toKey()];_||(_=new se(It)),_=_.insert(g,p),d.Au[d.currentUser.toKey()]=_}(s,l.batchId,n),await kl(s,l.changes),await rh(s.remoteStore)}catch(l){const c=bm(l,"Failed to persist write");n.reject(c)}}async function c0(r,t){const n=At(r);try{const s=await Aw(n.localStore,t);t.targetChanges.forEach((l,c)=>{const d=n.Eu.get(c);d&&(qt(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?d.cu=!0:l.modifiedDocuments.size>0?qt(d.cu,14607):l.removedDocuments.size>0&&(qt(d.cu,42227),d.cu=!1))}),await kl(n,s,t)}catch(s){await Qa(s)}}function uv(r,t,n){const s=At(r);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const l=[];s.hu.forEach((c,d)=>{const g=d.view.Fa(t);g.snapshot&&l.push(g.snapshot)}),function(d,g){const p=At(d);p.onlineState=g;let _=!1;p.queries.forEach((A,I)=>{for(const O of I.Sa)O.Fa(g)&&(_=!0)}),_&&wm(p)}(s.eventManager,t),l.length&&s.lu.Y_(l),s.onlineState=t,s.isPrimaryClient&&s.sharedClientState.setOnlineState(t)}}async function dR(r,t,n){const s=At(r);s.sharedClientState.updateQueryState(t,"rejected",n);const l=s.Eu.get(t),c=l&&l.key;if(c){let d=new se(dt.comparator);d=d.insert(c,$e.newNoDocument(c,Et.min()));const g=xt().add(c),p=new eh(Et.min(),new Map,new se(It),d,g);await c0(s,p),s.Iu=s.Iu.remove(c),s.Eu.delete(t),Im(s)}else await Fd(s.localStore,t,!1).then(()=>Kd(s,t,n)).catch(Qa)}async function mR(r,t){const n=At(r),s=t.batch.batchId;try{const l=await Tw(n.localStore,t);f0(n,s,null),h0(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await kl(n,l)}catch(l){await Qa(l)}}async function gR(r,t,n){const s=At(r);try{const l=await function(d,g){const p=At(d);return p.persistence.runTransaction("Reject batch","readwrite-primary",_=>{let A;return p.mutationQueue.lookupMutationBatch(_,g).next(I=>(qt(I!==null,37113),A=I.keys(),p.mutationQueue.removeMutationBatch(_,I))).next(()=>p.mutationQueue.performConsistencyCheck(_)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(_,A,g)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,A)).next(()=>p.localDocuments.getDocuments(_,A))})}(s.localStore,t);f0(s,t,n),h0(s,t),s.sharedClientState.updateMutationState(t,"rejected",n),await kl(s,l)}catch(l){await Qa(l)}}function h0(r,t){(r.Ru.get(t)||[]).forEach(n=>{n.resolve()}),r.Ru.delete(t)}function f0(r,t,n){const s=At(r);let l=s.Au[s.currentUser.toKey()];if(l){const c=l.get(t);c&&(n?c.reject(n):c.resolve(),l=l.remove(t)),s.Au[s.currentUser.toKey()]=l}}function Kd(r,t,n=null){r.sharedClientState.removeLocalQueryTarget(t);for(const s of r.Pu.get(t))r.hu.delete(s),n&&r.lu.gu(s,n);r.Pu.delete(t),r.isPrimaryClient&&r.du.Hr(t).forEach(s=>{r.du.containsKey(s)||d0(r,s)})}function d0(r,t){r.Tu.delete(t.path.canonicalString());const n=r.Iu.get(t);n!==null&&(vm(r.remoteStore,n),r.Iu=r.Iu.remove(t),r.Eu.delete(n),Im(r))}function cv(r,t,n){for(const s of n)s instanceof o0?(r.du.addReference(s.key,t),pR(r,s)):s instanceof l0?(rt(Rm,"Document no longer in limbo: "+s.key),r.du.removeReference(s.key,t),r.du.containsKey(s.key)||d0(r,s.key)):_t(19791,{pu:s})}function pR(r,t){const n=t.key,s=n.path.canonicalString();r.Iu.get(n)||r.Tu.has(s)||(rt(Rm,"New document in limbo: "+n),r.Tu.add(s),Im(r))}function Im(r){for(;r.Tu.size>0&&r.Iu.size<r.maxConcurrentLimboResolutions;){const t=r.Tu.values().next().value;r.Tu.delete(t);const n=new dt(ue.fromString(t)),s=r.Vu.next();r.Eu.set(s,new sR(n)),r.Iu=r.Iu.insert(n,s),e0(r.remoteStore,new Ir(ui(cm(n.path)),s,"TargetPurposeLimboResolution",Qc.le))}}async function kl(r,t,n){const s=At(r),l=[],c=[],d=[];s.hu.isEmpty()||(s.hu.forEach((g,p)=>{d.push(s.fu(p,t,n).then(_=>{var A;if((_||n)&&s.isPrimaryClient){const I=_?!_.fromCache:(A=n==null?void 0:n.targetChanges.get(p.targetId))===null||A===void 0?void 0:A.current;s.sharedClientState.updateQueryState(p.targetId,I?"current":"not-current")}if(_){l.push(_);const I=ym.Rs(p.targetId,_);c.push(I)}}))}),await Promise.all(d),s.lu.Y_(l),await async function(p,_){const A=At(p);try{await A.persistence.runTransaction("notifyLocalViewChanges","readwrite",I=>Q.forEach(_,O=>Q.forEach(O.ds,H=>A.persistence.referenceDelegate.addReference(I,O.targetId,H)).next(()=>Q.forEach(O.As,H=>A.persistence.referenceDelegate.removeReference(I,O.targetId,H)))))}catch(I){if(!Ka(I))throw I;rt(_m,"Failed to update sequence numbers: "+I)}for(const I of _){const O=I.targetId;if(!I.fromCache){const H=A.xs.get(O),X=H.snapshotVersion,nt=H.withLastLimboFreeSnapshotVersion(X);A.xs=A.xs.insert(O,nt)}}}(s.localStore,c))}async function yR(r,t){const n=At(r);if(!n.currentUser.isEqual(t)){rt(Rm,"User change. New user:",t.toKey());const s=await ZE(n.localStore,t);n.currentUser=t,function(c,d){c.Ru.forEach(g=>{g.forEach(p=>{p.reject(new ft($.CANCELLED,d))})}),c.Ru.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,s.removedBatchIds,s.addedBatchIds),await kl(n,s.ks)}}function _R(r,t){const n=At(r),s=n.Eu.get(t);if(s&&s.cu)return xt().add(s.key);{let l=xt();const c=n.Pu.get(t);if(!c)return l;for(const d of c){const g=n.hu.get(d);l=l.unionWith(g.view.eu)}return l}}function m0(r){const t=At(r);return t.remoteStore.remoteSyncer.applyRemoteEvent=c0.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=_R.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=dR.bind(null,t),t.lu.Y_=tR.bind(null,t.eventManager),t.lu.gu=eR.bind(null,t.eventManager),t}function vR(r){const t=At(r);return t.remoteStore.remoteSyncer.applySuccessfulWrite=mR.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=gR.bind(null,t),t}class Lc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=nh(t.databaseInfo.databaseId),this.sharedClientState=this.bu(t),this.persistence=this.Su(t),await this.persistence.start(),this.localStore=this.Du(t),this.gcScheduler=this.vu(t,this.localStore),this.indexBackfillerScheduler=this.Cu(t,this.localStore)}vu(t,n){return null}Cu(t,n){return null}Du(t){return Ew(this.persistence,new yw,t.initialUser,this.serializer)}Su(t){return new $E(pm.fi,this.serializer)}bu(t){return new Iw}async terminate(){var t,n;(t=this.gcScheduler)===null||t===void 0||t.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Lc.provider={build:()=>new Lc};class ER extends Lc{constructor(t){super(),this.cacheSizeBytes=t}vu(t,n){qt(this.persistence.referenceDelegate instanceof kc,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new nw(s,t.asyncQueue,n)}Su(t){const n=this.cacheSizeBytes!==void 0?an.withCacheSize(this.cacheSizeBytes):an.DEFAULT;return new $E(s=>kc.fi(s,n),this.serializer)}}class Xd{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>uv(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=yR.bind(null,this.syncEngine),await Xw(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new Zw}()}createDatastore(t){const n=nh(t.databaseInfo.databaseId),s=function(c){return new Mw(c)}(t.databaseInfo);return function(c,d,g,p){return new kw(c,d,g,p)}(t.authCredentials,t.appCheckCredentials,s,n)}createRemoteStore(t){return function(s,l,c,d,g){return new Lw(s,l,c,d,g)}(this.localStore,this.datastore,t.asyncQueue,n=>uv(this.syncEngine,n,0),function(){return iv.C()?new iv:new Cw}())}createSyncEngine(t,n){return function(l,c,d,g,p,_,A){const I=new aR(l,c,d,g,p,_);return A&&(I.mu=!0),I}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}async terminate(){var t,n;await async function(l){const c=At(l);rt(Is,"RemoteStore shutting down."),c.da.add(5),await Pl(c),c.Ra.shutdown(),c.Va.set("Unknown")}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Xd.provider={build:()=>new Xd};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TR{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Mu(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Mu(this.observer.error,t):Gi("Uncaught Error in snapshot listener:",t.toString()))}xu(){this.muted=!0}Mu(t,n){setTimeout(()=>{this.muted||t(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zr="FirestoreClient";class AR{constructor(t,n,s,l,c){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=l,this.user=Xe.UNAUTHENTICATED,this.clientId=uE.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(s,async d=>{rt(zr,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d}),this.appCheckCredentials.start(s,d=>(rt(zr,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Mr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const s=bm(n,"Failed to shutdown persistence");t.reject(s)}}),t.promise}}async function wd(r,t){r.asyncQueue.verifyOperationInProgress(),rt(zr,"Initializing OfflineComponentProvider");const n=r.configuration;await t.initialize(n);let s=n.initialUser;r.setCredentialChangeListener(async l=>{s.isEqual(l)||(await ZE(t.localStore,l),s=l)}),t.persistence.setDatabaseDeletedListener(()=>r.terminate()),r._offlineComponents=t}async function hv(r,t){r.asyncQueue.verifyOperationInProgress();const n=await SR(r);rt(zr,"Initializing OnlineComponentProvider"),await t.initialize(n,r.configuration),r.setCredentialChangeListener(s=>sv(t.remoteStore,s)),r.setAppCheckTokenChangeListener((s,l)=>sv(t.remoteStore,l)),r._onlineComponents=t}async function SR(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){rt(zr,"Using user provided OfflineComponentProvider");try{await wd(r,r._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!function(l){return l.name==="FirebaseError"?l.code===$.FAILED_PRECONDITION||l.code===$.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11}(n))throw n;ka("Error using user provided cache. Falling back to memory cache: "+n),await wd(r,new Lc)}}else rt(zr,"Using default OfflineComponentProvider"),await wd(r,new ER(void 0));return r._offlineComponents}async function g0(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(rt(zr,"Using user provided OnlineComponentProvider"),await hv(r,r._uninitializedComponentsProvider._online)):(rt(zr,"Using default OnlineComponentProvider"),await hv(r,new Xd))),r._onlineComponents}function bR(r){return g0(r).then(t=>t.syncEngine)}async function wR(r){const t=await g0(r),n=t.eventManager;return n.onListen=oR.bind(null,t.syncEngine),n.onUnlisten=cR.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=lR.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=hR.bind(null,t.syncEngine),n}function RR(r,t,n={}){const s=new Mr;return r.asyncQueue.enqueueAndForget(async()=>function(c,d,g,p,_){const A=new TR({next:O=>{A.xu(),d.enqueueAndForget(()=>Ww(c,I));const H=O.docs.has(g);!H&&O.fromCache?_.reject(new ft($.UNAVAILABLE,"Failed to get document because the client is offline.")):H&&O.fromCache&&p&&p.source==="server"?_.reject(new ft($.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):_.resolve(O)},error:O=>_.reject(O)}),I=new nR(cm(g.path),A,{includeMetadataChanges:!0,Qa:!0});return Jw(c,I)}(await wR(r),r.asyncQueue,t,n,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p0(r){const t={};return r.timeoutSeconds!==void 0&&(t.timeoutSeconds=r.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fv=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IR(r,t,n){if(!n)throw new ft($.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${t}.`)}function CR(r,t,n,s){if(t===!0&&s===!0)throw new ft($.INVALID_ARGUMENT,`${r} and ${n} cannot be used together.`)}function dv(r){if(!dt.isDocumentKey(r))throw new ft($.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function Cm(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const t=function(s){return s.constructor?s.constructor.name:null}(r);return t?`a custom ${t} object`:"an object"}}return typeof r=="function"?"a function":_t(12329,{type:typeof r})}function Il(r,t){if("_delegate"in r&&(r=r._delegate),!(r instanceof t)){if(t.name===r.constructor.name)throw new ft($.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Cm(r);throw new ft($.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y0="firestore.googleapis.com",mv=!0;class gv{constructor(t){var n,s;if(t.host===void 0){if(t.ssl!==void 0)throw new ft($.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=y0,this.ssl=mv}else this.host=t.host,this.ssl=(n=t.ssl)!==null&&n!==void 0?n:mv;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=XE;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<tw)throw new ft($.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}CR("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=p0((s=t.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(c){if(c.timeoutSeconds!==void 0){if(isNaN(c.timeoutSeconds))throw new ft($.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (must not be NaN)`);if(c.timeoutSeconds<5)throw new ft($.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (minimum allowed value is 5)`);if(c.timeoutSeconds>30)throw new ft($.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(s,l){return s.timeoutSeconds===l.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Dm{constructor(t,n,s,l){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=s,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new gv({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ft($.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new ft($.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new gv(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new O1;switch(s.type){case"firstParty":return new V1(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new ft($.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const s=fv.get(n);s&&(rt("ComponentProvider","Removing Datastore"),fv.delete(n),s.terminate())}(this),Promise.resolve()}}function DR(r,t,n,s={}){var l;r=Il(r,Dm);const c=Ga(t),d=r._getSettings(),g=Object.assign(Object.assign({},d),{emulatorOptions:r._getEmulatorOptions()}),p=`${t}:${n}`;c&&(Yv(`https://${p}`),Qv("Firestore",!0)),d.host!==y0&&d.host!==p&&ka("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const _=Object.assign(Object.assign({},d),{host:p,ssl:c,emulatorOptions:s});if(!bs(_,g)&&(r._setSettings(_),s.mockUserToken)){let A,I;if(typeof s.mockUserToken=="string")A=s.mockUserToken,I=Xe.MOCK_USER;else{A=eS(s.mockUserToken,(l=r._app)===null||l===void 0?void 0:l.options.projectId);const O=s.mockUserToken.sub||s.mockUserToken.user_id;if(!O)throw new ft($.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");I=new Xe(O)}r._authCredentials=new N1(new oE(A,I))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Om{constructor(t,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=t}withConverter(t){return new Om(this.firestore,t,this._query)}}class xn{constructor(t,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Cl(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new xn(this.firestore,t,this._key)}}class Cl extends Om{constructor(t,n,s){super(t,n,cm(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new xn(this.firestore,null,new dt(t))}withConverter(t){return new Cl(this.firestore,t,this._path)}}function _0(r,t,...n){if(r=_n(r),arguments.length===1&&(t=uE.newId()),IR("doc","path",t),r instanceof Dm){const s=ue.fromString(t,...n);return dv(s),new xn(r,null,new dt(s))}{if(!(r instanceof xn||r instanceof Cl))throw new ft($.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(ue.fromString(t,...n));return dv(s),new xn(r.firestore,r instanceof Cl?r.converter:null,new dt(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pv="AsyncQueue";class yv{constructor(t=Promise.resolve()){this.Ju=[],this.Yu=!1,this.Zu=[],this.Xu=null,this.ec=!1,this.tc=!1,this.nc=[],this.x_=new WE(this,"async_queue_retry"),this.rc=()=>{const s=bd();s&&rt(pv,"Visibility state changed to "+s.visibilityState),this.x_.b_()},this.sc=t;const n=bd();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.rc)}get isShuttingDown(){return this.Yu}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.oc(),this._c(t)}enterRestrictedMode(t){if(!this.Yu){this.Yu=!0,this.tc=t||!1;const n=bd();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.rc)}}enqueue(t){if(this.oc(),this.Yu)return new Promise(()=>{});const n=new Mr;return this._c(()=>this.Yu&&this.tc?Promise.resolve():(t().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Ju.push(t),this.ac()))}async ac(){if(this.Ju.length!==0){try{await this.Ju[0](),this.Ju.shift(),this.x_.reset()}catch(t){if(!Ka(t))throw t;rt(pv,"Operation failed with retryable error: "+t)}this.Ju.length>0&&this.x_.y_(()=>this.ac())}}_c(t){const n=this.sc.then(()=>(this.ec=!0,t().catch(s=>{throw this.Xu=s,this.ec=!1,Gi("INTERNAL UNHANDLED ERROR: ",_v(s)),s}).then(s=>(this.ec=!1,s))));return this.sc=n,n}enqueueAfterDelay(t,n,s){this.oc(),this.nc.indexOf(t)>-1&&(n=0);const l=Sm.createAndSchedule(this,t,n,s,c=>this.uc(c));return this.Zu.push(l),l}oc(){this.Xu&&_t(47125,{cc:_v(this.Xu)})}verifyOperationInProgress(){}async lc(){let t;do t=this.sc,await t;while(t!==this.sc)}hc(t){for(const n of this.Zu)if(n.timerId===t)return!0;return!1}Pc(t){return this.lc().then(()=>{this.Zu.sort((n,s)=>n.targetTimeMs-s.targetTimeMs);for(const n of this.Zu)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.lc()})}Tc(t){this.nc.push(t)}uc(t){const n=this.Zu.indexOf(t);this.Zu.splice(n,1)}}function _v(r){let t=r.message||"";return r.stack&&(t=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),t}class Nm extends Dm{constructor(t,n,s,l){super(t,n,s,l),this.type="firestore",this._queue=new yv,this._persistenceKey=(l==null?void 0:l.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new yv(t),this._firestoreClient=void 0,await t}}}function OR(r,t){const n=typeof r=="object"?r:Zv(),s=typeof r=="string"?r:Dc,l=im(n,"firestore").getImmediate({identifier:s});if(!l._initialized){const c=WA("firestore");c&&DR(l,...c)}return l}function v0(r){if(r._terminated)throw new ft($.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||NR(r),r._firestoreClient}function NR(r){var t,n,s;const l=r._freezeSettings(),c=function(g,p,_,A){return new X1(g,p,_,A.host,A.ssl,A.experimentalForceLongPolling,A.experimentalAutoDetectLongPolling,p0(A.experimentalLongPollingOptions),A.useFetchStreams,A.isUsingEmulator)}(r._databaseId,((t=r._app)===null||t===void 0?void 0:t.options.appId)||"",r._persistenceKey,l);r._componentsProvider||!((n=l.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((s=l.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(r._componentsProvider={_offline:l.localCache._offlineComponentProvider,_online:l.localCache._onlineComponentProvider}),r._firestoreClient=new AR(r._authCredentials,r._appCheckCredentials,r._queue,c,r._componentsProvider&&function(g){const p=g==null?void 0:g._online.build();return{_offline:g==null?void 0:g._offline.build(p),_online:p}}(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qa{constructor(t){this._byteString=t}static fromBase64String(t){try{return new qa(qe.fromBase64String(t))}catch(n){throw new ft($.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new qa(qe.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mm{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new ft($.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new je(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E0{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xm{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new ft($.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new ft($.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return It(this._lat,t._lat)||It(this._long,t._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vm{constructor(t){this._values=(t||[]).map(n=>n)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(s,l){if(s.length!==l.length)return!1;for(let c=0;c<s.length;++c)if(s[c]!==l[c])return!1;return!0}(this._values,t._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MR=/^__.*__$/;class xR{constructor(t,n,s){this.data=t,this.fieldMask=n,this.fieldTransforms=s}toMutation(t,n){return this.fieldMask!==null?new Ns(t,this.data,this.fieldMask,n,this.fieldTransforms):new xl(t,this.data,n,this.fieldTransforms)}}function T0(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw _t(40011,{Ic:r})}}class Pm{constructor(t,n,s,l,c,d){this.settings=t,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=l,c===void 0&&this.Ec(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ic(){return this.settings.Ic}dc(t){return new Pm(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ac(t){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(t),l=this.dc({path:s,Rc:!1});return l.Vc(t),l}mc(t){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(t),l=this.dc({path:s,Rc:!1});return l.Ec(),l}fc(t){return this.dc({path:void 0,Rc:!0})}gc(t){return zc(t,this.settings.methodName,this.settings.yc||!1,this.path,this.settings.wc)}contains(t){return this.fieldMask.find(n=>t.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>t.isPrefixOf(n.field))!==void 0}Ec(){if(this.path)for(let t=0;t<this.path.length;t++)this.Vc(this.path.get(t))}Vc(t){if(t.length===0)throw this.gc("Document fields must not be empty");if(T0(this.Ic)&&MR.test(t))throw this.gc('Document fields cannot begin and end with "__"')}}class VR{constructor(t,n,s){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=s||nh(t)}bc(t,n,s,l=!1){return new Pm({Ic:t,methodName:n,wc:s,path:je.emptyPath(),Rc:!1,yc:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function PR(r){const t=r._freezeSettings(),n=nh(r._databaseId);return new VR(r._databaseId,!!t.ignoreUndefinedProperties,n)}function kR(r,t,n,s,l,c={}){const d=r.bc(c.merge||c.mergeFields?2:0,t,n,l);w0("Data must be an object, but it was:",d,s);const g=S0(s,d);let p,_;if(c.merge)p=new qn(d.fieldMask),_=d.fieldTransforms;else if(c.mergeFields){const A=[];for(const I of c.mergeFields){const O=UR(t,I,n);if(!d.contains(O))throw new ft($.INVALID_ARGUMENT,`Field '${O}' is specified in your field mask but missing from your input data.`);zR(A,O)||A.push(O)}p=new qn(A),_=d.fieldTransforms.filter(I=>p.covers(I.field))}else p=null,_=d.fieldTransforms;return new xR(new Mn(g),p,_)}function A0(r,t){if(b0(r=_n(r)))return w0("Unsupported field value:",t,r),S0(r,t);if(r instanceof E0)return function(s,l){if(!T0(l.Ic))throw l.gc(`${s._methodName}() can only be used with update() and set()`);if(!l.path)throw l.gc(`${s._methodName}() is not currently supported inside arrays`);const c=s._toFieldTransform(l);c&&l.fieldTransforms.push(c)}(r,t),null;if(r===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),r instanceof Array){if(t.settings.Rc&&t.Ic!==4)throw t.gc("Nested arrays are not supported");return function(s,l){const c=[];let d=0;for(const g of s){let p=A0(g,l.fc(d));p==null&&(p={nullValue:"NULL_VALUE"}),c.push(p),d++}return{arrayValue:{values:c}}}(r,t)}return function(s,l){if((s=_n(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return vb(l.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const c=Ie.fromDate(s);return{timestampValue:Pc(l.serializer,c)}}if(s instanceof Ie){const c=new Ie(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Pc(l.serializer,c)}}if(s instanceof xm)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof qa)return{bytesValue:qE(l.serializer,s._byteString)};if(s instanceof xn){const c=l.databaseId,d=s.firestore._databaseId;if(!d.isEqual(c))throw l.gc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:mm(s.firestore._databaseId||l.databaseId,s._key.path)}}if(s instanceof Vm)return function(d,g){return{mapValue:{fields:{[yE]:{stringValue:_E},[Oc]:{arrayValue:{values:d.toArray().map(_=>{if(typeof _!="number")throw g.gc("VectorValues must only contain numeric values.");return hm(g.serializer,_)})}}}}}}(s,l);throw l.gc(`Unsupported field value: ${Cm(s)}`)}(r,t)}function S0(r,t){const n={};return hE(r)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Ds(r,(s,l)=>{const c=A0(l,t.Ac(s));c!=null&&(n[s]=c)}),{mapValue:{fields:n}}}function b0(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof Ie||r instanceof xm||r instanceof qa||r instanceof xn||r instanceof E0||r instanceof Vm)}function w0(r,t,n){if(!b0(n)||!function(l){return typeof l=="object"&&l!==null&&(Object.getPrototypeOf(l)===Object.prototype||Object.getPrototypeOf(l)===null)}(n)){const s=Cm(n);throw s==="an object"?t.gc(r+" a custom object"):t.gc(r+" "+s)}}function UR(r,t,n){if((t=_n(t))instanceof Mm)return t._internalPath;if(typeof t=="string")return R0(r,t);throw zc("Field path arguments must be of type string or ",r,!1,void 0,n)}const LR=new RegExp("[~\\*/\\[\\]]");function R0(r,t,n){if(t.search(LR)>=0)throw zc(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,n);try{return new Mm(...t.split("."))._internalPath}catch{throw zc(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,n)}}function zc(r,t,n,s,l){const c=s&&!s.isEmpty(),d=l!==void 0;let g=`Function ${t}() called with invalid data`;n&&(g+=" (via `toFirestore()`)"),g+=". ";let p="";return(c||d)&&(p+=" (found",c&&(p+=` in field ${s}`),d&&(p+=` in document ${l}`),p+=")"),new ft($.INVALID_ARGUMENT,g+r+p)}function zR(r,t){return r.some(n=>n.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I0{constructor(t,n,s,l,c){this._firestore=t,this._userDataWriter=n,this._key=s,this._document=l,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new xn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new BR(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const n=this._document.data.field(C0("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class BR extends I0{data(){return super.data()}}function C0(r,t){return typeof t=="string"?R0(r,t):t instanceof Mm?t._internalPath:t._delegate._internalPath}class jR{convertValue(t,n="none"){switch(Ur(t)){case 0:return null;case 1:return t.booleanValue;case 2:return de(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(kr(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 11:return this.convertObject(t.mapValue,n);case 10:return this.convertVectorValue(t.mapValue);default:throw _t(62114,{value:t})}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const s={};return Ds(t,(l,c)=>{s[l]=this.convertValue(c,n)}),s}convertVectorValue(t){var n,s,l;const c=(l=(s=(n=t.fields)===null||n===void 0?void 0:n[Oc].arrayValue)===null||s===void 0?void 0:s.values)===null||l===void 0?void 0:l.map(d=>de(d.doubleValue));return new Vm(c)}convertGeoPoint(t){return new xm(de(t.latitude),de(t.longitude))}convertArray(t,n){return(t.values||[]).map(s=>this.convertValue(s,n))}convertServerTimestamp(t,n){switch(n){case"previous":const s=Xc(t);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(Al(t));default:return null}}convertTimestamp(t){const n=Pr(t);return new Ie(n.seconds,n.nanos)}convertDocumentKey(t,n){const s=ue.fromString(t);qt(KE(s),9688,{name:t});const l=new Sl(s.get(1),s.get(3)),c=new dt(s.popFirst(5));return l.isEqual(n)||Gi(`Document ${c} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qR(r,t,n){let s;return s=r?r.toFirestore(t):t,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HR{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class D0 extends I0{constructor(t,n,s,l,c,d){super(t,n,s,l,d),this._firestore=t,this._firestoreImpl=t,this.metadata=c}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new GR(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const s=this._document.data.field(C0("DocumentSnapshot.get",t));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}}class GR extends D0{data(t={}){return super.data(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FR(r){r=Il(r,xn);const t=Il(r.firestore,Nm);return RR(v0(t),r._key).then(n=>XR(t,r,n))}class YR extends jR{constructor(t){super(),this.firestore=t}convertBytes(t){return new qa(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new xn(this.firestore,null,n)}}function QR(r,t,n){r=Il(r,xn);const s=Il(r.firestore,Nm),l=qR(r.converter,t);return KR(s,[kR(PR(s),"setDoc",r._key,l,r.converter!==null,n).toMutation(r._key,qi.none())])}function KR(r,t){return function(s,l){const c=new Mr;return s.asyncQueue.enqueueAndForget(async()=>fR(await bR(s),l,c)),c.promise}(v0(r),t)}function XR(r,t,n){const s=n.docs.get(t._key),l=new YR(r);return new D0(r,l,t._key,s,new HR(n.hasPendingWrites,n.fromCache),t.converter)}(function(t,n=!0){(function(l){Ya=l})(Fa),Pa(new ws("firestore",(s,{instanceIdentifier:l,options:c})=>{const d=s.getProvider("app").getImmediate(),g=new Nm(new M1(s.getProvider("auth-internal")),new P1(d,s.getProvider("app-check-internal")),function(_,A){if(!Object.prototype.hasOwnProperty.apply(_.options,["projectId"]))throw new ft($.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Sl(_.options.projectId,A)}(d,l),d);return c=Object.assign({useFetchStreams:n},c),g._setSettings(c),g},"PUBLIC").setMultipleInstances(!0)),Or(b_,w_,t),Or(b_,w_,"esm2017")})();function km(r,t){var n={};for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&t.indexOf(s)<0&&(n[s]=r[s]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,s=Object.getOwnPropertySymbols(r);l<s.length;l++)t.indexOf(s[l])<0&&Object.prototype.propertyIsEnumerable.call(r,s[l])&&(n[s[l]]=r[s[l]]);return n}function O0(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const $R=O0,N0=new Nl("auth","Firebase",O0());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bc=new em("@firebase/auth");function ZR(r,...t){Bc.logLevel<=Mt.WARN&&Bc.warn(`Auth (${Fa}): ${r}`,...t)}function Ac(r,...t){Bc.logLevel<=Mt.ERROR&&Bc.error(`Auth (${Fa}): ${r}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gn(r,...t){throw Um(r,...t)}function hi(r,...t){return Um(r,...t)}function M0(r,t,n){const s=Object.assign(Object.assign({},$R()),{[t]:n});return new Nl("auth","Firebase",s).create(t,{appName:r.name})}function xr(r){return M0(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Um(r,...t){if(typeof r!="string"){const n=t[0],s=[...t.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(n,...s)}return N0.create(r,...t)}function gt(r,t,...n){if(!r)throw Um(t,...n)}function Bi(r){const t="INTERNAL ASSERTION FAILED: "+r;throw Ac(t),new Error(t)}function Yi(r,t){r||Bi(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $d(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.href)||""}function JR(){return vv()==="http:"||vv()==="https:"}function vv(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WR(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(JR()||oS()||"connection"in navigator)?navigator.onLine:!0}function tI(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ul{constructor(t,n){this.shortDelay=t,this.longDelay=n,Yi(n>t,"Short delay should be less than long delay!"),this.isMobile=rS()||lS()}get(){return WR()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lm(r,t){Yi(r.emulator,"Emulator should always be set here");const{url:n}=r.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x0{static initialize(t,n,s){this.fetchImpl=t,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Bi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Bi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Bi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eI={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nI=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],iI=new Ul(3e4,6e4);function xs(r,t){return r.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:r.tenantId}):t}async function Br(r,t,n,s,l={}){return V0(r,l,async()=>{let c={},d={};s&&(t==="GET"?d=s:c={body:JSON.stringify(s)});const g=Ml(Object.assign({key:r.config.apiKey},d)).slice(1),p=await r._getAdditionalHeaders();p["Content-Type"]="application/json",r.languageCode&&(p["X-Firebase-Locale"]=r.languageCode);const _=Object.assign({method:t,headers:p},c);return aS()||(_.referrerPolicy="no-referrer"),r.emulatorConfig&&Ga(r.emulatorConfig.host)&&(_.credentials="include"),x0.fetch()(await P0(r,r.config.apiHost,n,g),_)})}async function V0(r,t,n){r._canInitEmulator=!1;const s=Object.assign(Object.assign({},eI),t);try{const l=new sI(r),c=await Promise.race([n(),l.promise]);l.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw gc(r,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const g=c.ok?d.errorMessage:d.error.message,[p,_]=g.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw gc(r,"credential-already-in-use",d);if(p==="EMAIL_EXISTS")throw gc(r,"email-already-in-use",d);if(p==="USER_DISABLED")throw gc(r,"user-disabled",d);const A=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(_)throw M0(r,A,_);Gn(r,A)}}catch(l){if(l instanceof Qi)throw l;Gn(r,"network-request-failed",{message:String(l)})}}async function sh(r,t,n,s,l={}){const c=await Br(r,t,n,s,l);return"mfaPendingCredential"in c&&Gn(r,"multi-factor-auth-required",{_serverResponse:c}),c}async function P0(r,t,n,s){const l=`${t}${n}?${s}`,c=r,d=c.config.emulator?Lm(r.config,l):`${r.config.apiScheme}://${l}`;return nI.includes(n)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(d).toString():d}function rI(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class sI{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(hi(this.auth,"network-request-failed")),iI.get())})}}function gc(r,t,n){const s={appName:r.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const l=hi(r,t,s);return l.customData._tokenResponse=n,l}function Ev(r){return r!==void 0&&r.enterprise!==void 0}class aI{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===t)return rI(n.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function oI(r,t){return Br(r,"GET","/v2/recaptchaConfig",xs(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lI(r,t){return Br(r,"POST","/v1/accounts:delete",t)}async function jc(r,t){return Br(r,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _l(r){if(r)try{const t=new Date(Number(r));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function uI(r,t=!1){const n=_n(r),s=await n.getIdToken(t),l=zm(s);gt(l&&l.exp&&l.auth_time&&l.iat,n.auth,"internal-error");const c=typeof l.firebase=="object"?l.firebase:void 0,d=c==null?void 0:c.sign_in_provider;return{claims:l,token:s,authTime:_l(Rd(l.auth_time)),issuedAtTime:_l(Rd(l.iat)),expirationTime:_l(Rd(l.exp)),signInProvider:d||null,signInSecondFactor:(c==null?void 0:c.sign_in_second_factor)||null}}function Rd(r){return Number(r)*1e3}function zm(r){const[t,n,s]=r.split(".");if(t===void 0||n===void 0||s===void 0)return Ac("JWT malformed, contained fewer than 3 sections"),null;try{const l=qv(n);return l?JSON.parse(l):(Ac("Failed to decode base64 JWT payload"),null)}catch(l){return Ac("Caught error parsing JWT payload as JSON",l==null?void 0:l.toString()),null}}function Tv(r){const t=zm(r);return gt(t,"internal-error"),gt(typeof t.exp<"u","internal-error"),gt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Dl(r,t,n=!1){if(n)return t;try{return await t}catch(s){throw s instanceof Qi&&cI(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function cI({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hI{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){var n;if(t){const s=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),s}else{this.errorBackoff=3e4;const l=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,l)}}schedule(t=!1){if(!this.isRunning)return;const n=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){(t==null?void 0:t.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zd{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=_l(this.lastLoginAt),this.creationTime=_l(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qc(r){var t;const n=r.auth,s=await r.getIdToken(),l=await Dl(r,jc(n,{idToken:s}));gt(l==null?void 0:l.users.length,n,"internal-error");const c=l.users[0];r._notifyReloadListener(c);const d=!((t=c.providerUserInfo)===null||t===void 0)&&t.length?k0(c.providerUserInfo):[],g=dI(r.providerData,d),p=r.isAnonymous,_=!(r.email&&c.passwordHash)&&!(g!=null&&g.length),A=p?_:!1,I={uid:c.localId,displayName:c.displayName||null,photoURL:c.photoUrl||null,email:c.email||null,emailVerified:c.emailVerified||!1,phoneNumber:c.phoneNumber||null,tenantId:c.tenantId||null,providerData:g,metadata:new Zd(c.createdAt,c.lastLoginAt),isAnonymous:A};Object.assign(r,I)}async function fI(r){const t=_n(r);await qc(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function dI(r,t){return[...r.filter(s=>!t.some(l=>l.providerId===s.providerId)),...t]}function k0(r){return r.map(t=>{var{providerId:n}=t,s=km(t,["providerId"]);return{providerId:n,uid:s.rawId||"",displayName:s.displayName||null,email:s.email||null,phoneNumber:s.phoneNumber||null,photoURL:s.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mI(r,t){const n=await V0(r,{},async()=>{const s=Ml({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:l,apiKey:c}=r.config,d=await P0(r,l,"/v1/token",`key=${c}`),g=await r._getAdditionalHeaders();g["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:g,body:s};return r.emulatorConfig&&Ga(r.emulatorConfig.host)&&(p.credentials="include"),x0.fetch()(d,p)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function gI(r,t){return Br(r,"POST","/v2/accounts:revokeToken",xs(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ma{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){gt(t.idToken,"internal-error"),gt(typeof t.idToken<"u","internal-error"),gt(typeof t.refreshToken<"u","internal-error");const n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):Tv(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}updateFromIdToken(t){gt(t.length!==0,"internal-error");const n=Tv(t);this.updateTokensAndExpiration(t,null,n)}async getToken(t,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(gt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,n){const{accessToken:s,refreshToken:l,expiresIn:c}=await mI(t,n);this.updateTokensAndExpiration(s,l,Number(c))}updateTokensAndExpiration(t,n,s){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(t,n){const{refreshToken:s,accessToken:l,expirationTime:c}=n,d=new Ma;return s&&(gt(typeof s=="string","internal-error",{appName:t}),d.refreshToken=s),l&&(gt(typeof l=="string","internal-error",{appName:t}),d.accessToken=l),c&&(gt(typeof c=="number","internal-error",{appName:t}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Ma,this.toJSON())}_performRefresh(){return Bi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ar(r,t){gt(typeof r=="string"||typeof r>"u","internal-error",{appName:t})}class Hn{constructor(t){var{uid:n,auth:s,stsTokenManager:l}=t,c=km(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new hI(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=s,this.stsTokenManager=l,this.accessToken=l.accessToken,this.displayName=c.displayName||null,this.email=c.email||null,this.emailVerified=c.emailVerified||!1,this.phoneNumber=c.phoneNumber||null,this.photoURL=c.photoURL||null,this.isAnonymous=c.isAnonymous||!1,this.tenantId=c.tenantId||null,this.providerData=c.providerData?[...c.providerData]:[],this.metadata=new Zd(c.createdAt||void 0,c.lastLoginAt||void 0)}async getIdToken(t){const n=await Dl(this,this.stsTokenManager.getToken(this.auth,t));return gt(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(t){return uI(this,t)}reload(){return fI(this)}_assign(t){this!==t&&(gt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>Object.assign({},n)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const n=new Hn(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(t){gt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,n=!1){let s=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),s=!0),n&&await qc(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(jn(this.auth.app))return Promise.reject(xr(this.auth));const t=await this.getIdToken();return await Dl(this,lI(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>Object.assign({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){var s,l,c,d,g,p,_,A;const I=(s=n.displayName)!==null&&s!==void 0?s:void 0,O=(l=n.email)!==null&&l!==void 0?l:void 0,H=(c=n.phoneNumber)!==null&&c!==void 0?c:void 0,X=(d=n.photoURL)!==null&&d!==void 0?d:void 0,nt=(g=n.tenantId)!==null&&g!==void 0?g:void 0,Z=(p=n._redirectEventId)!==null&&p!==void 0?p:void 0,Tt=(_=n.createdAt)!==null&&_!==void 0?_:void 0,ct=(A=n.lastLoginAt)!==null&&A!==void 0?A:void 0,{uid:lt,emailVerified:St,isAnonymous:vt,providerData:Dt,stsTokenManager:M}=n;gt(lt&&M,t,"internal-error");const S=Ma.fromJSON(this.name,M);gt(typeof lt=="string",t,"internal-error"),Ar(I,t.name),Ar(O,t.name),gt(typeof St=="boolean",t,"internal-error"),gt(typeof vt=="boolean",t,"internal-error"),Ar(H,t.name),Ar(X,t.name),Ar(nt,t.name),Ar(Z,t.name),Ar(Tt,t.name),Ar(ct,t.name);const w=new Hn({uid:lt,auth:t,email:O,emailVerified:St,displayName:I,isAnonymous:vt,photoURL:X,phoneNumber:H,tenantId:nt,stsTokenManager:S,createdAt:Tt,lastLoginAt:ct});return Dt&&Array.isArray(Dt)&&(w.providerData=Dt.map(N=>Object.assign({},N))),Z&&(w._redirectEventId=Z),w}static async _fromIdTokenResponse(t,n,s=!1){const l=new Ma;l.updateFromServerResponse(n);const c=new Hn({uid:n.localId,auth:t,stsTokenManager:l,isAnonymous:s});return await qc(c),c}static async _fromGetAccountInfoResponse(t,n,s){const l=n.users[0];gt(l.localId!==void 0,"internal-error");const c=l.providerUserInfo!==void 0?k0(l.providerUserInfo):[],d=!(l.email&&l.passwordHash)&&!(c!=null&&c.length),g=new Ma;g.updateFromIdToken(s);const p=new Hn({uid:l.localId,auth:t,stsTokenManager:g,isAnonymous:d}),_={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:c,metadata:new Zd(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!(c!=null&&c.length)};return Object.assign(p,_),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Av=new Map;function ji(r){Yi(r instanceof Function,"Expected a class definition");let t=Av.get(r);return t?(Yi(t instanceof r,"Instance stored in cache mismatched with class"),t):(t=new r,Av.set(r,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U0{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,n){this.storage[t]=n}async _get(t){const n=this.storage[t];return n===void 0?null:n}async _remove(t){delete this.storage[t]}_addListener(t,n){}_removeListener(t,n){}}U0.type="NONE";const Sv=U0;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sc(r,t,n){return`firebase:${r}:${t}:${n}`}class xa{constructor(t,n,s){this.persistence=t,this.auth=n,this.userKey=s;const{config:l,name:c}=this.auth;this.fullUserKey=Sc(this.userKey,l.apiKey,c),this.fullPersistenceKey=Sc("persistence",l.apiKey,c),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const n=await jc(this.auth,{idToken:t}).catch(()=>{});return n?Hn._fromGetAccountInfoResponse(this.auth,n,t):null}return Hn._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,n,s="authUser"){if(!n.length)return new xa(ji(Sv),t,s);const l=(await Promise.all(n.map(async _=>{if(await _._isAvailable())return _}))).filter(_=>_);let c=l[0]||ji(Sv);const d=Sc(s,t.config.apiKey,t.name);let g=null;for(const _ of n)try{const A=await _._get(d);if(A){let I;if(typeof A=="string"){const O=await jc(t,{idToken:A}).catch(()=>{});if(!O)break;I=await Hn._fromGetAccountInfoResponse(t,O,A)}else I=Hn._fromJSON(t,A);_!==c&&(g=I),c=_;break}}catch{}const p=l.filter(_=>_._shouldAllowMigration);return!c._shouldAllowMigration||!p.length?new xa(c,t,s):(c=p[0],g&&await c._set(d,g.toJSON()),await Promise.all(n.map(async _=>{if(_!==c)try{await _._remove(d)}catch{}})),new xa(c,t,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bv(r){const t=r.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(j0(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(L0(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(H0(t))return"Blackberry";if(G0(t))return"Webos";if(z0(t))return"Safari";if((t.includes("chrome/")||B0(t))&&!t.includes("edge/"))return"Chrome";if(q0(t))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(n);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function L0(r=Ze()){return/firefox\//i.test(r)}function z0(r=Ze()){const t=r.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function B0(r=Ze()){return/crios\//i.test(r)}function j0(r=Ze()){return/iemobile/i.test(r)}function q0(r=Ze()){return/android/i.test(r)}function H0(r=Ze()){return/blackberry/i.test(r)}function G0(r=Ze()){return/webos/i.test(r)}function Bm(r=Ze()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function pI(r=Ze()){var t;return Bm(r)&&!!(!((t=window.navigator)===null||t===void 0)&&t.standalone)}function yI(){return uS()&&document.documentMode===10}function F0(r=Ze()){return Bm(r)||q0(r)||G0(r)||H0(r)||/windows phone/i.test(r)||j0(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y0(r,t=[]){let n;switch(r){case"Browser":n=bv(Ze());break;case"Worker":n=`${bv(Ze())}-${r}`;break;default:n=r}const s=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${Fa}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _I{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){const s=c=>new Promise((d,g)=>{try{const p=t(c);d(p)}catch(p){g(p)}});s.onAbort=n,this.queue.push(s);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const n=[];try{for(const s of this.queue)await s(t),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const l of n)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vI(r,t={}){return Br(r,"GET","/v2/passwordPolicy",xs(r,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EI=6;class TI{constructor(t){var n,s,l,c;const d=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=d.minPasswordLength)!==null&&n!==void 0?n:EI,d.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=d.maxPasswordLength),d.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=d.containsLowercaseCharacter),d.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=d.containsUppercaseCharacter),d.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=d.containsNumericCharacter),d.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=d.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(l=(s=t.allowedNonAlphanumericCharacters)===null||s===void 0?void 0:s.join(""))!==null&&l!==void 0?l:"",this.forceUpgradeOnSignin=(c=t.forceUpgradeOnSignin)!==null&&c!==void 0?c:!1,this.schemaVersion=t.schemaVersion}validatePassword(t){var n,s,l,c,d,g;const p={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,p),this.validatePasswordCharacterOptions(t,p),p.isValid&&(p.isValid=(n=p.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),p.isValid&&(p.isValid=(s=p.meetsMaxPasswordLength)!==null&&s!==void 0?s:!0),p.isValid&&(p.isValid=(l=p.containsLowercaseLetter)!==null&&l!==void 0?l:!0),p.isValid&&(p.isValid=(c=p.containsUppercaseLetter)!==null&&c!==void 0?c:!0),p.isValid&&(p.isValid=(d=p.containsNumericCharacter)!==null&&d!==void 0?d:!0),p.isValid&&(p.isValid=(g=p.containsNonAlphanumericCharacter)!==null&&g!==void 0?g:!0),p}validatePasswordLengthOptions(t,n){const s=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=t.length>=s),l&&(n.meetsMaxPasswordLength=t.length<=l)}validatePasswordCharacterOptions(t,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let l=0;l<t.length;l++)s=t.charAt(l),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(t,n,s,l,c){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AI{constructor(t,n,s,l){this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new wv(this),this.idTokenSubscription=new wv(this),this.beforeStateQueue=new _I(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=N0,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=ji(n)),this._initializationPromise=this.queue(async()=>{var s,l,c;if(!this._deleted&&(this.persistenceManager=await xa.create(this,t),(s=this._resolvePersistenceManagerAvailable)===null||s===void 0||s.call(this),!this._deleted)){if(!((l=this._popupRedirectResolver)===null||l===void 0)&&l._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((c=this.currentUser)===null||c===void 0?void 0:c.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const n=await jc(this,{idToken:t}),s=await Hn._fromGetAccountInfoResponse(this,n,t);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){var n;if(jn(this.app)){const d=this.app.settings.authIdToken;return d?new Promise(g=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(d).then(g,g))}):this.directlySetCurrentUser(null)}const s=await this.assertedPersistence.getCurrentUser();let l=s,c=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const d=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,g=l==null?void 0:l._redirectEventId,p=await this.tryRedirectSignIn(t);(!d||d===g)&&(p!=null&&p.user)&&(l=p.user,c=!0)}if(!l)return this.directlySetCurrentUser(null);if(!l._redirectEventId){if(c)try{await this.beforeStateQueue.runMiddleware(l)}catch(d){l=s,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(d))}return l?this.reloadAndSetCurrentUserOrClear(l):this.directlySetCurrentUser(null)}return gt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===l._redirectEventId?this.directlySetCurrentUser(l):this.reloadAndSetCurrentUserOrClear(l)}async tryRedirectSignIn(t){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(t){try{await qc(t)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=tI()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(jn(this.app))return Promise.reject(xr(this));const n=t?_n(t):null;return n&&gt(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(t,n=!1){if(!this._deleted)return t&&gt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return jn(this.app)?Promise.reject(xr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return jn(this.app)?Promise.reject(xr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ji(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await vI(this),n=new TI(t);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new Nl("auth","Firebase",t())}onAuthStateChanged(t,n,s){return this.registerStateListener(this.authStateSubscription,t,n,s)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,s){return this.registerStateListener(this.idTokenSubscription,t,n,s)}authStateReady(){return new Promise((t,n)=>{if(this.currentUser)t();else{const s=this.onAuthStateChanged(()=>{s(),t()},n)}})}async revokeAccessToken(t){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await gI(this,s)}}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)===null||t===void 0?void 0:t.toJSON()}}async _setRedirectUser(t,n){const s=await this.getOrInitRedirectPersistenceManager(n);return t===null?s.removeCurrentUser():s.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const n=t&&ji(t)||this._popupRedirectResolver;gt(n,this,"argument-error"),this.redirectPersistenceManager=await xa.create(this,[ji(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var n,s;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===t?this._currentUser:((s=this.redirectUser)===null||s===void 0?void 0:s._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const s=(n=(t=this.currentUser)===null||t===void 0?void 0:t.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==s&&(this.lastNotifiedUid=s,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,s,l){if(this._deleted)return()=>{};const c=typeof n=="function"?n:n.next.bind(n);let d=!1;const g=this._isInitialized?Promise.resolve():this._initializationPromise;if(gt(g,this,"internal-error"),g.then(()=>{d||c(this.currentUser)}),typeof n=="function"){const p=t.addObserver(n,s,l);return()=>{d=!0,p()}}else{const p=t.addObserver(n);return()=>{d=!0,p()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return gt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=Y0(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var t;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const s=await((t=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getHeartbeatsHeader());s&&(n["X-Firebase-Client"]=s);const l=await this._getAppCheckToken();return l&&(n["X-Firebase-AppCheck"]=l),n}async _getAppCheckToken(){var t;if(jn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((t=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getToken());return n!=null&&n.error&&ZR(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function $a(r){return _n(r)}class wv{constructor(t){this.auth=t,this.observer=null,this.addObserver=yS(n=>this.observer=n)}get next(){return gt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ah={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function SI(r){ah=r}function Q0(r){return ah.loadJS(r)}function bI(){return ah.recaptchaEnterpriseScript}function wI(){return ah.gapiScript}function RI(r){return`__${r}${Math.floor(Math.random()*1e6)}`}class II{constructor(){this.enterprise=new CI}ready(t){t()}execute(t,n){return Promise.resolve("token")}render(t,n){return""}}class CI{ready(t){t()}execute(t,n){return Promise.resolve("token")}render(t,n){return""}}const DI="recaptcha-enterprise",K0="NO_RECAPTCHA";class OI{constructor(t){this.type=DI,this.auth=$a(t)}async verify(t="verify",n=!1){async function s(c){if(!n){if(c.tenantId==null&&c._agentRecaptchaConfig!=null)return c._agentRecaptchaConfig.siteKey;if(c.tenantId!=null&&c._tenantRecaptchaConfigs[c.tenantId]!==void 0)return c._tenantRecaptchaConfigs[c.tenantId].siteKey}return new Promise(async(d,g)=>{oI(c,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)g(new Error("recaptcha Enterprise site key undefined"));else{const _=new aI(p);return c.tenantId==null?c._agentRecaptchaConfig=_:c._tenantRecaptchaConfigs[c.tenantId]=_,d(_.siteKey)}}).catch(p=>{g(p)})})}function l(c,d,g){const p=window.grecaptcha;Ev(p)?p.enterprise.ready(()=>{p.enterprise.execute(c,{action:t}).then(_=>{d(_)}).catch(()=>{d(K0)})}):g(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new II().execute("siteKey",{action:"verify"}):new Promise((c,d)=>{s(this.auth).then(g=>{if(!n&&Ev(window.grecaptcha))l(g,c,d);else{if(typeof window>"u"){d(new Error("RecaptchaVerifier is only supported in browser"));return}let p=bI();p.length!==0&&(p+=g),Q0(p).then(()=>{l(g,c,d)}).catch(_=>{d(_)})}}).catch(g=>{d(g)})})}}async function Rv(r,t,n,s=!1,l=!1){const c=new OI(r);let d;if(l)d=K0;else try{d=await c.verify(n)}catch{d=await c.verify(n,!0)}const g=Object.assign({},t);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in g){const p=g.phoneEnrollmentInfo.phoneNumber,_=g.phoneEnrollmentInfo.recaptchaToken;Object.assign(g,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:_,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in g){const p=g.phoneSignInInfo.recaptchaToken;Object.assign(g,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return g}return s?Object.assign(g,{captchaResp:d}):Object.assign(g,{captchaResponse:d}),Object.assign(g,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(g,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),g}async function Iv(r,t,n,s,l){var c;if(!((c=r._getRecaptchaConfig())===null||c===void 0)&&c.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const d=await Rv(r,t,n,n==="getOobCode");return s(r,d)}else return s(r,t).catch(async d=>{if(d.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const g=await Rv(r,t,n,n==="getOobCode");return s(r,g)}else return Promise.reject(d)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NI(r,t){const n=im(r,"auth");if(n.isInitialized()){const l=n.getImmediate(),c=n.getOptions();if(bs(c,t??{}))return l;Gn(l,"already-initialized")}return n.initialize({options:t})}function MI(r,t){const n=(t==null?void 0:t.persistence)||[],s=(Array.isArray(n)?n:[n]).map(ji);t!=null&&t.errorMap&&r._updateErrorMap(t.errorMap),r._initializeWithPersistence(s,t==null?void 0:t.popupRedirectResolver)}function xI(r,t,n){const s=$a(r);gt(/^https?:\/\//.test(t),s,"invalid-emulator-scheme");const l=!1,c=X0(t),{host:d,port:g}=VI(t),p=g===null?"":`:${g}`,_={url:`${c}//${d}${p}/`},A=Object.freeze({host:d,port:g,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!s._canInitEmulator){gt(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),gt(bs(_,s.config.emulator)&&bs(A,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=_,s.emulatorConfig=A,s.settings.appVerificationDisabledForTesting=!0,Ga(d)?(Yv(`${c}//${d}${p}`),Qv("Auth",!0)):PI()}function X0(r){const t=r.indexOf(":");return t<0?"":r.substr(0,t+1)}function VI(r){const t=X0(r),n=/(\/\/)?([^?#/]+)/.exec(r.substr(t.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(s);if(l){const c=l[1];return{host:c,port:Cv(s.substr(c.length+1))}}else{const[c,d]=s.split(":");return{host:c,port:Cv(d)}}}function Cv(r){if(!r)return null;const t=Number(r);return isNaN(t)?null:t}function PI(){function r(){const t=document.createElement("p"),n=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jm{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return Bi("not implemented")}_getIdTokenResponse(t){return Bi("not implemented")}_linkToIdToken(t,n){return Bi("not implemented")}_getReauthenticationResolver(t){return Bi("not implemented")}}async function kI(r,t){return Br(r,"POST","/v1/accounts:signUp",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function UI(r,t){return sh(r,"POST","/v1/accounts:signInWithPassword",xs(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function LI(r,t){return sh(r,"POST","/v1/accounts:signInWithEmailLink",xs(r,t))}async function zI(r,t){return sh(r,"POST","/v1/accounts:signInWithEmailLink",xs(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ol extends jm{constructor(t,n,s,l=null){super("password",s),this._email=t,this._password=n,this._tenantId=l}static _fromEmailAndPassword(t,n){return new Ol(t,n,"password")}static _fromEmailAndCode(t,n,s=null){return new Ol(t,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Iv(t,n,"signInWithPassword",UI);case"emailLink":return LI(t,{email:this._email,oobCode:this._password});default:Gn(t,"internal-error")}}async _linkToIdToken(t,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Iv(t,s,"signUpPassword",kI);case"emailLink":return zI(t,{idToken:n,email:this._email,oobCode:this._password});default:Gn(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Va(r,t){return sh(r,"POST","/v1/accounts:signInWithIdp",xs(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BI="http://localhost";class Cs extends jm{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const n=new Cs(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(n.idToken=t.idToken),t.accessToken&&(n.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(n.nonce=t.nonce),t.pendingToken&&(n.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(n.accessToken=t.oauthToken,n.secret=t.oauthTokenSecret):Gn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t,{providerId:s,signInMethod:l}=n,c=km(n,["providerId","signInMethod"]);if(!s||!l)return null;const d=new Cs(s,l);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(t){const n=this.buildRequest();return Va(t,n)}_linkToIdToken(t,n){const s=this.buildRequest();return s.idToken=n,Va(t,s)}_getReauthenticationResolver(t){const n=this.buildRequest();return n.autoCreate=!1,Va(t,n)}buildRequest(){const t={requestUri:BI,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),t.postBody=Ml(n)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jI(r){switch(r){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function qI(r){const t=ll(ul(r)).link,n=t?ll(ul(t)).deep_link_id:null,s=ll(ul(r)).deep_link_id;return(s?ll(ul(s)).link:null)||s||n||t||r}class qm{constructor(t){var n,s,l,c,d,g;const p=ll(ul(t)),_=(n=p.apiKey)!==null&&n!==void 0?n:null,A=(s=p.oobCode)!==null&&s!==void 0?s:null,I=jI((l=p.mode)!==null&&l!==void 0?l:null);gt(_&&A&&I,"argument-error"),this.apiKey=_,this.operation=I,this.code=A,this.continueUrl=(c=p.continueUrl)!==null&&c!==void 0?c:null,this.languageCode=(d=p.lang)!==null&&d!==void 0?d:null,this.tenantId=(g=p.tenantId)!==null&&g!==void 0?g:null}static parseLink(t){const n=qI(t);try{return new qm(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Za{constructor(){this.providerId=Za.PROVIDER_ID}static credential(t,n){return Ol._fromEmailAndPassword(t,n)}static credentialWithLink(t,n){const s=qm.parseLink(n);return gt(s,"argument-error"),Ol._fromEmailAndCode(t,s.code,s.tenantId)}}Za.PROVIDER_ID="password";Za.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Za.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $0{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ll extends $0{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sr extends Ll{constructor(){super("facebook.com")}static credential(t){return Cs._fromParams({providerId:Sr.PROVIDER_ID,signInMethod:Sr.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Sr.credentialFromTaggedObject(t)}static credentialFromError(t){return Sr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Sr.credential(t.oauthAccessToken)}catch{return null}}}Sr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Sr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class br extends Ll{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return Cs._fromParams({providerId:br.PROVIDER_ID,signInMethod:br.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return br.credentialFromTaggedObject(t)}static credentialFromError(t){return br.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:s}=t;if(!n&&!s)return null;try{return br.credential(n,s)}catch{return null}}}br.GOOGLE_SIGN_IN_METHOD="google.com";br.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wr extends Ll{constructor(){super("github.com")}static credential(t){return Cs._fromParams({providerId:wr.PROVIDER_ID,signInMethod:wr.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return wr.credentialFromTaggedObject(t)}static credentialFromError(t){return wr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return wr.credential(t.oauthAccessToken)}catch{return null}}}wr.GITHUB_SIGN_IN_METHOD="github.com";wr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rr extends Ll{constructor(){super("twitter.com")}static credential(t,n){return Cs._fromParams({providerId:Rr.PROVIDER_ID,signInMethod:Rr.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return Rr.credentialFromTaggedObject(t)}static credentialFromError(t){return Rr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=t;if(!n||!s)return null;try{return Rr.credential(n,s)}catch{return null}}}Rr.TWITTER_SIGN_IN_METHOD="twitter.com";Rr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ha{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,n,s,l=!1){const c=await Hn._fromIdTokenResponse(t,s,l),d=Dv(s);return new Ha({user:c,providerId:d,_tokenResponse:s,operationType:n})}static async _forOperation(t,n,s){await t._updateTokensIfNecessary(s,!0);const l=Dv(s);return new Ha({user:t,providerId:l,_tokenResponse:s,operationType:n})}}function Dv(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hc extends Qi{constructor(t,n,s,l){var c;super(n.code,n.message),this.operationType=s,this.user=l,Object.setPrototypeOf(this,Hc.prototype),this.customData={appName:t.name,tenantId:(c=t.tenantId)!==null&&c!==void 0?c:void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(t,n,s,l){return new Hc(t,n,s,l)}}function Z0(r,t,n,s){return(t==="reauthenticate"?n._getReauthenticationResolver(r):n._getIdTokenResponse(r)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?Hc._fromErrorAndOperation(r,c,t,s):c})}async function HI(r,t,n=!1){const s=await Dl(r,t._linkToIdToken(r.auth,await r.getIdToken()),n);return Ha._forOperation(r,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GI(r,t,n=!1){const{auth:s}=r;if(jn(s.app))return Promise.reject(xr(s));const l="reauthenticate";try{const c=await Dl(r,Z0(s,l,t,r),n);gt(c.idToken,s,"internal-error");const d=zm(c.idToken);gt(d,s,"internal-error");const{sub:g}=d;return gt(r.uid===g,s,"user-mismatch"),Ha._forOperation(r,l,c)}catch(c){throw(c==null?void 0:c.code)==="auth/user-not-found"&&Gn(s,"user-mismatch"),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function J0(r,t,n=!1){if(jn(r.app))return Promise.reject(xr(r));const s="signIn",l=await Z0(r,s,t),c=await Ha._fromIdTokenResponse(r,s,l);return n||await r._updateCurrentUser(c.user),c}async function FI(r,t){return J0($a(r),t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function YI(r){const t=$a(r);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}function QI(r,t,n){return jn(r.app)?Promise.reject(xr(r)):FI(_n(r),Za.credential(t,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&YI(r),s})}function KI(r,t,n,s){return _n(r).onIdTokenChanged(t,n,s)}function XI(r,t,n){return _n(r).beforeAuthStateChanged(t,n)}function $I(r,t,n,s){return _n(r).onAuthStateChanged(t,n,s)}function ZI(r){return _n(r).signOut()}const Gc="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W0{constructor(t,n){this.storageRetriever=t,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Gc,"1"),this.storage.removeItem(Gc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,n){return this.storage.setItem(t,JSON.stringify(n)),Promise.resolve()}_get(t){const n=this.storage.getItem(t);return Promise.resolve(n?JSON.parse(n):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JI=1e3,WI=10;class tT extends W0{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,n)=>this.onStorageEvent(t,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=F0(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),l=this.localCache[n];s!==l&&t(n,l,s)}}onStorageEvent(t,n=!1){if(!t.key){this.forAllChangedKeys((d,g,p)=>{this.notifyListeners(d,p)});return}const s=t.key;n?this.detachListener():this.stopPolling();const l=()=>{const d=this.storage.getItem(s);!n&&this.localCache[s]===d||this.notifyListeners(s,d)},c=this.storage.getItem(s);yI()&&c!==t.newValue&&t.newValue!==t.oldValue?setTimeout(l,WI):l()}notifyListeners(t,n){this.localCache[t]=n;const s=this.listeners[t];if(s)for(const l of Array.from(s))l(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:s}),!0)})},JI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,n){await super._set(t,n),this.localCache[t]=JSON.stringify(n)}async _get(t){const n=await super._get(t);return this.localCache[t]=JSON.stringify(n),n}async _remove(t){await super._remove(t),delete this.localCache[t]}}tT.type="LOCAL";const tC=tT;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eT extends W0{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,n){}_removeListener(t,n){}}eT.type="SESSION";const nT=eT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eC(r){return Promise.all(r.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oh{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(l=>l.isListeningto(t));if(n)return n;const s=new oh(t);return this.receivers.push(s),s}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const n=t,{eventId:s,eventType:l,data:c}=n.data,d=this.handlersMap[l];if(!(d!=null&&d.size))return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:l});const g=Array.from(d).map(async _=>_(n.origin,c)),p=await eC(g);n.ports[0].postMessage({status:"done",eventId:s,eventType:l,response:p})}_subscribe(t,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(n)}_unsubscribe(t,n){this.handlersMap[t]&&n&&this.handlersMap[t].delete(n),(!n||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}oh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hm(r="",t=10){let n="";for(let s=0;s<t;s++)n+=Math.floor(Math.random()*10);return r+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nC{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,n,s=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let c,d;return new Promise((g,p)=>{const _=Hm("",20);l.port1.start();const A=setTimeout(()=>{p(new Error("unsupported_event"))},s);d={messageChannel:l,onMessage(I){const O=I;if(O.data.eventId===_)switch(O.data.status){case"ack":clearTimeout(A),c=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),g(O.data.response);break;default:clearTimeout(A),clearTimeout(c),p(new Error("invalid_response"));break}}},this.handlers.add(d),l.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:t,eventId:_,data:n},[l.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fi(){return window}function iC(r){fi().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iT(){return typeof fi().WorkerGlobalScope<"u"&&typeof fi().importScripts=="function"}async function rC(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function sC(){var r;return((r=navigator==null?void 0:navigator.serviceWorker)===null||r===void 0?void 0:r.controller)||null}function aC(){return iT()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rT="firebaseLocalStorageDb",oC=1,Fc="firebaseLocalStorage",sT="fbase_key";class zl{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function lh(r,t){return r.transaction([Fc],t?"readwrite":"readonly").objectStore(Fc)}function lC(){const r=indexedDB.deleteDatabase(rT);return new zl(r).toPromise()}function Jd(){const r=indexedDB.open(rT,oC);return new Promise((t,n)=>{r.addEventListener("error",()=>{n(r.error)}),r.addEventListener("upgradeneeded",()=>{const s=r.result;try{s.createObjectStore(Fc,{keyPath:sT})}catch(l){n(l)}}),r.addEventListener("success",async()=>{const s=r.result;s.objectStoreNames.contains(Fc)?t(s):(s.close(),await lC(),t(await Jd()))})})}async function Ov(r,t,n){const s=lh(r,!0).put({[sT]:t,value:n});return new zl(s).toPromise()}async function uC(r,t){const n=lh(r,!1).get(t),s=await new zl(n).toPromise();return s===void 0?null:s.value}function Nv(r,t){const n=lh(r,!0).delete(t);return new zl(n).toPromise()}const cC=800,hC=3;class aT{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Jd(),this.db)}async _withRetries(t){let n=0;for(;;)try{const s=await this._openDb();return await t(s)}catch(s){if(n++>hC)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return iT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=oh._getInstance(aC()),this.receiver._subscribe("keyChanged",async(t,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(t,n)=>["keyChanged"])}async initializeSender(){var t,n;if(this.activeServiceWorker=await rC(),!this.activeServiceWorker)return;this.sender=new nC(this.activeServiceWorker);const s=await this.sender._send("ping",{},800);s&&!((t=s[0])===null||t===void 0)&&t.fulfilled&&!((n=s[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||sC()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await Jd();return await Ov(t,Gc,"1"),await Nv(t,Gc),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>Ov(s,t,n)),this.localCache[t]=n,this.notifyServiceWorker(t)))}async _get(t){const n=await this._withRetries(s=>uC(s,t));return this.localCache[t]=n,n}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(n=>Nv(n,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(l=>{const c=lh(l,!1).getAll();return new zl(c).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(t.length!==0)for(const{fbase_key:l,value:c}of t)s.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(c)&&(this.notifyListeners(l,c),n.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!s.has(l)&&(this.notifyListeners(l,null),n.push(l));return n}notifyListeners(t,n){this.localCache[t]=n;const s=this.listeners[t];if(s)for(const l of Array.from(s))l(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),cC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}aT.type="LOCAL";const fC=aT;new Ul(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dC(r,t){return t?ji(t):(gt(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gm extends jm{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Va(t,this._buildIdpRequest())}_linkToIdToken(t,n){return Va(t,this._buildIdpRequest(n))}_getReauthenticationResolver(t){return Va(t,this._buildIdpRequest())}_buildIdpRequest(t){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(n.idToken=t),n}}function mC(r){return J0(r.auth,new Gm(r),r.bypassAuthState)}function gC(r){const{auth:t,user:n}=r;return gt(n,t,"internal-error"),GI(n,new Gm(r),r.bypassAuthState)}async function pC(r){const{auth:t,user:n}=r;return gt(n,t,"internal-error"),HI(n,new Gm(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oT{constructor(t,n,s,l,c=!1){this.auth=t,this.resolver=s,this.user=l,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(t,n)=>{this.pendingPromise={resolve:t,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(t){const{urlResponse:n,sessionId:s,postBody:l,tenantId:c,error:d,type:g}=t;if(d){this.reject(d);return}const p={auth:this.auth,requestUri:n,sessionId:s,tenantId:c||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(g)(p))}catch(_){this.reject(_)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return mC;case"linkViaPopup":case"linkViaRedirect":return pC;case"reauthViaPopup":case"reauthViaRedirect":return gC;default:Gn(this.auth,"internal-error")}}resolve(t){Yi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){Yi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yC=new Ul(2e3,1e4);class Oa extends oT{constructor(t,n,s,l,c){super(t,n,l,c),this.provider=s,this.authWindow=null,this.pollId=null,Oa.currentPopupAction&&Oa.currentPopupAction.cancel(),Oa.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return gt(t,this.auth,"internal-error"),t}async onExecution(){Yi(this.filter.length===1,"Popup operations only handle one event");const t=Hm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(hi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)===null||t===void 0?void 0:t.associatedEvent)||null}cancel(){this.reject(hi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Oa.currentPopupAction=null}pollUserCancellation(){const t=()=>{var n,s;if(!((s=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||s===void 0)&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(hi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,yC.get())};t()}}Oa.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _C="pendingRedirect",bc=new Map;class vC extends oT{constructor(t,n,s=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let t=bc.get(this.auth._key());if(!t){try{const s=await EC(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(s)}catch(n){t=()=>Promise.reject(n)}bc.set(this.auth._key(),t)}return this.bypassAuthState||bc.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const n=await this.auth._redirectUserForId(t.eventId);if(n)return this.user=n,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function EC(r,t){const n=SC(t),s=AC(r);if(!await s._isAvailable())return!1;const l=await s._get(n)==="true";return await s._remove(n),l}function TC(r,t){bc.set(r._key(),t)}function AC(r){return ji(r._redirectPersistence)}function SC(r){return Sc(_C,r.config.apiKey,r.name)}async function bC(r,t,n=!1){if(jn(r.app))return Promise.reject(xr(r));const s=$a(r),l=dC(s,t),d=await new vC(s,l,n).execute();return d&&!n&&(delete d.user._redirectEventId,await s._persistUserIfCurrent(d.user),await s._setRedirectUser(null,t)),d}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wC=10*60*1e3;class RC{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(t,s)&&(n=!0,this.sendToConsumer(t,s),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!IC(t)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=t,n=!0)),n}sendToConsumer(t,n){var s;if(t.error&&!lT(t)){const l=((s=t.error.code)===null||s===void 0?void 0:s.split("auth/")[1])||"internal-error";n.onError(hi(this.auth,l))}else n.onAuthEvent(t)}isEventForConsumer(t,n){const s=n.eventId===null||!!t.eventId&&t.eventId===n.eventId;return n.filter.includes(t.type)&&s}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=wC&&this.cachedEventUids.clear(),this.cachedEventUids.has(Mv(t))}saveEventToCache(t){this.cachedEventUids.add(Mv(t)),this.lastProcessedEventTime=Date.now()}}function Mv(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(t=>t).join("-")}function lT({type:r,error:t}){return r==="unknown"&&(t==null?void 0:t.code)==="auth/no-auth-event"}function IC(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return lT(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function CC(r,t={}){return Br(r,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DC=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,OC=/^https?/;async function NC(r){if(r.config.emulator)return;const{authorizedDomains:t}=await CC(r);for(const n of t)try{if(MC(n))return}catch{}Gn(r,"unauthorized-domain")}function MC(r){const t=$d(),{protocol:n,hostname:s}=new URL(t);if(r.startsWith("chrome-extension://")){const d=new URL(r);return d.hostname===""&&s===""?n==="chrome-extension:"&&r.replace("chrome-extension://","")===t.replace("chrome-extension://",""):n==="chrome-extension:"&&d.hostname===s}if(!OC.test(n))return!1;if(DC.test(r))return s===r;const l=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xC=new Ul(3e4,6e4);function xv(){const r=fi().___jsl;if(r!=null&&r.H){for(const t of Object.keys(r.H))if(r.H[t].r=r.H[t].r||[],r.H[t].L=r.H[t].L||[],r.H[t].r=[...r.H[t].L],r.CP)for(let n=0;n<r.CP.length;n++)r.CP[n]=null}}function VC(r){return new Promise((t,n)=>{var s,l,c;function d(){xv(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{xv(),n(hi(r,"network-request-failed"))},timeout:xC.get()})}if(!((l=(s=fi().gapi)===null||s===void 0?void 0:s.iframes)===null||l===void 0)&&l.Iframe)t(gapi.iframes.getContext());else if(!((c=fi().gapi)===null||c===void 0)&&c.load)d();else{const g=RI("iframefcb");return fi()[g]=()=>{gapi.load?d():n(hi(r,"network-request-failed"))},Q0(`${wI()}?onload=${g}`).catch(p=>n(p))}}).catch(t=>{throw wc=null,t})}let wc=null;function PC(r){return wc=wc||VC(r),wc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kC=new Ul(5e3,15e3),UC="__/auth/iframe",LC="emulator/auth/iframe",zC={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},BC=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function jC(r){const t=r.config;gt(t.authDomain,r,"auth-domain-config-required");const n=t.emulator?Lm(t,LC):`https://${r.config.authDomain}/${UC}`,s={apiKey:t.apiKey,appName:r.name,v:Fa},l=BC.get(r.config.apiHost);l&&(s.eid=l);const c=r._getFrameworks();return c.length&&(s.fw=c.join(",")),`${n}?${Ml(s).slice(1)}`}async function qC(r){const t=await PC(r),n=fi().gapi;return gt(n,r,"internal-error"),t.open({where:document.body,url:jC(r),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:zC,dontclear:!0},s=>new Promise(async(l,c)=>{await s.restyle({setHideOnLeave:!1});const d=hi(r,"network-request-failed"),g=fi().setTimeout(()=>{c(d)},kC.get());function p(){fi().clearTimeout(g),l(s)}s.ping(p).then(p,()=>{c(d)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HC={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},GC=500,FC=600,YC="_blank",QC="http://localhost";class Vv{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function KC(r,t,n,s=GC,l=FC){const c=Math.max((window.screen.availHeight-l)/2,0).toString(),d=Math.max((window.screen.availWidth-s)/2,0).toString();let g="";const p=Object.assign(Object.assign({},HC),{width:s.toString(),height:l.toString(),top:c,left:d}),_=Ze().toLowerCase();n&&(g=B0(_)?YC:n),L0(_)&&(t=t||QC,p.scrollbars="yes");const A=Object.entries(p).reduce((O,[H,X])=>`${O}${H}=${X},`,"");if(pI(_)&&g!=="_self")return XC(t||"",g),new Vv(null);const I=window.open(t||"",g,A);gt(I,r,"popup-blocked");try{I.focus()}catch{}return new Vv(I)}function XC(r,t){const n=document.createElement("a");n.href=r,n.target=t;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $C="__/auth/handler",ZC="emulator/auth/handler",JC=encodeURIComponent("fac");async function Pv(r,t,n,s,l,c){gt(r.config.authDomain,r,"auth-domain-config-required"),gt(r.config.apiKey,r,"invalid-api-key");const d={apiKey:r.config.apiKey,appName:r.name,authType:n,redirectUrl:s,v:Fa,eventId:l};if(t instanceof $0){t.setDefaultLanguage(r.languageCode),d.providerId=t.providerId||"",pS(t.getCustomParameters())||(d.customParameters=JSON.stringify(t.getCustomParameters()));for(const[A,I]of Object.entries({}))d[A]=I}if(t instanceof Ll){const A=t.getScopes().filter(I=>I!=="");A.length>0&&(d.scopes=A.join(","))}r.tenantId&&(d.tid=r.tenantId);const g=d;for(const A of Object.keys(g))g[A]===void 0&&delete g[A];const p=await r._getAppCheckToken(),_=p?`#${JC}=${encodeURIComponent(p)}`:"";return`${WC(r)}?${Ml(g).slice(1)}${_}`}function WC({config:r}){return r.emulator?Lm(r,ZC):`https://${r.authDomain}/${$C}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Id="webStorageSupport";class t2{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=nT,this._completeRedirectFn=bC,this._overrideRedirectResult=TC}async _openPopup(t,n,s,l){var c;Yi((c=this.eventManagers[t._key()])===null||c===void 0?void 0:c.manager,"_initialize() not called before _openPopup()");const d=await Pv(t,n,s,$d(),l);return KC(t,d,Hm())}async _openRedirect(t,n,s,l){await this._originValidation(t);const c=await Pv(t,n,s,$d(),l);return iC(c),new Promise(()=>{})}_initialize(t){const n=t._key();if(this.eventManagers[n]){const{manager:l,promise:c}=this.eventManagers[n];return l?Promise.resolve(l):(Yi(c,"If manager is not set, promise should be"),c)}const s=this.initAndGetManager(t);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(t){const n=await qC(t),s=new RC(t);return n.register("authEvent",l=>(gt(l==null?void 0:l.authEvent,t,"invalid-auth-event"),{status:s.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:s},this.iframes[t._key()]=n,s}_isIframeWebStorageSupported(t,n){this.iframes[t._key()].send(Id,{type:Id},l=>{var c;const d=(c=l==null?void 0:l[0])===null||c===void 0?void 0:c[Id];d!==void 0&&n(!!d),Gn(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=NC(t)),this.originValidationPromises[n]}get _shouldInitProactively(){return F0()||z0()||Bm()}}const e2=t2;var kv="@firebase/auth",Uv="1.10.7";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n2{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)===null||t===void 0?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const n=this.auth.onIdTokenChanged(s=>{t((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){gt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i2(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function r2(r){Pa(new ws("auth",(t,{options:n})=>{const s=t.getProvider("app").getImmediate(),l=t.getProvider("heartbeat"),c=t.getProvider("app-check-internal"),{apiKey:d,authDomain:g}=s.options;gt(d&&!d.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:d,authDomain:g,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Y0(r)},_=new AI(s,l,c,p);return MI(_,n),_},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,s)=>{t.getProvider("auth-internal").initialize()})),Pa(new ws("auth-internal",t=>{const n=$a(t.getProvider("auth").getImmediate());return(s=>new n2(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Or(kv,Uv,i2(r)),Or(kv,Uv,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s2=5*60,a2=Fv("authIdTokenMaxAge")||s2;let Lv=null;const o2=r=>async t=>{const n=t&&await t.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>a2)return;const l=n==null?void 0:n.token;Lv!==l&&(Lv=l,await fetch(r,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function l2(r=Zv()){const t=im(r,"auth");if(t.isInitialized())return t.getImmediate();const n=NI(r,{popupRedirectResolver:e2,persistence:[fC,tC,nT]}),s=Fv("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(s,location.origin);if(location.origin===c.origin){const d=o2(c.toString());XI(n,d,()=>d(n.currentUser)),KI(n,g=>d(g))}}const l=Hv("auth");return l&&xI(n,`http://${l}`),n}function u2(){var r,t;return(t=(r=document.getElementsByTagName("head"))===null||r===void 0?void 0:r[0])!==null&&t!==void 0?t:document}SI({loadJS(r){return new Promise((t,n)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=t,s.onerror=l=>{const c=hi("internal-error");c.customData=l,n(c)},s.type="text/javascript",s.charset="UTF-8",u2().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});r2("Browser");const c2={apiKey:"AIzaSyCsyLKCcmTzGD2X8Fezi7K5fE_dq8Udcro",authDomain:"instant-reward-app-6369d.firebaseapp.com",projectId:"instant-reward-app-6369d",storageBucket:"instant-reward-app-6369d.firebasestorage.app",messagingSenderId:"732474692220",appId:"1:732474692220:web:482bb2a477cfc7c3246ff9"},h2=$v(c2),uT=OR(h2),Fm=l2();function f2({queryFn:r,onSuccess:t}){const[n,s]=ie.useState(!1),[l,c]=ie.useState(!1);async function d(){try{s(!0),c(!1);const g=await r();t(g),c(!1)}catch(g){console.log(g),c(!0)}finally{s(!1)}}return{isLoading:n,error:l,setError:c,query:d}}async function d2(){const r=await FR(_0(uT,"appData","rewardData"));if(!r.exists())throw new Error("No such document");return r.data()}async function m2(r){return await QR(_0(uT,"appData","rewardData"),r)}function g2({mutationFn:r,onSuccess:t}){const[n,s]=ie.useState(!1),[l,c]=ie.useState(!1);async function d(g){try{s(!0),c(!1),await r(g),c(!1),t()}catch(p){console.log(p),c(!0)}finally{s(!1)}}return{isLoading:n,error:l,setError:c,mutate:d}}const p2=[10,20,50,100,200,500,1e3,2e3,5e3,1e4,2e4,5e4];function vl(r,t,n=100){return Math.floor(n*Math.pow(r,t))}function Wd(r,t){let n=1,s=0,l=r;for(s=vl(n,t);l>s;)l=l-s,n++,s=vl(n,t);return s=l,{eXPAmountCalculate:s,eXPLevelCalculate:n}}/**
 * @license lucide-react v0.515.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y2=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),_2=r=>r.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,n,s)=>s?s.toUpperCase():n.toLowerCase()),zv=r=>{const t=_2(r);return t.charAt(0).toUpperCase()+t.slice(1)},cT=(...r)=>r.filter((t,n,s)=>!!t&&t.trim()!==""&&s.indexOf(t)===n).join(" ").trim(),v2=r=>{for(const t in r)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.515.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var E2={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.515.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T2=ie.forwardRef(({color:r="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:s,className:l="",children:c,iconNode:d,...g},p)=>ie.createElement("svg",{ref:p,...E2,width:t,height:t,stroke:r,strokeWidth:s?Number(n)*24/Number(t):n,className:cT("lucide",l),...!c&&!v2(g)&&{"aria-hidden":"true"},...g},[...d.map(([_,A])=>ie.createElement(_,A)),...Array.isArray(c)?c:[c]]));/**
 * @license lucide-react v0.515.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uh=(r,t)=>{const n=ie.forwardRef(({className:s,...l},c)=>ie.createElement(T2,{ref:c,iconNode:t,className:cT(`lucide-${y2(zv(r))}`,`lucide-${r}`,s),...l}));return n.displayName=zv(r),n};/**
 * @license lucide-react v0.515.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A2=[["path",{d:"M12 13v8l-4-4",key:"1f5nwf"}],["path",{d:"m12 21 4-4",key:"1lfcce"}],["path",{d:"M4.393 15.269A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.436 8.284",key:"ui1hmy"}]],S2=uh("cloud-download",A2);/**
 * @license lucide-react v0.515.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b2=[["path",{d:"M12 13v8",key:"1l5pq0"}],["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"m8 17 4-4 4 4",key:"1quai1"}]],w2=uh("cloud-upload",b2);/**
 * @license lucide-react v0.515.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R2=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],I2=uh("loader-circle",R2);/**
 * @license lucide-react v0.515.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C2=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],D2=uh("log-out",C2);function O2({progressBarPercentage:r}){return it.jsx("div",{className:"relative h-3 w-full rounded-full bg-stone-600 lg:h-5",children:it.jsx("div",{className:"absolute top-0 left-0 h-3 rounded-full bg-yellow-600 lg:h-5",style:{width:`${r}%`}})})}function pc({text:r,handleConfirmModal:t,handleCancelModal:n}){function s(l){l.target.tagName==="SECTION"||l.target.tagName==="BUTTON"&&l.target.textContent.toLowerCase()==="cancel"?n():l.target.tagName==="BUTTON"&&l.target.textContent.toLowerCase()==="confirm"&&t()}return it.jsx("section",{onClick:s,className:"absolute inset-0 bg-stone-950/70 flex items-center justify-center text-yellow-400 px-6",children:it.jsxs("div",{className:"bg-stone-700 min-w-2xs rounded-xl p-6 xs:min-w-sm lg:min-w-md",children:[it.jsx("h3",{className:"text-lg font-semibold xs:text-xl lg:text-2xl",children:r}),it.jsxs("div",{className:"mt-6 text-right space-x-3 xs:mt-8 xs:space-x-5 lg:mt-10 lg:space-x-7",children:[it.jsx("button",{className:"border border-yellow-700 py-2 px-4 rounded-lg text-sm xs:text-lg lg:text-xl",children:"Confirm"}),it.jsx("button",{className:"border border-yellow-700 py-2 px-4 rounded-lg text-sm xs:text-lg lg:text-xl",children:"Cancel"})]})]})})}function Cd({errorMessage:r,setError:t}){function n(s){(s.target.tagName==="SECTION"||s.target.tagName==="BUTTON"&&s.target.textContent.toLowerCase()==="close")&&t(!1)}return it.jsx("section",{onClick:n,className:"absolute inset-0 bg-stone-950/70 flex items-center justify-center text-yellow-400 px-6",children:it.jsxs("div",{className:"bg-stone-700 min-w-2xs rounded-xl p-6 xs:min-w-sm lg:min-w-md",children:[it.jsx("h3",{className:"text-lg font-semibold xs:text-xl lg:text-2xl",children:r}),it.jsx("div",{className:"mt-6 text-right xs:mt-8 lg:mt-10",children:it.jsx("button",{className:"border border-yellow-700 py-2 px-4 rounded-lg text-sm xs:text-lg lg:text-xl",children:"Close"})})]})})}function N2({className:r,...t}){return it.jsx(I2,{...t,className:`animate-spin ${r}`})}function M2(){return it.jsx("section",{className:"absolute inset-0 bg-stone-950/70 flex items-center justify-center",children:it.jsx(N2,{className:"text-yellow-400",size:64})})}const li=JSON.parse(localStorage.getItem("appData"))||{moneyAmount:0,exponent:1.05,dataAhead:!1},{eXPAmountCalculate:x2,eXPLevelCalculate:V2}=Wd(li.moneyAmount,li.exponent);li.eXPAmount=x2;li.eXPLevel=V2;function P2(){var on,Vn;const[r,t]=ie.useState(li.moneyAmount),[n,s]=ie.useState(li.eXPAmount),[l,c]=ie.useState(li.eXPLevel),d=ie.useRef(),[g,p]=ie.useState(!1),[_,A]=ie.useState(!1),[I,O]=ie.useState(!1),[H,X]=ie.useState(!1),nt=ie.useRef(0),[Z,Tt]=ie.useState(li.dataAhead),[ct,lt]=ie.useState(!1),St=(on=d==null?void 0:d.current)!=null&&on.value?Number((Vn=d==null?void 0:d.current)==null?void 0:Vn.value):li.exponent,{isLoading:vt,error:Dt,setError:M,query:S}=f2({queryFn:d2,onSuccess:Zt=>{t(Zt.moneyAmount);const{eXPAmountCalculate:He,eXPLevelCalculate:Ge}=Wd(Zt.moneyAmount,Zt.exponent);s(He),c(Ge);const ln={moneyAmount:Zt.moneyAmount,exponent:Zt.exponent,dataAhead:!1};localStorage.setItem("appData",JSON.stringify(ln)),Tt(!1)}}),{mutate:w,isLoading:N,setError:x,error:P}=g2({mutationFn:m2,onSuccess:()=>S()}),R=new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(r),me=vl(l,St),te=Math.trunc(n/me*100);function q(Zt){nt.current=Zt,p(!0)}function tt(){const Zt=r+Number(nt.current);t(Zt);let He=n+Number(nt.current),Ge=l;for(;He>=vl(Ge,St);)He-=vl(Ge,St),Ge++;s(He),c(Ge),p(!1),Tt(!0);const ln={moneyAmount:Zt,exponent:St,dataAhead:!0};localStorage.setItem("appData",JSON.stringify(ln))}function at(){nt.current=0,p(!1)}function Lt(){A(!0)}function C(){if(A(!1),!navigator.onLine){x(!0);return}w({moneyAmount:r,exponent:St})}function K(){A(!1)}function et(){if(Z)return lt(!0);O(!0)}function J(){O(!1),S()}function ut(){O(!1)}function wt(){X(!0)}function pt(){X(!1),ZI(Fm)}function ge(){X(!1)}function Yt(){const Zt=Number(d.current.value),He=Zt<1||Number.isNaN(Zt)?"1":d.current.value,{eXPAmountCalculate:Ge,eXPLevelCalculate:ln}=Wd(r,Number(He));s(Ge),c(ln);const jr={moneyAmount:r,exponent:Number(He),dataAhead:!1};localStorage.setItem("appData",JSON.stringify(jr))}return it.jsxs(it.Fragment,{children:[it.jsx("main",{className:`min-h-dvh bg-stone-800 px-4 py-8 text-yellow-400 md:flex md:place-items-center ${(g||_||I||H)&&"blur-xs"}`,children:it.jsxs("div",{className:"mx-auto sm:max-w-xl md:max-w-2xl lg:max-w-3xl",children:[it.jsxs("div",{className:"flex flex-col gap-y-3 lg:flex-row lg:items-center",children:[it.jsx("h1",{className:"text-center text-lg font-bold xs:text-2xl lg:text-3xl",children:"Your Future Money"}),it.jsxs("div",{className:"flex flex-wrap items-center justify-center gap-2 xs:mt-2 lg:ms-auto lg:gap-4",children:[it.jsxs("button",{onClick:Lt,className:"relative flex items-center gap-2 rounded-md bg-stone-700 px-2 py-1 xs:text-lg lg:text-xl",children:[it.jsx("span",{children:"Upload"}),it.jsx(w2,{}),Z&&it.jsx("span",{className:"absolute -top-1 -right-1 size-3 rounded-full bg-amber-700"})]}),it.jsxs("button",{onClick:et,className:"flex items-center gap-2 rounded-md bg-stone-700 px-2 py-1 xs:text-lg lg:text-xl",children:[it.jsx("span",{children:"Download"}),it.jsx(S2,{})]}),it.jsxs("button",{onClick:wt,className:"flex items-center gap-2 rounded-md bg-stone-700 px-2 py-1 xs:text-lg lg:text-xl",children:[it.jsx("span",{children:"Logout"}),it.jsx(D2,{})]})]})]}),it.jsx("p",{className:"mt-8 rounded-md bg-stone-700 p-4 text-center text-4xl font-bold text-amber-700 xs:text-5xl lg:text-6xl",children:it.jsx("span",{className:"break-all",children:R})}),it.jsxs("section",{className:"mt-8 flex flex-col gap-y-3",children:[it.jsxs("h2",{className:"flex justify-between xs:text-lg lg:text-xl",children:["Lifetime EXP ",it.jsxs("span",{children:["Level ",l]})]}),it.jsx(O2,{progressBarPercentage:te}),it.jsxs("p",{className:"text-sm text-yellow-700 xs:text-base lg:text-lg",children:[it.jsx("span",{children:n}),"/",it.jsx("span",{children:me})]})]}),it.jsxs("section",{className:"mt-8 space-x-3 text-lg font-bold xs:text-xl lg:mt-10 lg:text-2xl",children:[it.jsx("label",{htmlFor:"exponent",className:"",children:"Exponent:"}),it.jsx("input",{ref:d,type:"text",defaultValue:li.exponent,id:"exponent",className:"max-w-1/9 rounded-md border-2 border-stone-600 px-4 py-2 transition outline-none focus:border-yellow-700"}),it.jsx("button",{className:"min-w-[80px] rounded-xl bg-stone-700 px-4 py-2 xs:min-w-[100px]",onClick:Yt,children:"Change"})]}),it.jsxs("section",{className:"mt-8 lg:mt-10",children:[it.jsx("h2",{className:"text-lg font-bold xs:text-xl lg:text-2xl",children:"Did Good Thing"}),it.jsx("article",{className:"mt-4 flex flex-wrap gap-x-6 gap-y-4 xs:text-xl md:gap-x-3 lg:gap-x-8 lg:text-2xl",children:p2.map(Zt=>it.jsxs("button",{className:"min-w-[80px] rounded-xl bg-stone-700 px-4 py-2 xs:min-w-[100px]",onClick:()=>q(Zt),children:["+",Zt]},Zt+"add"))})]})]})}),(vt||N)&&it.jsx(M2,{}),Dt&&it.jsx(Cd,{errorMessage:"Something Went Wrong With Fetching!",setError:M}),P&&it.jsx(Cd,{errorMessage:"Something Went Wrong With Setting!",setError:x}),ct&&it.jsx(Cd,{errorMessage:"You Have To Upload Data First!",setError:lt}),g?it.jsx(pc,{text:"Have You Done Something?",handleConfirmModal:tt,handleCancelModal:at}):null,_?it.jsx(pc,{text:"Do You Want To Upload?",handleConfirmModal:C,handleCancelModal:K}):null,I?it.jsx(pc,{text:"Do You Want To Download?",handleConfirmModal:J,handleCancelModal:ut}):null,H?it.jsx(pc,{text:"Do You Want To Logout?",handleConfirmModal:pt,handleCancelModal:ge}):null]})}function k2(){const[r,t]=ie.useState("");async function n(s){s.preventDefault();const l=new FormData(s.target),c=l.get("email"),d=l.get("password");try{await QI(Fm,c,d),t("")}catch(g){t(g.message)}}return it.jsx("main",{className:"flex min-h-dvh items-center justify-center bg-stone-800 px-4 py-8 text-yellow-400",children:it.jsxs("form",{onSubmit:n,className:"grid w-5/6 max-w-xs gap-y-5 rounded-2xl bg-stone-900/70 px-4 py-6 text-center shadow-xl sm:max-w-sm sm:gap-y-7 sm:px-6 sm:py-8 sm:shadow-2xl lg:max-w-md lg:px-8 lg:py-10",children:[it.jsx("h2",{className:"text-xl font-semibold sm:text-2xl lg:text-3xl",children:"Login Form"}),it.jsx("input",{name:"email",type:"email",placeholder:"Email",className:"h-9 rounded-md border border-yellow-400 px-3 py-2 text-sm sm:py-5 sm:text-base lg:h-12 lg:text-lg"}),it.jsx("input",{name:"password",type:"password",placeholder:"Password",className:"h-9 rounded-md border border-yellow-400 px-3 py-2 text-sm sm:py-5 sm:text-base lg:h-12 lg:text-lg"}),it.jsx("button",{type:"submit",className:"inline-flex h-10 items-center justify-center rounded-md bg-yellow-400 px-4 py-2 text-sm font-medium whitespace-nowrap text-stone-800 capitalize sm:py-5 sm:text-base lg:py-6 lg:text-lg",children:"Login"}),r.includes("invalid")&&it.jsx("span",{className:"text-sm text-red-600 lg:text-lg",children:"Wrong email or password!"}),r.includes("network")&&it.jsx("span",{className:"text-sm text-red-600 lg:text-lg",children:"You are having network problem!"})]})})}function U2(){const[r,t]=ie.useState(null);return ie.useEffect(()=>{const n=$I(Fm,s=>{t(s)});return()=>{n()}},[]),r?it.jsx(P2,{}):it.jsx(k2,{})}GA.createRoot(document.getElementById("root")).render(it.jsx(ie.StrictMode,{children:it.jsx(U2,{})}));
